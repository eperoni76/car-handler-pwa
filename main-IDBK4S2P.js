var ck=Object.defineProperty,uk=Object.defineProperties;var lk=Object.getOwnPropertyDescriptors;var Nl=Object.getOwnPropertySymbols;var Ib=Object.prototype.hasOwnProperty,wb=Object.prototype.propertyIsEnumerable;var Eb=(t,e,n)=>e in t?ck(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})Ib.call(e,n)&&Eb(t,n,e[n]);if(Nl)for(var n of Nl(e))wb.call(e,n)&&Eb(t,n,e[n]);return t},ee=(t,e)=>uk(t,lk(e));var Cb=(t,e)=>{var n={};for(var r in t)Ib.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Nl)for(var r of Nl(t))e.indexOf(r)<0&&wb.call(t,r)&&(n[r]=t[r]);return n};var jg;function Pl(){return jg}function Yn(t){let e=jg;return jg=t,e}var bb=Symbol("NotFound");function ns(t){return t===bb||t?.name==="\u0275NotFound"}var Rt=null,Ol=!1,Ug=1,dk=null,Mt=Symbol("SIGNAL");function se(t){let e=Rt;return Rt=t,e}function Ll(){return Rt}var rs={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function is(t){if(Ol)throw new Error("");if(Rt===null)return;Rt.consumerOnSignalRead(t);let e=Rt.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Rt.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Rt.producers,n!==void 0&&n.producer===t)){Rt.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Rt&&(!r||fk(i,Rt)))return;let o=ss(Rt),s={producer:t,consumer:Rt,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Rt.producersTail=s,e!==void 0?e.nextProducer=s:Rt.producers=s,o&&Ab(t,s)}function Tb(){Ug++}function Vl(t){if(!(ss(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ug)){if(!t.producerMustRecompute(t)&&!dc(t)){Fl(t);return}t.producerRecomputeValue(t),Fl(t)}}function Bg(t){if(t.consumers===void 0)return;let e=Ol;Ol=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||hk(r)}}finally{Ol=e}}function $g(){return Rt?.consumerAllowSignalWrites!==!1}function hk(t){t.dirty=!0,Bg(t),t.consumerMarkedDirty?.(t)}function Fl(t){t.dirty=!1,t.lastCleanEpoch=Ug}function os(t){return t&&Db(t),se(t)}function Db(t){t.producersTail=void 0,t.recomputing=!0}function lc(t,e){se(e),t&&Sb(t)}function Sb(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ss(t))do n=Hg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function dc(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Vl(n),r!==n.version))return!0}return!1}function hc(t){if(ss(t)){let e=t.producers;for(;e!==void 0;)e=Hg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function Ab(t,e){let n=t.consumersTail,r=ss(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)Ab(i.producer,i)}function Hg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ss(e)){let o=e.producers;for(;o!==void 0;)o=Hg(o)}return n}function ss(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function jl(t){dk?.(t)}function fk(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function Ul(t,e){return Object.is(t,e)}function Bl(t,e){let n=Object.create(pk);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Vl(n),is(n),n.value===uc)throw n.error;return n.value};return r[Mt]=n,jl(n),r}var xl=Symbol("UNSET"),kl=Symbol("COMPUTING"),uc=Symbol("ERRORED"),pk=ee(O({},rs),{value:xl,dirty:!0,error:null,equal:Ul,kind:"computed",producerMustRecompute(t){return t.value===xl||t.value===kl},producerRecomputeValue(t){if(t.value===kl)throw new Error("");let e=t.value;t.value=kl;let n=os(t),r,i=!1;try{r=t.computation(),se(null),i=e!==xl&&e!==uc&&r!==uc&&t.equal(e,r)}catch(o){r=uc,t.error=o}finally{lc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function gk(){throw new Error}var Rb=gk;function Mb(t){Rb(t)}function zg(t){Rb=t}var mk=null;function qg(t,e){let n=Object.create($l);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Nb(n);return r[Mt]=n,jl(n),[r,s=>as(n,s),s=>Gg(n,s)]}function Nb(t){return is(t),t.value}function as(t,e){$g()||Mb(t),t.equal(t.value,e)||(t.value=e,yk(t))}function Gg(t,e){$g()||Mb(t),as(t,e(t.value))}var $l=ee(O({},rs),{equal:Ul,value:void 0,kind:"signal"});function yk(t){t.version++,Tb(),Bg(t),mk?.(t)}function ae(t){return typeof t=="function"}function cs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Hl=cs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Bi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var je=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ae(r))try{r()}catch(o){e=o instanceof Hl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Pb(o)}catch(s){e=e??[],s instanceof Hl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Hl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Pb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Bi(n,e)}remove(e){let{_finalizers:n}=this;n&&Bi(n,e),e instanceof t&&e._removeParent(this)}};je.EMPTY=(()=>{let t=new je;return t.closed=!0,t})();var Wg=je.EMPTY;function zl(t){return t instanceof je||t&&"closed"in t&&ae(t.remove)&&ae(t.add)&&ae(t.unsubscribe)}function Pb(t){ae(t)?t():t.unsubscribe()}var On={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var us={setTimeout(t,e,...n){let{delegate:r}=us;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=us;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ql(t){us.setTimeout(()=>{let{onUnhandledError:e}=On;if(e)e(t);else throw t})}function $i(){}var Ob=Kg("C",void 0,void 0);function xb(t){return Kg("E",void 0,t)}function kb(t){return Kg("N",t,void 0)}function Kg(t,e,n){return{kind:t,value:e,error:n}}var Hi=null;function ls(t){if(On.useDeprecatedSynchronousErrorHandling){let e=!Hi;if(e&&(Hi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Hi;if(Hi=null,n)throw r}}else t()}function Fb(t){On.useDeprecatedSynchronousErrorHandling&&Hi&&(Hi.errorThrown=!0,Hi.error=t)}var zi=class extends je{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,zl(e)&&e.add(this)):this.destination=Ek}static create(e,n,r){return new ds(e,n,r)}next(e){this.isStopped?Yg(kb(e),this):this._next(e)}error(e){this.isStopped?Yg(xb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Yg(Ob,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},vk=Function.prototype.bind;function Qg(t,e){return vk.call(t,e)}var Zg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Gl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Gl(r)}else Gl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Gl(n)}}},ds=class extends zi{constructor(e,n,r){super();let i;if(ae(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&On.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Qg(e.next,o),error:e.error&&Qg(e.error,o),complete:e.complete&&Qg(e.complete,o)}):i=e}this.destination=new Zg(i)}};function Gl(t){On.useDeprecatedSynchronousErrorHandling?Fb(t):ql(t)}function _k(t){throw t}function Yg(t,e){let{onStoppedNotification:n}=On;n&&us.setTimeout(()=>n(t,e))}var Ek={closed:!0,next:$i,error:_k,complete:$i};var hs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function tn(t){return t}function Wl(...t){return Jg(t)}function Jg(t){return t.length===0?tn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var J=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=wk(n)?n:new ds(n,r,i);return ls(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Lb(r),new r((i,o)=>{let s=new ds({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[hs](){return this}pipe(...n){return Jg(n)(this)}toPromise(n){return n=Lb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Lb(t){var e;return(e=t??On.Promise)!==null&&e!==void 0?e:Promise}function Ik(t){return t&&ae(t.next)&&ae(t.error)&&ae(t.complete)}function wk(t){return t&&t instanceof zi||Ik(t)&&zl(t)}function Xg(t){return ae(t?.lift)}function me(t){return e=>{if(Xg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function he(t,e,n,r,i){return new em(t,e,n,r,i)}var em=class extends zi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fs(){return me((t,e)=>{let n=null;t._refCount++;let r=he(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ps=class extends J{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Xg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new je;let n=this.getSubject();e.add(this.source.subscribe(he(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=je.EMPTY)}return e}refCount(){return fs()(this)}};var Vb=cs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Oe=(()=>{class t extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Kl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Vb}next(n){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ls(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wg:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,Bi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new J;return n.source=this,n}}return t.create=(e,n)=>new Kl(e,n),t})(),Kl=class extends Oe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Wg}};var yt=class extends Oe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tm={now(){return(tm.delegate||Date).now()},delegate:void 0};var Ql=class extends je{constructor(e,n){super()}schedule(e,n=0){return this}};var fc={setInterval(t,e,...n){let{delegate:r}=fc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=fc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var gs=class extends Ql{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return fc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&fc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Bi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ms=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ms.now=tm.now;var ys=class extends ms{constructor(e,n=ms.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var nm=new ys(gs);var Yl=class extends gs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Zl=class extends ys{};var rm=new Zl(Yl);var qt=new J(t=>t.complete());function jb(t){return t&&ae(t.schedule)}function Ub(t){return t[t.length-1]}function Jl(t){return ae(Ub(t))?t.pop():void 0}function ni(t){return jb(Ub(t))?t.pop():void 0}function im(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $b(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Bb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qi(t){return this instanceof qi?(this.v=t,this):new qi(t)}function Hb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,k){o.push([y,M,R,k])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof qi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function zb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Bb=="function"?Bb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Xl=t=>t&&typeof t.length=="number"&&typeof t!="function";function ed(t){return ae(t?.then)}function td(t){return ae(t[hs])}function nd(t){return Symbol.asyncIterator&&ae(t?.[Symbol.asyncIterator])}function rd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Ck(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var id=Ck();function od(t){return ae(t?.[id])}function sd(t){return Hb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qi(n.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{n.releaseLock()}})}function ad(t){return ae(t?.getReader)}function Ke(t){if(t instanceof J)return t;if(t!=null){if(td(t))return bk(t);if(Xl(t))return Tk(t);if(ed(t))return Dk(t);if(nd(t))return qb(t);if(od(t))return Sk(t);if(ad(t))return Ak(t)}throw rd(t)}function bk(t){return new J(e=>{let n=t[hs]();if(ae(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Tk(t){return new J(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Dk(t){return new J(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ql)})}function Sk(t){return new J(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function qb(t){return new J(e=>{Rk(t,e).catch(n=>e.error(n))})}function Ak(t){return qb(sd(t))}function Rk(t,e){var n,r,i,o;return $b(this,void 0,void 0,function*(){try{for(n=zb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ri(t,e=0){return me((n,r)=>{n.subscribe(he(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function ii(t,e=0){return me((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Gb(t,e){return Ke(t).pipe(ii(e),ri(e))}function Wb(t,e){return Ke(t).pipe(ii(e),ri(e))}function Kb(t,e){return new J(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Qb(t,e){return new J(n=>{let r;return Gt(n,e,()=>{r=t[id](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ae(r?.return)&&r.return()})}function cd(t,e){if(!t)throw new Error("Iterable cannot be null");return new J(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Yb(t,e){return cd(sd(t),e)}function Zb(t,e){if(t!=null){if(td(t))return Gb(t,e);if(Xl(t))return Kb(t,e);if(ed(t))return Wb(t,e);if(nd(t))return cd(t,e);if(od(t))return Qb(t,e);if(ad(t))return Yb(t,e)}throw rd(t)}function Re(t,e){return e?Zb(t,e):Ke(t)}function q(...t){let e=ni(t);return Re(t,e)}function vs(t,e){let n=ae(t)?t:()=>t,r=i=>i.error(n());return new J(e?i=>e.schedule(r,0,i):r)}function om(t){return!!t&&(t instanceof J||ae(t.lift)&&ae(t.subscribe))}var Dr=cs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function H(t,e){return me((n,r)=>{let i=0;n.subscribe(he(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Mk}=Array;function Nk(t,e){return Mk(e)?t(...e):t(e)}function ud(t){return H(e=>Nk(t,e))}var{isArray:Pk}=Array,{getPrototypeOf:Ok,prototype:xk,keys:kk}=Object;function ld(t){if(t.length===1){let e=t[0];if(Pk(e))return{args:e,keys:null};if(Fk(e)){let n=kk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Fk(t){return t&&typeof t=="object"&&Ok(t)===xk}function dd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function hd(...t){let e=ni(t),n=Jl(t),{args:r,keys:i}=ld(t);if(r.length===0)return Re([],e);let o=new J(Lk(r,e,i?s=>dd(i,s):tn));return n?o.pipe(ud(n)):o}function Lk(t,e,n=tn){return r=>{Jb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Jb(e,()=>{let l=Re(t[u],e),h=!1;l.subscribe(he(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Jb(t,e,n){t?Gt(n,t,e):e()}function Xb(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;Ke(n(M,h++)).subscribe(he(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?Gt(e,s,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(he(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Qe(t,e,n=1/0){return ae(e)?Qe((r,i)=>H((o,s)=>e(r,o,i,s))(Ke(t(r,i))),n):(typeof e=="number"&&(n=e),me((r,i)=>Xb(r,i,t,n)))}function _s(t=1/0){return Qe(tn,t)}function eT(){return _s(1)}function Es(...t){return eT()(Re(t,ni(t)))}function pc(t){return new J(e=>{Ke(t()).subscribe(e)})}function sm(...t){let e=Jl(t),{args:n,keys:r}=ld(t),i=new J(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Ke(n[h]).subscribe(he(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?dd(r,a):a),o.complete())}))}});return e?i.pipe(ud(e)):i}var Sr=new J($i);function Ye(t,e){return me((n,r)=>{let i=0;n.subscribe(he(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Wt(t){return me((e,n)=>{let r=null,i=!1,o;r=e.subscribe(he(n,void 0,void 0,s=>{o=Ke(t(s,Wt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function tT(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(he(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Gi(t,e){return ae(e)?Qe(t,e,1):Qe(t,1)}function oi(t){return me((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ut(t){return t<=0?()=>qt:me((e,n)=>{let r=0;e.subscribe(he(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function fd(t=Vk){return me((e,n)=>{let r=!1;e.subscribe(he(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Vk(){return new Dr}function gc(t){return me((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Ar(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ye((i,o)=>t(i,o,r)):tn,Ut(1),n?oi(e):fd(()=>new Dr))}function Is(t){return t<=0?()=>qt:me((e,n)=>{let r=[];e.subscribe(he(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function am(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ye((i,o)=>t(i,o,r)):tn,Is(1),n?oi(e):fd(()=>new Dr))}function pd(t,e){return me(tT(t,e,arguments.length>=2,!0))}function gd(...t){let e=ni(t);return me((n,r)=>{(e?Es(t,n,e):Es(t,n)).subscribe(r)})}function st(t,e){return me((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(he(r,u=>{i?.unsubscribe();let l=0,h=o++;Ke(t(u,h)).subscribe(i=he(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function md(t){return me((e,n)=>{Ke(t).subscribe(he(n,()=>n.complete(),$i)),!n.closed&&e.subscribe(n)})}function He(t,e,n){let r=ae(t)||e||n?{next:t,error:e,complete:n}:t;return r?me((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(he(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):tn}function nT(t){let e=se(null);try{return t()}finally{se(e)}}var si=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Em=new si("20.3.15");var Ed="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",L=class extends Error{code;constructor(e,n){super(Jn(e,n)),this.code=e}};function jk(t){return`NG0${Math.abs(t)}`}function Jn(t,e){return`${jk(t)}${e?": "+e:""}`}var Cs=globalThis;function De(t){for(let e in t)if(t[e]===De)return e;throw Error("")}function oT(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Mr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(Mr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Im(t,e){return t?e?`${t} ${e}`:t:e||""}var Uk=De({__forward_ref__:De});function on(t){return t.__forward_ref__=on,t.toString=function(){return Mr(this())},t}function vt(t){return wm(t)?t():t}function wm(t){return typeof t=="function"&&t.hasOwnProperty(Uk)&&t.__forward_ref__===on}function $(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function kn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _c(t){return Bk(t,Id)}function Cm(t){return _c(t)!==null}function Bk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function $k(t){let e=t?.[Id]??null;return e||null}function um(t){return t&&t.hasOwnProperty(vd)?t[vd]:null}var Id=De({\u0275prov:De}),vd=De({\u0275inj:De}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=$({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function bm(t){return t&&!!t.\u0275providers}var Tm=De({\u0275cmp:De}),Dm=De({\u0275dir:De}),Sm=De({\u0275pipe:De}),Am=De({\u0275mod:De}),yc=De({\u0275fac:De}),Ji=De({__NG_ELEMENT_ID__:De}),rT=De({__NG_ENV_ID__:De});function Xi(t){return typeof t=="string"?t:t==null?"":String(t)}function sT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Xi(t)}var aT=De({ngErrorCode:De}),Hk=De({ngErrorMessage:De}),zk=De({ngTokenPath:De});function Rm(t,e){return cT("",-200,e)}function wd(t,e){throw new L(-201,!1)}function cT(t,e,n){let r=new L(e,t);return r[aT]=e,r[Hk]=t,n&&(r[zk]=n),r}function qk(t){return t[aT]}var lm;function uT(){return lm}function nn(t){let e=lm;return lm=t,e}function Mm(t,e,n){let r=_c(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;wd(t,"Injector")}var Gk={},Wi=Gk,dm="__NG_DI_FLAG__",hm=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=Ki(n)||0;try{return this.injector.get(e,r&8?null:Wi,r)}catch(i){if(ns(i))return i;throw i}}};function Wk(t,e=0){let n=Pl();if(n===void 0)throw new L(-203,!1);if(n===null)return Mm(t,void 0,e);{let r=Kk(e),i=n.retrieve(t,r);if(ns(i)){if(r.optional)return null;throw i}return i}}function ne(t,e=0){return(uT()||Wk)(vt(t),e)}function S(t,e){return ne(t,Ki(e))}function Ki(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Kk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function fm(t){let e=[];for(let n=0;n<t.length;n++){let r=vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new L(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Qk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(ne(i,o))}else e.push(ne(r))}return e}function lT(t,e){return t[dm]=e,t.prototype[dm]=e,t}function Qk(t){return t[dm]}function Qi(t,e){let n=t.hasOwnProperty(yc);return n?t[yc]:null}function dT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function hT(t){return t.flat(Number.POSITIVE_INFINITY)}function Cd(t,e){t.forEach(n=>Array.isArray(n)?Cd(n,e):e(n))}function Nm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ec(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function pT(t,e,n){let r=bs(t,e);return r>=0?t[r|1]=n:(r=~r,fT(t,r,e,n)),r}function bd(t,e){let n=bs(t,e);if(n>=0)return t[n|1]}function bs(t,e){return Yk(t,e,1)}function Yk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ci={},rn=[],vn=new V(""),Pm=new V("",-1),Om=new V(""),vc=class{get(e,n=Wi){if(n===Wi){let i=cT("",-201);throw i.name="\u0275NotFound",i}return n}};function xm(t){return t[Am]||null}function Nr(t){return t[Tm]||null}function Td(t){return t[Dm]||null}function km(t){return t[Sm]||null}function ut(t){return{\u0275providers:t}}function gT(t){return ut([{provide:vn,multi:!0,useValue:t}])}function mT(...t){return{\u0275providers:Dd(!0,t),\u0275fromNgModule:!0}}function Dd(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cd(e,s=>{let a=s;_d(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&yT(i,o),n}function yT(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Fm(i,o=>{e(o,r)})}}function _d(t,e,n,r){if(t=vt(t),!t)return!1;let i=null,o=um(t),s=!o&&Nr(t);if(!o&&!s){let u=t.ngModule;if(o=um(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)_d(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Cd(o.imports,h=>{_d(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&yT(l,e)}if(!a){let l=Qi(i)||(()=>new i);e({provide:i,useFactory:l,deps:rn},i),e({provide:Om,useValue:i,multi:!0},i),e({provide:vn,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Fm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Fm(t,e){for(let n of t)bm(n)&&(n=n.\u0275providers),Array.isArray(n)?Fm(n,e):e(n)}var Zk=De({provide:String,useValue:De});function vT(t){return t!==null&&typeof t=="object"&&Zk in t}function Jk(t){return!!(t&&t.useExisting)}function Xk(t){return!!(t&&t.useFactory)}function Yi(t){return typeof t=="function"}function _T(t){return!!t.useClass}var Ic=new V(""),yd={},iT={},cm;function wc(){return cm===void 0&&(cm=new vc),cm}var ze=class{},Zi=class extends ze{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,gm(e,s=>this.processProvider(s)),this.records.set(Pm,ws(void 0,this)),i.has("environment")&&this.records.set(ze,ws(void 0,this));let o=this.records.get(Ic);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Om,rn,{self:!0}))}retrieve(e,n){let r=Ki(n)||0;try{return this.get(e,Wi,r)}catch(i){if(ns(i))return i;throw i}}destroy(){mc(this),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return mc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){mc(this);let n=Yn(this),r=nn(void 0),i;try{return e()}finally{Yn(n),nn(r)}}get(e,n=Wi,r){if(mc(this),e.hasOwnProperty(rT))return e[rT](this);let i=Ki(r),o,s=Yn(this),a=nn(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=i1(e)&&_c(e);h&&this.injectableDefInScope(h)?l=ws(pm(e),yd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?wc():this.parent;return n=i&8&&n===Wi?null:n,u.get(e,n)}catch(u){let l=qk(u);throw l===-200||l===-201?new L(l,null):u}finally{nn(a),Yn(s)}}resolveInjectorInitializers(){let e=se(null),n=Yn(this),r=nn(void 0),i;try{let o=this.get(vn,rn,{self:!0});for(let s of o)s()}finally{Yn(n),nn(r),se(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Mr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=vt(e);let n=Yi(e)?e:vt(e&&e.provide),r=t1(e);if(!Yi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ws(void 0,yd,!0),i.factory=()=>fm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=se(null);try{if(n.value===iT)throw Rm(Mr(e));return n.value===yd&&(n.value=iT,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&r1(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function pm(t){let e=_c(t),n=e!==null?e.factory:Qi(t);if(n!==null)return n;if(t instanceof V)throw new L(204,!1);if(t instanceof Function)return e1(t);throw new L(204,!1)}function e1(t){if(t.length>0)throw new L(204,!1);let n=$k(t);return n!==null?()=>n.factory(t):()=>new t}function t1(t){if(vT(t))return ws(void 0,t.useValue);{let e=Lm(t);return ws(e,yd)}}function Lm(t,e,n){let r;if(Yi(t)){let i=vt(t);return Qi(i)||pm(i)}else if(vT(t))r=()=>vt(t.useValue);else if(Xk(t))r=()=>t.useFactory(...fm(t.deps||[]));else if(Jk(t))r=(i,o)=>ne(vt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=vt(t&&(t.useClass||t.provide));if(n1(t))r=()=>new i(...fm(t.deps));else return Qi(i)||pm(i)}return r}function mc(t){if(t.destroyed)throw new L(205,!1)}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function n1(t){return!!t.deps}function r1(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function i1(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function gm(t,e){for(let n of t)Array.isArray(n)?gm(n,e):n&&bm(n)?gm(n.\u0275providers,e):e(n)}function Ze(t,e){let n;t instanceof Zi?(mc(t),n=t):n=new hm(t);let r,i=Yn(n),o=nn(void 0);try{return e()}finally{Yn(i),nn(o)}}function ET(){return uT()!==void 0||Pl()!=null}var Bt=0,z=1,te=2,qe=3,_n=4,En=5,sn=6,Ts=7,_t=8,In=9,Xn=10,Me=11,Ds=12,Vm=13,eo=14,Kt=15,ui=16,to=17,er=18,Cc=19,jm=20,Rr=21,Sd=22,bc=23,an=24,no=25,Tc=26,xe=27,IT=1,Fn=6,tr=7,Dc=8,ro=9,Et=10;function cn(t){return Array.isArray(t)&&typeof t[IT]=="object"}function un(t){return Array.isArray(t)&&t[IT]===!0}function Um(t){return(t.flags&4)!==0}function Pr(t){return t.componentOffset>-1}function Ad(t){return(t.flags&1)===1}function nr(t){return!!t.template}function io(t){return(t[te]&512)!==0}function li(t){return(t[te]&256)===256}var wT="svg",CT="math";function ln(t){for(;Array.isArray(t);)t=t[Bt];return t}function Bm(t,e){return ln(e[t])}function wn(t,e){return ln(e[t.index])}function oo(t,e){return t.data[e]}function Cn(t,e){let n=e[t];return cn(n)?n:n[Bt]}function bT(t){return(t[te]&4)===4}function Rd(t){return(t[te]&128)===128}function TT(t){return un(t[qe])}function di(t,e){return e==null?null:t[e]}function $m(t){t[to]=0}function Hm(t){t[te]&1024||(t[te]|=1024,Rd(t)&&Ss(t))}function DT(t,e){for(;t>0;)e=e[eo],t--;return e}function Sc(t){return!!(t[te]&9216||t[an]?.dirty)}function Md(t){t[Xn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),Sc(t)&&Ss(t)}function Ss(t){t[Xn].changeDetectionScheduler?.notify(0);let e=ai(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!Rd(e)));)e=ai(e)}function zm(t,e){if(li(t))throw new L(911,!1);t[Rr]===null&&(t[Rr]=[]),t[Rr].push(e)}function ST(t,e){if(t[Rr]===null)return;let n=t[Rr].indexOf(e);n!==-1&&t[Rr].splice(n,1)}function ai(t){let e=t[qe];return un(e)?e[qe]:e}function qm(t){return t[Ts]??=[]}function Gm(t){return t.cleanup??=[]}function AT(t,e,n,r){let i=qm(e);i.push(n),t.firstCreatePass&&Gm(t).push(r,i.length-1)}var ue={lFrame:HT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var mm=!1;function RT(){return ue.lFrame.elementDepthCount}function MT(){ue.lFrame.elementDepthCount++}function Wm(){ue.lFrame.elementDepthCount--}function NT(){return ue.bindingsEnabled}function Km(){return ue.skipHydrationRootTNode!==null}function Qm(t){return ue.skipHydrationRootTNode===t}function PT(t){ue.skipHydrationRootTNode=t}function Ym(){ue.skipHydrationRootTNode=null}function pe(){return ue.lFrame.lView}function Nt(){return ue.lFrame.tView}function Pt(t){return ue.lFrame.contextLView=t,t[_t]}function Ot(t){return ue.lFrame.contextLView=null,t}function lt(){let t=Zm();for(;t!==null&&t.type===64;)t=t.parent;return t}function Zm(){return ue.lFrame.currentTNode}function OT(){let t=ue.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function As(t,e){let n=ue.lFrame;n.currentTNode=t,n.isParent=e}function Jm(){return ue.lFrame.isParent}function xT(){ue.lFrame.isParent=!1}function Xm(){return mm}function ey(t){let e=mm;return mm=t,e}function kT(){let t=ue.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function FT(){return ue.lFrame.bindingIndex}function LT(t){return ue.lFrame.bindingIndex=t}function Rs(){return ue.lFrame.bindingIndex++}function ty(t){let e=ue.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function VT(){return ue.lFrame.inI18n}function jT(t,e){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=t,Nd(e)}function UT(){return ue.lFrame.currentDirectiveIndex}function Nd(t){ue.lFrame.currentDirectiveIndex=t}function BT(t){let e=ue.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function ny(){return ue.lFrame.currentQueryIndex}function Pd(t){ue.lFrame.currentQueryIndex=t}function o1(t){let e=t[z];return e.type===2?e.declTNode:e.type===1?t[En]:null}function ry(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=o1(o),i===null||(o=o[eo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ue.lFrame=$T();return r.currentTNode=e,r.lView=t,!0}function Od(t){let e=$T(),n=t[z];ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function $T(){let t=ue.lFrame,e=t===null?null:t.child;return e===null?HT(t):e}function HT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function zT(){let t=ue.lFrame;return ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iy=zT;function xd(){let t=zT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function qT(t){return(ue.lFrame.contextLView=DT(t,ue.lFrame.contextLView))[_t]}function hi(){return ue.lFrame.selectedIndex}function fi(t){ue.lFrame.selectedIndex=t}function kd(){let t=ue.lFrame;return oo(t.tView,t.selectedIndex)}function oy(){return ue.lFrame.currentNamespace}var GT=!0;function Fd(){return GT}function Or(t){GT=t}function ym(t,e=null,n=null,r){let i=sy(t,e,n,r);return i.resolveInjectorInitializers(),i}function sy(t,e=null,n=null,r,i=new Set){let o=[n||rn,mT(t)];return r=r||(typeof t=="object"?void 0:Mr(t)),new Zi(o,e||wc(),r||null,i)}var Ue=class t{static THROW_IF_NOT_FOUND=Wi;static NULL=new vc;static create(e,n){if(Array.isArray(e))return ym({name:""},n,e,"");{let r=e.name??"";return ym({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:t,providedIn:"any",factory:()=>ne(Pm)});static __NG_ELEMENT_ID__=-1},at=new V(""),Ln=(()=>{class t{static __NG_ELEMENT_ID__=s1;static __NG_ENV_ID__=n=>n}return t})(),vm=class extends Ln{_lView;constructor(e){super(),this._lView=e}get destroyed(){return li(this._lView)}onDestroy(e){let n=this._lView;return zm(n,e),()=>ST(n,e)}};function s1(){return new vm(pe())}var xn=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Qt=new V("",{providedIn:"root",factory:()=>{let t=S(ze),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(xn),e.handleError(n))}}}),WT={provide:vn,useValue:()=>void S(xn),multi:!0},a1=new V("",{providedIn:"root",factory:()=>{let t=S(at).defaultView;if(!t)return;let e=S(Qt),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),S(Ln).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function ay(){return ut([gT(()=>void S(a1))])}function cy(t){return typeof t=="function"&&t[Mt]!==void 0}function we(t,e){let[n,r,i]=qg(t,e?.equal),o=n,s=o[Mt];return o.set=r,o.update=i,o.asReadonly=KT.bind(o),o}function KT(){let t=this[Mt];if(t.readonlyFn===void 0){let e=()=>this();e[Mt]=t,t.readonlyFn=e}return t.readonlyFn}function uy(t){return cy(t)&&typeof t.set=="function"}var Ld=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=c1}return t})();function c1(){return new Ld(pe(),lt())}var Zn=class{},Ms=new V("",{providedIn:"root",factory:()=>!1});var ly=new V(""),Vd=new V(""),Vn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new yt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new J(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),pi=(()=>{class t{internalPendingTasks=S(Vn);scheduler=S(Zn);errorHandler=S(Qt);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})();function Ac(...t){}var dy=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>new _m})}return t})(),_m=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var jd={JSACTION:"jsaction"};function $s(t){return{toString:t}.toString()}var Ud="__parameters__";function y1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function v1(t,e,n){return $s(()=>{let r=y1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Ud)?u[Ud]:Object.defineProperty(u,Ud,{value:[]})[Ud];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ir=lT(v1("Optional"),8);function _1(t){return typeof t=="function"}var Qd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var or=(()=>{let t=()=>FD;return t.ngInherit=!0,t})();function FD(t){return t.type.prototype.ngOnChanges&&(t.setInput=I1),E1}function E1(){let t=VD(this),e=t?.current;if(e){let n=t.previous;if(n===ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function I1(t,e,n,r,i){let o=this.declaredInputs[r],s=VD(t)||w1(t,{previous:ci,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Qd(l&&l.currentValue,n,u===ci),kD(t,e,i,n)}var LD="__ngSimpleChanges__";function VD(t){return t[LD]||null}function w1(t,e){return t[LD]=e}var QT=[];var Ce=function(t,e=null,n){for(let r=0;r<QT.length;r++){let i=QT[r];i(t,e,n)}};function C1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function b1(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Hd(t,e,n){jD(t,e,3,n)}function zd(t,e,n,r){(t[te]&3)===n&&jD(t,e,n,r)}function hy(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function jD(t,e,n,r){let i=r!==void 0?t[to]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[to]+=65536),(a<o||o==-1)&&(T1(t,n,e,u),t[to]=(t[to]&4294901760)+u+2),u++}function YT(t,e){Ce(4,t,e);let n=se(null);try{e.call(t)}finally{se(n),Ce(5,t,e)}}function T1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[te]>>14<t[to]>>16&&(t[te]&3)===e&&(t[te]+=16384,YT(a,o)):YT(a,o)}var Ps=-1,co=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function D1(t){return(t.flags&8)!==0}function S1(t){return(t.flags&16)!==0}function A1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];R1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function UD(t){return t===3||t===4||t===6}function R1(t){return t.charCodeAt(0)===64}function ks(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ZT(t,n,i,null,e[++r]):ZT(t,n,i,null,null))}}return t}function ZT(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function BD(t){return t!==Ps}function Yd(t){return t&32767}function M1(t){return t>>16}function Zd(t,e){let n=M1(t),r=e;for(;n>0;)r=r[eo],n--;return r}var Ty=!0;function JT(t){let e=Ty;return Ty=t,e}var N1=256,$D=N1-1,HD=5,P1=0,rr={};function O1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ji)&&(r=n[Ji]),r==null&&(r=n[Ji]=P1++);let i=r&$D,o=1<<i;e.data[t+(i>>HD)]|=o}function Jd(t,e){let n=zD(t,e);if(n!==-1)return n;let r=e[z];r.firstCreatePass&&(t.injectorIndex=e.length,fy(r.data,t),fy(e,null),fy(r.blueprint,null));let i=Zy(t,e),o=t.injectorIndex;if(BD(i)){let s=Yd(i),a=Zd(i,e),u=a[z].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function fy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function zD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Zy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=QD(i),r===null)return Ps;if(n++,i=i[eo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ps}function Dy(t,e,n){O1(t,e,n)}function x1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(UD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function qD(t,e,n){if(n&8||t!==void 0)return t;wd(e,"NodeInjector")}function GD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[In],o=nn(void 0);try{return i?i.get(e,r,n&8):Mm(e,r,n&8)}finally{nn(o)}}return qD(r,e,n)}function WD(t,e,n,r=0,i){if(t!==null){if(e[te]&2048&&!(r&2)){let s=V1(t,e,n,r,rr);if(s!==rr)return s}let o=KD(t,e,n,r,rr);if(o!==rr)return o}return GD(e,n,r,i)}function KD(t,e,n,r,i){let o=F1(n);if(typeof o=="function"){if(!ry(e,t,r))return r&1?qD(i,n,r):GD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))wd(n);else return s}finally{iy()}}else if(typeof o=="number"){let s=null,a=zD(t,e),u=Ps,l=r&1?e[Kt][En]:null;for((a===-1||r&4)&&(u=a===-1?Zy(t,e):e[a+8],u===Ps||!eD(r,!1)?a=-1:(s=e[z],a=Yd(u),e=Zd(u,e)));a!==-1;){let h=e[z];if(XT(o,a,h.data)){let p=k1(a,e,n,s,r,l);if(p!==rr)return p}u=e[a+8],u!==Ps&&eD(r,e[z].data[a+8]===l)&&XT(o,a,e)?(s=h,a=Yd(u),e=Zd(u,e)):a=-1}}return i}function k1(t,e,n,r,i,o){let s=e[z],a=s.data[t+8],u=r==null?Pr(a)&&Ty:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=qd(a,s,n,u,l);return h!==null?Nc(e,s,h,a,i):rr}function qd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&nr(y)&&y.type===n)return u}return null}function Nc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof co){let a=o;if(a.resolving){let y=sT(s[n]);throw Rm(y)}let u=JT(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?nn(a.injectImpl):null,m=ry(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&C1(n,s[n],e)}finally{p!==null&&nn(p),JT(u),a.resolving=!1,iy()}}return o}function F1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ji)?t[Ji]:void 0;return typeof e=="number"?e>=0?e&$D:L1:e}function XT(t,e,n){let r=1<<t;return!!(n[e+(t>>HD)]&r)}function eD(t,e){return!(t&2)&&!(t&1&&e)}var ao=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return WD(this._tNode,this._lView,e,Ki(r),n)}};function L1(){return new ao(lt(),pe())}function Un(t){return $s(()=>{let e=t.prototype.constructor,n=e[yc]||Sy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[yc]||Sy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Sy(t){return wm(t)?()=>{let e=Sy(vt(t));return e&&e()}:Qi(t)}function V1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[te]&2048&&!io(s);){let a=KD(o,s,n,r|2,rr);if(a!==rr)return a;let u=o.parent;if(!u){let l=s[jm];if(l){let h=l.get(n,rr,r);if(h!==rr)return h}u=QD(s),s=s[eo]}o=u}return i}function QD(t){let e=t[z],n=e.type;return n===2?e.declTNode:n===1?t[En]:null}function Lc(t){return x1(lt(),t)}function j1(){return Hs(lt(),pe())}function Hs(t,e){return new bn(wn(t,e))}var bn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=j1}return t})();function U1(t){return t instanceof bn?t.nativeElement:t}function B1(){return this._results[Symbol.iterator]()}var Xd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Oe}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hT(e);(this._changesDetected=!dT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=B1},YD="ngSkipHydration",$1="ngskiphydration";function ZD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===$1)return!0}return!1}function JD(t){return t.hasAttribute(YD)}function eh(t){return(t.flags&128)===128}function XD(t){if(eh(t))return!0;let e=t.parent;for(;e;){if(eh(t)||ZD(e))return!0;e=e.parent}return!1}var Jy=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})(Jy||{}),e0=new Map,H1=0;function z1(){return H1++}function q1(t){e0.set(t[Cc],t)}function Ay(t){e0.delete(t[Cc])}var tD="__ngContext__";function Fs(t,e){cn(e)?(t[tD]=e[Cc],q1(e)):t[tD]=e}function t0(t){return r0(t[Ds])}function n0(t){return r0(t[_n])}function r0(t){for(;t!==null&&!un(t);)t=t[_n];return t}var Ry;function Xy(t){Ry=t}function Vc(){if(Ry!==void 0)return Ry;if(typeof document<"u")return document;throw new L(210,!1)}var sr=new V("",{providedIn:"root",factory:()=>G1}),G1="ng",gh=new V(""),Fr=new V("",{providedIn:"platform",factory:()=>"unknown"});var mh=new V("",{providedIn:"root",factory:()=>Vc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function W1(){let t=new ho;return t.store=K1(Vc(),S(sr)),t}var ho=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:W1});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function K1(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var i0="h",o0="b",Q1="f",Y1="n",s0="e",a0="t",yh="c",ev="x",Pc="r",c0="i",u0="n",tv="d";var l0="di",d0="s",h0="p";var jc=new V(""),f0=!1,nv=new V("",{providedIn:"root",factory:()=>f0});var rv=new V(""),p0=!1,g0=new V(""),iv=new V("",{providedIn:"root",factory:()=>new Map});var Uc="ngb";var m0=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},y0=(t,e)=>{let n=t,r=n.getAttribute(Uc)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var v0=t=>{t.removeAttribute(jd.JSACTION),t.removeAttribute(Uc),t.__jsaction_fns=void 0},_0=new V("",{providedIn:"root",factory:()=>({})});function ov(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var My=new Map;function E0(t,e){return My.set(t,e),()=>My.delete(t)}var nD=!1,I0=(t,e,n,r)=>{};function Z1(t,e,n,r){I0(t,e,n,r)}function w0(){nD||(I0=(t,e,n,r)=>{let i=t[In].get(sr);My.get(i)?.(e,n,r)},nD=!0)}var vh=new V("");function _h(t){return(t.flags&32)===32}var J1="__nghData__",sv=J1,X1="__nghDeferData__",C0=X1;var Gd="ngh",b0="nghm",T0=()=>null;function eF(t,e,n=!1){let r=t.getAttribute(Gd);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(ho,null,{optional:!0});h!==null&&(u=h.get(sv,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Eh(l,0,t.nextSibling)),a?t.setAttribute(Gd,a):t.removeAttribute(Gd),l}function D0(){T0=eF}function S0(t,e,n=!1){return T0(t,e,n)}function A0(t){let e=t._lView;return e[z].type===2?null:(io(e)&&(e=e[xe]),e)}function tF(t){return t.textContent?.replace(/\s/gm,"")}function nF(t){let e=Vc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=tF(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Eh(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Ny(t,e){return t.segmentHeads?.[e]??null}function R0(t){return t.get(g0,!1,{optional:!0})}function rF(t,e){let n=t.data,r=n[s0]?.[e]??null;return r===null&&n[yh]?.[e]&&(r=av(t,e)),r}function M0(t,e){return t.data[yh]?.[e]??null}function av(t,e){let n=M0(t,e)??[],r=0;for(let i of n)r+=i[Pc]*(i[ev]??1);return r}function iF(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[tv];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function N0(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[tv];t.disconnectedNodes=n?new Set(n):null}return!!iF(t)?.has(e)}function Ih(t,e){let n=t[sn];return n!==null&&!Km()&&!_h(e)&&!N0(n,e.index-xe)}function oF(t,e){let n=e.get(vh),i=e.get(ho).get(C0,{}),o=!1,s=t,a=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][h0]}return{parentBlockPromise:a,hydrationQueue:u}}function py(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===b0}function rD(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function P0(t){for(let r of t.body.childNodes)if(py(r))return;let e=rD(t.body.previousSibling);if(py(e))return;let n=rD(t.head.lastChild);if(!py(n))throw new L(-507,!1)}function O0(t,e){let n=t.contentQueries;if(n!==null){let r=se(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Pd(o),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function Py(t,e,n){Pd(0);let r=se(null);try{e(t,n)}finally{se(r)}}function x0(t,e,n){if(Um(e)){let r=se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{se(r)}}}var xr=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(xr||{});var Bd;function sF(){if(Bd===void 0&&(Bd=null,Cs.trustedTypes))try{Bd=Cs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Bd}function iD(t){return sF()?.createScriptURL(t)||t}var th=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ed})`}};function Bc(t){return t instanceof th?t.changingThisBreaksApplicationSecurity:t}function wh(t,e){let n=k0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Ed})`)}return n===e}function k0(t){return t instanceof th&&t.getTypeName()||null}var aF=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cv(t){return t=String(t),t.match(aF)?t:"unsafe:"+t}var cF=/^>|^->|<!--|-->|--!>|<!-$/g,uF=/(<|>)/g,lF="\u200B$1\u200B";function dF(t){return t.replace(cF,e=>e.replace(uF,lF))}function F0(t,e){return t.createText(e)}function hF(t,e,n){t.setValue(e,n)}function L0(t,e){return t.createComment(dF(e))}function uv(t,e,n){return t.createElement(e,n)}function nh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function V0(t,e,n){t.appendChild(e,n)}function oD(t,e,n,r,i){r!==null?nh(t,e,n,r,i):V0(t,e,n)}function lv(t,e,n,r){t.removeChild(null,e,n,r)}function j0(t){t.textContent=""}function fF(t,e,n){t.setAttribute(e,"style",n)}function pF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function U0(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&A1(t,e,r),i!==null&&pF(t,e,i),o!==null&&fF(t,e,o)}var $c=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})($c||{});function B0(t){let e=H0();return e?e.sanitize($c.URL,t)||"":wh(t,"URL")?Bc(t):cv(Xi(t))}function $0(t){let e=H0();if(e)return iD(e.sanitize($c.RESOURCE_URL,t)||"");if(wh(t,"ResourceURL"))return iD(Bc(t));throw new L(904,!1)}function gF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?$0:B0}function dv(t,e,n){return gF(e,n)(t)}function H0(){let t=pe();return t&&t[Xn].sanitizer}function z0(t){return t.ownerDocument.body}function q0(t){return t instanceof Function?t():t}function mF(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var G0="ng-template";function yF(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mF(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(hv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function hv(t){return t.type===4&&t.value!==G0}function vF(t,e,n){let r=t.type===4&&!n?G0:t.value;return e===r}function _F(t,e,n){let r=4,i=t.attrs,o=i!==null?wF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!jn(r)&&!jn(u))return!1;if(s&&jn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!vF(t,u,n)||u===""&&e.length===1){if(jn(r))return!1;s=!0}}else if(r&8){if(i===null||!yF(t,i,u,n)){if(jn(r))return!1;s=!0}}else{let l=e[++a],h=EF(u,i,hv(t),n);if(h===-1){if(jn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(jn(r))return!1;s=!0}}}}return jn(r)||s}function jn(t){return(t&1)===0}function EF(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return CF(e,t)}function IF(t,e,n=!1){for(let r=0;r<e.length;r++)if(_F(t,e[r],n))return!0;return!1}function wF(t){for(let e=0;e<t.length;e++){let n=t[e];if(UD(n))return e}return t.length}function CF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function sD(t,e){return t?":not("+e.trim()+")":e}function bF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!jn(s)&&(e+=sD(o,i),i=""),r=s,o=o||!jn(r);n++}return i!==""&&(e+=sD(o,i)),e}function TF(t){return t.map(bF).join(",")}function DF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!jn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Tn={};function fv(t,e,n,r,i,o,s,a,u,l,h){let p=xe+r,m=p+i,y=SF(p,m),b=typeof l=="function"?l():l;return y[z]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function SF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Tn);return n}function AF(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=fv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function pv(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Bt]=i,p[te]=r|4|128|8|64|1024,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),$m(p),p[qe]=p[eo]=t,p[_t]=n,p[Xn]=s||t&&t[Xn],p[Me]=a||t&&t[Me],p[In]=u||t&&t[In]||null,p[En]=o,p[Cc]=z1(),p[sn]=h,p[jm]=l,p[Kt]=e.type==2?t[Kt]:p,p}function RF(t,e,n){let r=wn(e,t),i=AF(n),o=t[Xn].rendererFactory,s=gv(t,pv(t,i,null,W0(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function W0(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function K0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function gv(t,e){return t[Ds]?t[Vm][_n]=e:t[Ds]=e,t[Vm]=e,e}function G(t=1){Q0(Nt(),pe(),hi()+t,!1)}function Q0(t,e,n,r){if(!r)if((e[te]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Hd(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zd(e,o,0,n)}fi(n)}var Ch=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(Ch||{});function Oy(t,e,n,r){let i=se(null);try{let[o,s,a]=t.inputs[n],u=null;(s&Ch.SignalBased)!==0&&(u=e[o][Mt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):kD(e,u,o,r)}finally{se(i)}}var kr=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(kr||{}),MF;function mv(t,e){return MF(t,e)}var Ls=new Set,bh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(bh||{}),fo=new V(""),aD=new Set;function Dn(t){aD.has(t)||(aD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var Y0=!1,xy=class extends Oe{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ET()&&(this.destroyRef=S(Ln,{optional:!0})??void 0,this.pendingTasks=S(Vn,{optional:!0})??void 0)}emit(e){let n=se(null);try{super.next(e)}finally{se(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof je&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Ge=xy;function Z0(t){let e,n;function r(){t=Ac;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function cD(t){return queueMicrotask(()=>t()),()=>{t=Ac}}var yv="isAngularZone",rh=yv+"_ID",NF=0,Ee=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ge(!1);onMicrotaskEmpty=new Ge(!1);onStable=new Ge(!1);onError=new Ge(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Y0}=e;if(typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,xF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yv)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,PF,Ac,Ac);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},PF={};function vv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function OF(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Z0(()=>{t.callbackScheduled=!1,ky(t),t.isCheckStableRunning=!0,vv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ky(t)}function xF(t){let e=()=>{OF(t)},n=NF++;t._inner=t._inner.fork({name:"angular",properties:{[yv]:!0,[rh]:n,[rh+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(kF(u))return r.invokeTask(o,s,a,u);try{return uD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),lD(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return uD(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!FF(u)&&e(),lD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ky(t),vv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ky(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function lD(t){t._nesting--,vv(t)}var Oc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ge;onMicrotaskEmpty=new Ge;onStable=new Ge;onError=new Ge;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function kF(t){return J0(t,"__ignore_ng_zone__")}function FF(t){return J0(t,"__scheduler_tick__")}function J0(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var _v=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),X0=[0,1,2,3],eS=(()=>{class t{ngZone=S(Ee);scheduler=S(Zn);errorHandler=S(xn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(fo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ce(16),this.executing=!0;for(let r of X0)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ce(17)}register(n){let{view:r}=n;r!==void 0?((r[no]??=[]).push(n),Ss(r),r[te]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(bh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=$({token:t,providedIn:"root",factory:()=>new t})}return t})(),ih=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[no];e&&(this.view[no]=e.filter(n=>n!==this))}};function Th(t,e){let n=e?.injector??S(Ue);return Dn("NgAfterNextRender"),VF(t,n,e,!0)}function LF(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function VF(t,e,n,r){let i=e.get(_v);i.impl??=e.get(eS);let o=e.get(fo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(Ln):null,a=e.get(Ld,null,{optional:!0}),u=new ih(i.impl,LF(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var jF=new V("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function tS(t,e,n){let r=t.get(jF);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function UF(t,e){for(let[n,r]of e)tS(t,r.animateFns)}function dD(t,e,n,r){let i=t?.[Tc]?.enter;e!==null&&i&&i.has(n.index)&&UF(r,i)}function Ns(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;un(i)?u=i:cn(i)&&(l=!0,i=i[Bt]);let h=ln(i);t===0&&r!==null?(dD(a,r,o,n),s==null?V0(e,r,h):nh(e,r,h,s||null,!0)):t===1&&r!==null?(dD(a,r,o,n),nh(e,r,h,s||null,!0)):t===2?hD(a,o,n,p=>{lv(e,h,l,p)}):t===3&&hD(a,o,n,()=>{e.destroyNode(h)}),u!=null&&XF(e,t,n,u,o,r,s)}}function BF(t,e){nS(t,e),e[Bt]=null,e[En]=null}function $F(t,e,n,r,i,o){r[Bt]=i,r[En]=e,Dh(t,r,n,1,i,o)}function nS(t,e){e[Xn].changeDetectionScheduler?.notify(9),Dh(t,e,e[Me],2,null,null)}function HF(t){let e=t[Ds];if(!e)return gy(t[z],t);for(;e;){let n=null;if(cn(e))n=e[Ds];else{let r=e[Et];r&&(n=r)}if(!n){for(;e&&!e[_n]&&e!==t;)cn(e)&&gy(e[z],e),e=e[qe];e===null&&(e=t),cn(e)&&gy(e[z],e),n=e&&e[_n]}e=n}}function Ev(t,e){let n=t[ro],r=n.indexOf(e);n.splice(r,1)}function Iv(t,e){if(li(e))return;let n=e[Me];n.destroyNode&&Dh(t,e,n,3,null,null),HF(e)}function gy(t,e){if(li(e))return;let n=se(null);try{e[te]&=-129,e[te]|=256,e[an]&&hc(e[an]),GF(t,e),qF(t,e),e[z].type===1&&e[Me].destroy();let r=e[ui];if(r!==null&&un(e[qe])){r!==e[qe]&&Ev(r,e);let i=e[er];i!==null&&i.detachView(t)}Ay(e)}finally{se(n)}}function hD(t,e,n,r){let i=t?.[Tc];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ls.add(t),tS(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),zF(t,r)}else t&&Ls.delete(t),r(!1)},i)}function zF(t,e){let n=t[Tc]?.running;if(n){n.then(()=>{t[Tc].running=void 0,Ls.delete(t),e(!0)});return}e(!1)}function qF(t,e){let n=t.cleanup,r=e[Ts];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Ts]=null);let i=e[Rr];if(i!==null){e[Rr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[bc];if(o!==null){e[bc]=null;for(let s of o)s.destroy()}}function GF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof co)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ce(4,a,u);try{u.call(a)}finally{Ce(5,a,u)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function WF(t,e,n){return KF(t,e.parent,n)}function KF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Bt];if(Pr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===xr.None||i===xr.Emulated)return null}return wn(r,n)}function QF(t,e,n){return ZF(t,e,n)}function YF(t,e,n){return t.type&40?wn(t,n):null}var ZF=YF,fD;function wv(t,e,n,r){let i=WF(t,r,e),o=e[Me],s=r.parent||e[En],a=QF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)oD(o,i,n[u],a,!1);else oD(o,i,n,a,!1);fD!==void 0&&fD(o,r,e,n,i)}function Rc(t,e){if(e!==null){let n=e.type;if(n&3)return wn(e,t);if(n&4)return Fy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Rc(t,r);{let i=t[e.index];return un(i)?Fy(-1,i):ln(i)}}else{if(n&128)return Rc(t,e.next);if(n&32)return mv(e,t)()||ln(t[e.index]);{let r=rS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(t[Kt]);return Rc(i,r)}else return Rc(t,e.next)}}}return null}function rS(t,e){if(e!==null){let r=t[Kt][En],i=e.projection;return r.projection[i]}return null}function Fy(t,e){let n=Et+t+1;if(n<e.length){let r=e[n],i=r[z].firstChild;if(i!==null)return Rc(r,i)}return e[tr]}function Cv(t,e,n,r,i,o,s){for(;n!=null;){let a=r[In];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Fs(ln(u),r),n.flags|=2),!_h(n))if(l&8)Cv(t,e,n.child,r,i,o,!1),Ns(e,t,a,i,u,n,o,r);else if(l&32){let h=mv(n,r),p;for(;p=h();)Ns(e,t,a,i,p,n,o,r);Ns(e,t,a,i,u,n,o,r)}else l&16?JF(t,e,r,n,i,o):Ns(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Dh(t,e,n,r,i,o){Cv(n,r,t.firstChild,e,i,o,!1)}function JF(t,e,n,r,i,o){let s=n[Kt],u=s[En].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ns(e,t,n[In],i,h,r,o,n)}else{let l=u,h=s[qe];eh(r)&&(l.flags|=128),Cv(t,e,l,h,i,o,!0)}}function XF(t,e,n,r,i,o,s){let a=r[tr],u=ln(r);a!==u&&Ns(e,t,n,o,a,i,s);for(let l=Et;l<r.length;l++){let h=r[l];Dh(h[z],h,t,e,o,a)}}function eL(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:kr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=kr.Important),t.setStyle(n,r,i,o))}}function iS(t,e,n,r,i){let o=hi(),s=r&2;try{fi(-1),s&&e.length>xe&&Q0(t,e,xe,!1),Ce(s?2:0,i,n),n(r,i)}finally{fi(o),Ce(s?3:1,i,n)}}function oS(t,e,n){aL(t,e,n),(n.flags&64)===64&&cL(t,e,n)}function bv(t,e,n=wn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function tL(t,e,n,r){let o=r.get(nv,f0)||n===xr.ShadowDom,s=t.selectRootElement(e,o);return nL(s),s}function nL(t){sS(t)}var sS=()=>null;function rL(t){JD(t)?j0(t):nF(t)}function aS(){sS=rL}function iL(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cS(t,e,n,r,i,o){let s=e[z];if(Dv(t,s,e,n,r)){Pr(t)&&sL(e,t.index);return}t.type&3&&(n=iL(n)),oL(t,e,n,r,i,o)}function oL(t,e,n,r,i,o){if(t.type&3){let s=wn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function sL(t,e){let n=Cn(e,t);n[te]&16||(n[te]|=64)}function aL(t,e,n){let r=n.directiveStart,i=n.directiveEnd;Pr(n)&&RF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Jd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Nc(e,t,s,n);if(Fs(u,e),o!==null&&fL(e,s-r,u,a,n,o),nr(a)){let l=Cn(n.index,e);l[_t]=Nc(e,t,s,n)}}}function cL(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=UT();try{fi(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Nd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&uL(u,l)}}finally{fi(-1),Nd(s)}}function uL(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function lL(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];IF(e,o.selectors,!1)&&(r??=[],nr(o)?r.unshift(o):r.push(o))}return r}function dL(t,e,n,r,i,o){let s=wn(t,e);hL(e[Me],s,o,t.value,n,r,i)}function hL(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Xi(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function fL(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Oy(r,n,u,l)}}function uS(t,e,n,r,i){let o=xe+n,s=e[z],a=i(s,e,t,r,n);e[o]=a,As(t,!0);let u=t.type===2;return u?(U0(e[Me],a,t),(RT()===0||Ad(t))&&Fs(a,e),MT()):Fs(a,e),Fd()&&(!u||!_h(t))&&wv(s,e,a,t),t}function lS(t){let e=t;return Jm()?xT():(e=e.parent,As(e,!1)),e}function Tv(t,e){let n=t[In];if(!n)return;let r;try{r=n.get(Qt,null)}catch{r=null}r?.(e)}function Dv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Oy(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Oy(h,l,r,i),a=!0}return a}function pL(t,e){let n=Cn(e,t),r=n[z];gL(r,n);let i=n[Bt];i!==null&&n[sn]===null&&(n[sn]=S0(i,n[In])),Ce(18),Sv(r,n,n[_t]),Ce(19,n[_t])}function gL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sv(t,e,n){Od(e);try{let r=t.viewQuery;r!==null&&Py(1,r,n);let i=t.template;i!==null&&iS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[er]?.finishViewCreation(t),t.staticContentQueries&&O0(t,e),t.staticViewQueries&&Py(2,t.viewQuery,n);let o=t.components;o!==null&&mL(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,xd()}}function mL(t,e){for(let n=0;n<e.length;n++)pL(t,e[n])}function Av(t,e,n,r){let i=se(null);try{let o=e.tView,a=t[te]&4096?4096:16,u=pv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ui]=l;let h=t[er];return h!==null&&(u[er]=h.createEmbeddedView(o)),Sv(o,u,n),u}finally{se(i)}}function oh(t,e){return!e||e.firstChild===null||eh(t)}function xc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(ln(o)),un(o)&&dS(o,r);let s=n.type;if(s&8)xc(t,e,n.child,r);else if(s&32){let a=mv(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=rS(e,n);if(Array.isArray(a))r.push(...a);else{let u=ai(e[Kt]);xc(u[z],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dS(t,e){for(let n=Et;n<t.length;n++){let r=t[n],i=r[z].firstChild;i!==null&&xc(r[z],r,i,e)}t[tr]!==t[Bt]&&e.push(t[tr])}function hS(t){if(t[no]!==null){for(let e of t[no])e.impl.addSequence(e);t[no].length=0}}var fS=[];function yL(t){return t[an]??vL(t)}function vL(t){let e=fS.pop()??Object.create(EL);return e.lView=t,e}function _L(t){t.lView[an]!==t&&(t.lView=null,fS.push(t))}var EL=ee(O({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Ss(t.lView)},consumerOnSignalRead(){this.lView[an]=this}});function IL(t){let e=t[an]??Object.create(wL);return e.lView=t,e}var wL=ee(O({},rs),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=ai(t.lView);for(;e&&!pS(e[z]);)e=ai(e);e&&Hm(e)},consumerOnSignalRead(){this.lView[an]=this}});function pS(t){return t.type!==2}function gS(t){if(t[bc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[bc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[te]&8192)}}var CL=100;function mS(t,e=0){let r=t[Xn].rendererFactory,i=!1;i||r.begin?.();try{bL(t,e)}finally{i||r.end?.()}}function bL(t,e){let n=Xm();try{ey(!0),Ly(t,e);let r=0;for(;Sc(t);){if(r===CL)throw new L(103,!1);r++,Ly(t,1)}}finally{ey(n)}}function TL(t,e,n,r){if(li(e))return;let i=e[te],o=!1,s=!1;Od(e);let a=!0,u=null,l=null;o||(pS(t)?(l=yL(e),u=os(l)):Ll()===null?(a=!1,l=IL(e),u=os(l)):e[an]&&(hc(e[an]),e[an]=null));try{$m(e),LT(t.bindingStartIndex),n!==null&&iS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Hd(e,y,null)}else{let y=t.preOrderHooks;y!==null&&zd(e,y,0,null),hy(e,0)}if(s||DL(e),gS(e),yS(e,0),t.contentQueries!==null&&O0(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Hd(e,y)}else{let y=t.contentHooks;y!==null&&zd(e,y,1),hy(e,1)}AL(t,e);let p=t.components;p!==null&&_S(e,p,0);let m=t.viewQuery;if(m!==null&&Py(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Hd(e,y)}else{let y=t.viewHooks;y!==null&&zd(e,y,2),hy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Sd]){for(let y of e[Sd])y();e[Sd]=null}o||(hS(e),e[te]&=-73)}catch(h){throw o||Ss(e),h}finally{l!==null&&(lc(l,u),a&&_L(l)),xd()}}function yS(t,e){for(let n=t0(t);n!==null;n=n0(n))for(let r=Et;r<n.length;r++){let i=n[r];vS(i,e)}}function DL(t){for(let e=t0(t);e!==null;e=n0(e)){if(!(e[te]&2))continue;let n=e[ro];for(let r=0;r<n.length;r++){let i=n[r];Hm(i)}}}function SL(t,e,n){Ce(18);let r=Cn(e,t);vS(r,n),Ce(19,r[_t])}function vS(t,e){Rd(t)&&Ly(t,e)}function Ly(t,e){let r=t[z],i=t[te],o=t[an],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&dc(o)),s||=!1,o&&(o.dirty=!1),t[te]&=-9217,s)TL(r,t,r.template,t[_t]);else if(i&8192){let a=se(null);try{gS(t),yS(t,1);let u=r.components;u!==null&&_S(t,u,1),hS(t)}finally{se(a)}}}function _S(t,e,n){for(let r=0;r<e.length;r++)SL(t,e[r],n)}function AL(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)fi(~i);else{let o=i,s=n[++r],a=n[++r];jT(s,o);let u=e[o];Ce(24,u),a(2,u),Ce(25,u)}}}finally{fi(-1)}}function Sh(t,e){let n=Xm()?64:1088;for(t[Xn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=ai(t);if(io(t)&&!r)return t;t=r}return null}function ES(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function RL(t,e){let n=Et+e;if(n<t.length)return t[n]}function Rv(t,e,n,r=!0){let i=e[z];if(ML(i,e,t,n),r){let s=Fy(n,t),a=e[Me],u=a.parentNode(t[tr]);u!==null&&$F(i,t[En],a,e,u,s)}let o=e[sn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function IS(t,e){let n=sh(t,e);return n!==void 0&&Iv(n[z],n),n}function sh(t,e){if(t.length<=Et)return;let n=Et+e,r=t[n];if(r){let i=r[ui];i!==null&&i!==t&&Ev(i,r),e>0&&(t[n-1][_n]=r[_n]);let o=Ec(t,Et+e);BF(r[z],r);let s=o[er];s!==null&&s.detachView(o[z]),r[qe]=null,r[_n]=null,r[te]&=-129}return r}function ML(t,e,n,r){let i=Et+r,o=n.length;r>0&&(n[i-1][_n]=e),r<o-Et?(e[_n]=n[i],Nm(n,Et+r,e)):(n.push(e),e[_n]=null),e[qe]=n;let s=e[ui];s!==null&&n!==s&&wS(s,e);let a=e[er];a!==null&&a.insertView(t),Md(e),e[te]|=128}function wS(t,e){let n=t[ro],r=e[qe];if(cn(r))t[te]|=2;else{let i=r[qe][Kt];e[Kt]!==i&&(t[te]|=2)}n===null?t[ro]=[e]:n.push(e)}var gi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[z];return xc(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return li(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[qe];if(un(e)){let n=e[Dc],r=n?n.indexOf(this):-1;r>-1&&(sh(e,r),Ec(n,r))}this._attachedToViewContainer=!1}Iv(this._lView[z],this._lView)}onDestroy(e){zm(this._lView,e)}markForCheck(){Sh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){Md(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,mS(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=io(this._lView),n=this._lView[ui];n!==null&&!e&&Ev(n,this._lView),nS(this._lView[z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e;let n=io(this._lView),r=this._lView[ui];r!==null&&!n&&wS(r,this._lView),Md(this._lView)}};var Vs=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=NL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=Av(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new gi(o)}}return t})();function NL(){return Mv(lt(),pe())}function Mv(t,e){return t.type&4?new Vs(e,t,Hs(t,e)):null}function Ah(t,e,n,r,i){let o=t.data[e];if(o===null)o=PL(t,e,n,r,i),VT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=OT();o.injectorIndex=s===null?-1:s.injectorIndex}return As(o,!0),o}function PL(t,e,n,r,i){let o=Zm(),s=Jm(),a=s?o:o&&o.parent,u=t.data[e]=xL(t,a,n,e,r,i);return OL(t,u,o,s),u}function OL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function xL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Km()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var kL=new RegExp(`^(\\d+)*(${o0}|${i0})*(.*)`);function FL(t){let e=t.match(kL),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function LL(t){return!t.prev&&t.parent?.type===8}function my(t){return t.index-xe}function VL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Rh(t,e,n,r){let i=my(r),o=VL(t,i);if(o===void 0){let s=t.data[u0];if(s?.[i])o=UL(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(LL(r)){let l=my(r.parent);o=Ny(t,l)}else{let l=wn(u,n);if(a)o=l.firstChild;else{let h=my(u),p=Ny(t,h);if(u.type===2&&p){let y=av(t,h)+1;o=Mh(y,p)}else o=l.nextSibling}}}}return o}function Mh(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function jL(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case Q1:n=n.firstChild;break;case Y1:n=n.nextSibling;break}}return n}function UL(t,e){let[n,...r]=FL(t),i;if(n===i0)i=e[Kt][Bt];else if(n===o0)i=z0(e[Kt][Bt]);else{let o=Number(n);i=ln(e[o+xe])}return jL(i,r)}var BL=!1;function CS(t){BL=t}function $L(t){let e=t[sn];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Me];for(let o of r.values())HL(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function HL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-xe);i&&lv(t,i,!1)}}function Nv(t){let e=t[Fn]??[],r=t[qe][Me],i=[];for(let o of e)o.data[l0]!==void 0?i.push(o):bS(o,r);t[Fn]=i}function zL(t){let{lContainer:e}=t,n=e[Fn];if(n===null)return;let i=e[qe][Me];for(let o of n)bS(o,i)}function bS(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Pc];for(;n<i;){let o=r.nextSibling;lv(e,r,!1),r=o,n++}}}function Nh(t){Nv(t);let e=t[Bt];cn(e)&&ah(e);for(let n=Et;n<t.length;n++)ah(t[n])}function ah(t){$L(t);let e=t[z];for(let n=xe;n<e.bindingStartIndex;n++)if(un(t[n])){let r=t[n];Nh(r)}else cn(t[n])&&ah(t[n])}function Pv(t){let e=t._views;for(let n of e){let r=A0(n);r!==null&&r[Bt]!==null&&(cn(r)?ah(r):Nh(r))}}function qL(t,e,n,r){t!==null&&(n.cleanup(e),Nh(t.lContainer),Pv(r))}function GL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[ev]??1);i++){let o={data:r,firstChild:null};r[Pc]>0&&(o.firstChild=t,t=Mh(r[Pc],t)),n.push(o)}return[t,n]}var TS=()=>null,DS=()=>null;function SS(){TS=WL,DS=KL}function WL(t,e){return AS(t,e)?t[Fn].shift():(Nv(t),null)}function Vy(t,e){return TS(t,e)}function KL(t,e,n){if(e.tView.ssrId===null)return null;let r=Vy(t,e.tView.ssrId);return n[z].firstUpdatePass&&r===null&&YL(n,e),r}function QL(t,e,n){return DS(t,e,n)}function YL(t,e){let n=e;for(;n;){if(pD(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(pD(t,n))return;n=n.next}}function AS(t,e){let n=t[Fn];return!e||n===null||n.length===0?!1:n[0].data[c0]===e}function pD(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return un(r)&&AS(r,n)?(Nv(r),!0):!1}var RS=class{},Ph=class{},jy=class{resolveComponentFactory(e){throw new L(917,!1)}},Hc=class{static NULL=new jy},uo=class{},yi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>ZL()}return t})();function ZL(){let t=pe(),e=lt(),n=Cn(e.index,t);return(cn(n)?n:t)[Me]}var MS=(()=>{class t{static \u0275prov=$({token:t,providedIn:"root",factory:()=>null})}return t})();var Wd={},Os=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Wd,r);return i!==Wd||n===Wd?i:this.parentInjector.get(e,n,r)}};function ch(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Im(i,a);else if(o==2){let u=a,l=e[++s];r=Im(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ve(t,e=0){let n=pe();if(n===null)return ne(t,e);let r=lt();return WD(r,n,vt(t),e)}function JL(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}tV(t,e,n,a,o,u,l)}o!==null&&r!==null&&XL(n,r,o)}function XL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new L(-301,!1);r.push(e[i],o)}}function eV(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function tV(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&nr(y)&&(u=!0,eV(t,n,m)),Dy(Jd(n,e),t,y.type)}aV(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=K0(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=ks(n.mergedAttrs,y.hostAttrs),rV(t,n,e,p,y),sV(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}nV(t,n,o)}function nV(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))gD(0,e,i,r),gD(1,e,i,r),yD(e,r,!1);else{let o=n.get(i);mD(0,e,o,r),mD(1,e,o,r),yD(e,r,!0)}}}function gD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),NS(e,o)}}function mD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),NS(e,s)}}function NS(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function yD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||hv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function rV(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Qi(i.type,!0)),s=new co(o,nr(i),ve,null);t.blueprint[r]=s,n[r]=s,iV(t,e,r,K0(t,n,i.hostVars,Tn),i)}function iV(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;oV(s)!=a&&s.push(a),s.push(n,r,o)}}function oV(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sV(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;nr(e)&&(n[""]=t)}}function aV(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function PS(t,e,n,r,i,o,s,a){let u=e[z],l=u.consts,h=di(l,s),p=Ah(u,t,n,r,h);return o&&JL(u,e,p,di(l,a),i),p.mergedAttrs=ks(p.mergedAttrs,p.attrs),p.attrs!==null&&ch(p,p.attrs,!1),p.mergedAttrs!==null&&ch(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function OS(t,e){b1(t,e),Um(e)&&t.queries.elementEnd(e)}function cV(t,e,n,r,i,o){let s=e.consts,a=di(s,i),u=Ah(e,t,n,r,a);if(u.mergedAttrs=ks(u.mergedAttrs,u.attrs),o!=null){let l=di(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&ch(u,u.attrs,!1),u.mergedAttrs!==null&&ch(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function uV(t,e,n){return t[e]=n}function lV(t,e){return t[e]}function mi(t,e,n){if(n===Tn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function dV(t,e,n,r){let i=mi(t,e,n);return mi(t,e+1,r)||i}function yy(t,e,n){return function r(i){let o=Pr(t)?Cn(t.index,e):e;Sh(o,5);let s=e[_t],a=vD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=vD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function vD(t,e,n,r){let i=se(null);try{return Ce(6,e,n),n(r)!==!1}catch(o){return Tv(t,o),!1}finally{Ce(7,e,n),se(i)}}function hV(t,e,n,r,i,o,s,a){let u=Ad(t),l=!1,h=null;if(!r&&u&&(h=pV(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=wn(t,n),m=r?r(p):p;Z1(n,m,o,a);let y=i.listen(m,o,a);if(!fV(o)){let b=r?M=>r(ln(M[t.index])):t.index;xS(b,e,n,o,a,y,!1)}}return l}function fV(t){return t.startsWith("animation")||t.startsWith("transition")}function pV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ts],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function xS(t,e,n,r,i,o,s){let a=e.firstCreatePass?Gm(e):null,u=qm(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function _D(t,e,n,r,i,o){let s=e[n],a=e[z],l=a.data[n].outputs[r],p=s[l].subscribe(o);xS(t.index,a,e,i,o,p,!0)}var Uy=Symbol("BINDING");var uh=class extends Hc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Nr(e);return new js(n,this.ngModule)}};function gV(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&Ch.SignalBased)!==0};return i&&(o.transform=i),o})}function mV(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function yV(t,e,n){let r=e instanceof ze?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new Os(n,r):n}function vV(t){let e=t.get(uo,null);if(e===null)throw new L(407,!1);let n=t.get(MS,null),r=t.get(Zn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function _V(t,e){let n=kS(t);return uv(e,n,n==="svg"?wT:n==="math"?CT:null)}function kS(t){return(t.selectors[0][0]||"div").toLowerCase()}var js=class extends Ph{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mV(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=TF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){Ce(22);let a=se(null);try{let u=this.componentDef,l=EV(r,u,s,o),h=yV(u,i||this.ngModule,e),p=vV(h),m=p.rendererFactory.createRenderer(null,u),y=r?tL(m,r,u.encapsulation,h):_V(u,m),b=s?.some(ED)||o?.some(k=>typeof k!="function"&&k.bindings.some(ED)),M=pv(null,l,null,512|W0(u),null,null,p,m,h,null,S0(y,h,!0));M[xe]=y,Od(M);let R=null;try{let k=PS(xe,M,2,"#host",()=>l.directiveRegistry,!0,0);U0(m,y,k),Fs(y,M),oS(l,M,k),x0(l,k,M),OS(l,k),n!==void 0&&wV(k,this.ngContentSelectors,n),R=Cn(k.index,M),M[_t]=R[_t],Sv(l,M,null)}catch(k){throw R!==null&&Ay(R),Ay(M),k}finally{Ce(23),xd()}return new lh(this.componentType,M,!!b)}finally{se(a)}}};function EV(t,e,n,r){let i=t?["ng-version","20.3.15"]:DF(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[Uy].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[Uy].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=Td(p);u.push(m)}return fv(0,null,IV(o,s),1,a,u,null,null,null,[i],null)}function IV(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function ED(t){let e=t[Uy].kind;return e==="input"||e==="twoWay"}var lh=class extends RS{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=oo(n[z],xe),this.location=Hs(this._tNode,n),this.instance=Cn(this._tNode.index,n)[_t],this.hostView=this.changeDetectorRef=new gi(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=Dv(r,i[z],i,e,n);this.previousInputValues.set(e,n);let s=Cn(r.index,i);Sh(s,1)}get injector(){return new ao(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function wV(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var po=(()=>{class t{static __NG_ELEMENT_ID__=CV}return t})();function CV(){let t=lt();return LS(t,pe())}var bV=po,FS=class extends bV{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new ao(this._hostTNode,this._hostLView)}get parentInjector(){let e=Zy(this._hostTNode,this._hostLView);if(BD(e)){let n=Zd(e,this._hostLView),r=Yd(e),i=n[z].data[r+8];return new ao(i,n)}else return new ao(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ID(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Vy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,oh(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!_1(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new js(Nr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(ze,null);k&&(o=k)}let m=Nr(h.componentType??{}),y=Vy(this._lContainer,m?.id??null),b=y?.firstChild??null,M=h.create(p,i,b,o,s,a);return this.insertImpl(M.hostView,l,oh(this._hostTNode,y)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(TT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[qe],l=new FS(u,u[En],u[qe]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Rv(s,i,o,r),e.attachToViewContainerRef(),Nm(vy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ID(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);r&&(Ec(vy(this._lContainer),n),Iv(r[z],r))}detach(e){let n=this._adjustIndex(e,-1),r=sh(this._lContainer,n);return r&&Ec(vy(this._lContainer),n)!=null?new gi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ID(t){return t[Dc]}function vy(t){return t[Dc]||(t[Dc]=[])}function LS(t,e){let n,r=e[t.index];return un(r)?n=r:(n=ES(r,e,null,t),e[t.index]=n,gv(e,n)),VS(n,e,t,r),new FS(n,t,e)}function TV(t,e){let n=t[Me],r=n.createComment(""),i=wn(e,t),o=n.parentNode(i);return nh(n,o,r,n.nextSibling(i),!1),r}var VS=jS,Ov=()=>!1;function DV(t,e,n){return Ov(t,e,n)}function jS(t,e,n,r){if(t[tr])return;let i;n.type&8?i=ln(r):i=TV(e,n),t[tr]=i}function SV(t,e,n){if(t[tr]&&t[Fn])return!0;let r=n[sn],i=e.index-xe;if(!r||XD(e)||N0(r,i))return!1;let s=Ny(r,i),a=r.data[yh]?.[i],[u,l]=GL(s,a);return t[tr]=u,t[Fn]=l,!0}function AV(t,e,n,r){Ov(t,n,e)||jS(t,e,n,r)}function US(){VS=AV,Ov=SV}var By=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},$y=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)xv(e,n).matches!==null&&this.queries[n].setDirty()}},Hy=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=FV(e):this.predicate=e}},zy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},qy=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,RV(n,o)),this.matchTNodeWithReadOption(e,n,qd(n,e,o,!1,!1))}else r===Vs?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,qd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===bn||i===po||i===Vs&&n.type&4)this.addMatch(n.index,-2);else{let o=qd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function RV(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function MV(t,e){return t.type&11?Hs(t,e):t.type&4?Mv(t,e):null}function NV(t,e,n,r){return n===-1?MV(e,t):n===-2?PV(t,e,r):Nc(t,t[z],n,e)}function PV(t,e,n){if(n===bn)return Hs(e,t);if(n===Vs)return Mv(e,t);if(n===po)return LS(e,t)}function BS(t,e,n,r){let i=e[er].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(NV(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Gy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=BS(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=Et;p<h.length;p++){let m=h[p];m[ui]===m[qe]&&Gy(m[z],m,l,r)}if(h[ro]!==null){let p=h[ro];for(let m=0;m<p.length;m++){let y=p[m];Gy(y[z],y,l,r)}}}}}return r}function OV(t,e){return t[er].queries[e].queryList}function xV(t,e,n){let r=new Xd((n&4)===4);return AT(t,e,r,r.destroy),(e[er]??=new $y).queries.push(new By(r))-1}function kV(t,e,n,r){let i=Nt();if(i.firstCreatePass){let o=lt();LV(i,new Hy(e,n,r),o.index),VV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return xV(i,pe(),n)}function FV(t){return t.split(",").map(e=>e.trim())}function LV(t,e,n){t.queries===null&&(t.queries=new zy),t.queries.track(new qy(e,n))}function VV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function xv(t,e){return t.queries.getByIndex(e)}function jV(t,e){let n=t[z],r=xv(n,e);return r.crossesNgTemplate?Gy(n,t,e,[]):BS(n,t,r,e)}var Us=class{},Oh=class{};var dh=class extends Us{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new uh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=xm(e);this._bootstrapComponents=q0(o.bootstrap),this._r3Injector=sy(e,n,[{provide:Us,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver},...r],Mr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},hh=class extends Oh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new dh(this.moduleType,e,[])}};var kc=class extends Us{injector;componentFactoryResolver=new uh(this);instance=null;constructor(e){super();let n=new Zi([...e.providers,{provide:Us,useValue:this},{provide:Hc,useValue:this.componentFactoryResolver}],e.parent||wc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function zs(t,e,n=null){return new kc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var UV=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Dd(!1,n.type),i=r.length>0?zs([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t(ne(ze))})}return t})();function It(t){return $s(()=>{let e=$S(t),n=ee(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Jy.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(UV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||xr.Emulated,styles:t.styles||rn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Dn("NgStandalone"),HS(n);let r=t.dependencies;return n.directiveDefs=wD(r,BV),n.pipeDefs=wD(r,km),n.id=zV(n),n})}function BV(t){return Nr(t)||Td(t)}function ar(t){return $s(()=>({type:t.type,bootstrap:t.bootstrap||rn,declarations:t.declarations||rn,imports:t.imports||rn,exports:t.exports||rn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function $V(t,e){if(t==null)return ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Ch.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function HV(t){if(t==null)return ci;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function Be(t){return $s(()=>{let e=$S(t);return HS(e),e})}function $S(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||ci,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||rn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$V(t.inputs,e),outputs:HV(t.outputs),debugInfo:null}}function HS(t){t.features?.forEach(e=>e(t))}function wD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function zV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qV(t){return Object.getPrototypeOf(t.prototype).constructor}function Yt(t){let e=qV(t.type),n=!0,r=[t];for(;e;){let i;if(nr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=_y(t.inputs),s.declaredInputs=_y(t.declaredInputs),s.outputs=_y(t.outputs);let a=i.hostBindings;a&&YV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&KV(t,u),l&&QV(t,l),GV(t,i),oT(t.outputs,i.outputs),nr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Yt&&(n=!1)}}e=Object.getPrototypeOf(e)}WV(r)}function GV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function WV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ks(i.hostAttrs,n=ks(n,i.hostAttrs))}}function _y(t){return t===ci?{}:t===rn?[]:t}function KV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function QV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function YV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function ZV(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=ks(t.mergedAttrs,t.attrs);let h=t.tView=fv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),As(t,!1);let u=qS(n,e,t,r);Fd()&&wv(n,e,u,t),Fs(u,e);let l=ES(u,e,u,t);e[r+xe]=l,gv(e,l),DV(l,t,e)}function zS(t,e,n,r,i,o,s,a,u,l,h){let p=n+xe,m;if(e.firstCreatePass){if(m=Ah(e,p,4,s||null,a||null),l!=null){let y=di(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return ZV(m,t,e,n,r,i,o,u),l!=null&&bv(t,m,h),m}var qS=GS;function GS(t,e,n,r){return Or(!0),e[Me].createComment("")}function JV(t,e,n,r){let i=!Ih(e,n);Or(i);let o=e[sn]?.data[a0]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return GS(t,e);let s=e[sn],a=Rh(s,t,e,n);Eh(s,r,a);let u=av(s,r);return Mh(u,a)}function WS(){qS=JV}var dn=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(dn||{}),CD=0,XV=1,Je=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Je||{});var e2=0,zc=1;var t2=4,n2=5;var r2=7,xs=8,i2=9,kv=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(kv||{});function Kd(t,e){let n=s2(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function o2(t){Kd(1,t),Kd(0,t),Kd(2,t)}function s2(t){let e=t2;return t===1?e=n2:t===2&&(e=i2),e}function KS(t){return t+1}function qs(t,e){let n=t[z],r=KS(e.index);return t[r]}function qc(t,e){let n=KS(e.index);return t.data[n]}function a2(t,e,n){let r=e[z],i=qc(r,n);switch(t){case Je.Complete:return i.primaryTmplIndex;case Je.Loading:return i.loadingTmplIndex;case Je.Error:return i.errorTmplIndex;case Je.Placeholder:return i.placeholderTmplIndex;default:return null}}function bD(t,e){return e===Je.Placeholder?t.placeholderBlockConfig?.[CD]??null:e===Je.Loading?t.loadingBlockConfig?.[CD]??null:null}function c2(t){return t.loadingBlockConfig?.[XV]??null}function TD(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function u2(t,e){let n=e.primaryTmplIndex+xe;return oo(t,n)}var l2=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?zs(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:t,providedIn:"environment",factory:()=>new t})}return t})();var QS=new V("");function Ey(t,e,n){return t.get(l2).getOrCreateInjector(e,t,n,"")}function d2(t,e,n){if(t instanceof Os){let i=t.injector,o=t.parentInjector,s=Ey(o,e,n);return new Os(i,s)}let r=t.get(ze);if(r!==t){let i=Ey(r,e,n);return new Os(t,i)}return Ey(t,e,n)}function so(t,e,n,r=!1){let i=n[qe],o=i[z];if(li(i))return;let s=qs(i,e),a=s[zc],u=s[r2];if(!(u!==null&&t<u)&&DD(a,t)&&DD(s[e2]??-1,t)){let l=qc(o,e),p=!r&&!0&&(c2(l)!==null||bD(l,Je.Loading)!==null||bD(l,Je.Placeholder))?p2:f2;try{p(t,s,n,e,i)}catch(m){Tv(i,m)}}}function h2(t,e){let n=t[Fn]?.findIndex(i=>i.data[d0]===e[zc])??-1;return{dehydratedView:n>-1?t[Fn][n]:null,dehydratedViewIx:n}}function f2(t,e,n,r,i){Ce(20);let o=a2(t,i,r);if(o!==null){e[zc]=t;let s=i[z],a=o+xe,u=oo(s,a),l=0;IS(n,l);let h;if(t===Je.Complete){let b=qc(s,r),M=b.providers;M&&M.length>0&&(h=d2(i[In],b,M))}let{dehydratedView:p,dehydratedViewIx:m}=h2(n,e),y=Av(i,u,null,{injector:h,dehydratedView:p});if(Rv(n,y,l,oh(u,p)),Sh(y,2),m>-1&&n[Fn]?.splice(m,1),(t===Je.Complete||t===Je.Error)&&Array.isArray(e[xs])){for(let b of e[xs])b();e[xs]=null}}Ce(21)}function DD(t,e){return t<e}function SD(t,e,n){t.loadingPromise.then(()=>{t.loadingState===dn.COMPLETE?so(Je.Complete,e,n):t.loadingState===dn.FAILED&&so(Je.Error,e,n)})}var p2=null;var xh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Fv=new V("");function go(t){return!!t&&typeof t.then=="function"}function YS(t){return!!t&&typeof t.subscribe=="function"}var Lv=new V("");function kh(t){return ut([{provide:Lv,multi:!0,useValue:t}])}var Vv=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=S(Lv,{optional:!0})??[];injector=S(Ue);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ze(this.injector,i);if(go(o))n.push(o);else if(YS(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),vi=new V("");function ZS(){zg(()=>{let t="";throw new L(600,t)})}function JS(t){return t.isBoundToModule}var g2=10;var dt=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S(Qt);afterRenderManager=S(_v);zonelessEnabled=S(Ms);rootEffectScheduler=S(dy);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Oe;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(Vn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(H(n=>!n))}constructor(){S(fo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=S(ze);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ue.NULL){return this._injector.get(Ee).run(()=>{Ce(10);let s=n instanceof Ph;if(!this._injector.get(Vv).done){let b="";throw new L(405,b)}let u;s?u=n:u=this._injector.get(Hc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=JS(u)?void 0:this._injector.get(Us),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Fv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Mc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(bh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new L(101,!1);let n=se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(n),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(uo,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<g2;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Sc(i))continue;let o=r&&!this.zonelessEnabled?0:1;mS(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Mc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(vi,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Mc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new L(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Mc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function m2(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function XS(t,e,n){let r=e[In],i=e[z];if(t.loadingState!==dn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=qs(e,n),s=u2(i,t);t.loadingState=dn.IN_PROGRESS,Kd(1,o);let a=t.dependencyResolverFn,u=r.get(pi).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let b=y.value,M=Nr(b)||Td(b);if(M)p.push(M);else{let R=km(b);R&&m.push(R)}}else{h=!0;break}if(h){if(t.loadingState=dn.FAILED,t.errorTmplIndex===null){let b=new L(-750,!1);Tv(e,b)}}else{t.loadingState=dn.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=TD(y.directiveRegistry,p);let b=p.map(R=>R.type),M=Dd(!1,...b);t.providers=M}m.length>0&&(y.pipeRegistry=TD(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=dn.COMPLETE,u()}),t.loadingPromise)}function y2(t,e){return e[In].get(QS,null,{optional:!0})?.behavior!==kv.Manual}function v2(t,e,n){let r=e[z],i=e[n.index];if(!y2(t,e))return;let o=qs(e,n),s=qc(r,n);switch(o2(o),s.loadingState){case dn.NOT_STARTED:so(Je.Loading,n,i),XS(s,e,n),s.loadingState===dn.IN_PROGRESS&&SD(s,n,i);break;case dn.IN_PROGRESS:so(Je.Loading,n,i),SD(s,n,i);break;case dn.COMPLETE:so(Je.Complete,n,i);break;case dn.FAILED:so(Je.Error,n,i);break;default:}}async function eA(t,e,n){let r=t.get(vh);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=oF(e,t);if(s.length===0)return;o!==null&&s.shift(),I2(r,s),o!==null&&await o;let a=s[0];r.has(a)?await AD(t,s,n):r.awaitParentBlock(a,async()=>await AD(t,s,n))}async function AD(t,e,n){let r=t.get(vh),i=r.hydrating,o=t.get(Vn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(await C2(h),await w2(t),_2(h)){zL(h),RD(e.slice(u),r);break}i.get(l).resolve()}else{E2(u,e,r),RD(e.slice(u),r);break}}let a=e[e.length-1];await i.get(a)?.promise,o.remove(s),n&&n(e),qL(r.get(a),e,r,t.get(dt))}function _2(t){return qs(t.lView,t.tNode)[zc]===Je.Error}function E2(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Nh(i.lContainer)}function RD(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function I2(t,e){for(let n of e)t.hydrating.set(n,m2())}function w2(t){return new Promise(e=>Th(e,{injector:t}))}async function C2(t){let{tNode:e,lView:n}=t,r=qs(n,e);return new Promise(i=>{b2(r,i),v2(2,n,e)})}function b2(t,e){Array.isArray(t[xs])||(t[xs]=[]),t[xs].push(e)}function Lr(t,e,n,r){let i=pe(),o=Rs();if(mi(i,o,e)){let s=Nt(),a=kd();dL(a,i,t,e,n,r)}return Lr}var jY=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Xe(t,e,n,r,i,o,s,a){Dn("NgControlFlow");let u=pe(),l=Nt(),h=di(l.consts,o);return zS(u,l,t,e,n,r,i,h,256,s,a),jv}function jv(t,e,n,r,i,o,s,a){Dn("NgControlFlow");let u=pe(),l=Nt(),h=di(l.consts,o);return zS(u,l,t,e,n,r,i,h,512,s,a),jv}function et(t,e){Dn("NgControlFlow");let n=pe(),r=Rs(),i=n[r]!==Tn?n[r]:-1,o=i!==-1?MD(n,xe+i):void 0,s=0;if(mi(n,r,t)){let a=se(null);try{if(o!==void 0&&IS(o,s),t!==-1){let u=xe+t,l=MD(n,u),h=T2(n[z],u),p=QL(l,h,n),m=Av(n,h,e,{dehydratedView:p});Rv(l,m,s,oh(h,p))}}finally{se(a)}}else if(o!==void 0){let a=RL(o,s);a!==void 0&&(a[_t]=e)}}function MD(t,e){return t[e]}function T2(t,e){return oo(t,e)}function $t(t,e,n){let r=pe(),i=Rs();if(mi(r,i,e)){let o=Nt(),s=kd();cS(s,r,t,e,r[Me],n)}return $t}function ND(t,e,n,r,i){Dv(e,t,n,i?"class":"style",r)}function F(t,e,n,r){let i=pe(),o=i[z],s=t+xe,a=o.firstCreatePass?PS(s,i,2,e,lL,NT(),n,r):o.data[s];if(uS(a,i,t,e,Uv),Ad(a)){let u=i[z];oS(u,i,a),x0(u,a,i)}return r!=null&&bv(i,a),F}function B(){let t=Nt(),e=lt(),n=lS(e);return t.firstCreatePass&&OS(t,n),Qm(n)&&Ym(),Wm(),n.classesWithoutHost!=null&&D1(n)&&ND(t,n,pe(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&S1(n)&&ND(t,n,pe(),n.stylesWithoutHost,!1),B}function re(t,e,n,r){return F(t,e,n,r),B(),re}function Gs(t,e,n,r){let i=pe(),o=i[z],s=t+xe,a=o.firstCreatePass?cV(s,o,2,e,n,r):o.data[s];return uS(a,i,t,e,Uv),r!=null&&bv(i,a),Gs}function Ws(){let t=lt(),e=lS(t);return Qm(e)&&Ym(),Wm(),Ws}var Uv=(t,e,n,r,i)=>(Or(!0),uv(e[Me],r,oy()));function D2(t,e,n,r,i){let o=!Ih(e,n);if(Or(o),o)return uv(e[Me],r,oy());let s=e[sn],a=Rh(s,t,e,n);return M0(s,i)&&Eh(s,i,a.nextSibling),s&&(ZD(n)||JD(a))&&Pr(n)&&(PT(n),j0(a)),a}function tA(){Uv=D2}var S2=(t,e,n,r,i)=>(Or(!0),L0(e[Me],""));function A2(t,e,n,r,i){let o,s=!Ih(e,n);if(Or(s),s)return L0(e[Me],"");let a=e[sn],u=Rh(a,t,e,n),l=rF(a,i);return Eh(a,i,u),o=Mh(l,u),o}function nA(){S2=A2}function Zt(){return pe()}var Gc="en-US";var R2=Gc;function rA(t){typeof t=="string"&&(R2=t.toLowerCase().replace(/_/g,"-"))}function Le(t,e,n){let r=pe(),i=Nt(),o=lt();return iA(i,r,r[Me],o,t,e,n),Le}function iA(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=yy(r,e,o),hV(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=yy(r,e,o),_D(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=yy(r,e,o),_D(r,e,p,i,i,u)}}function ge(t=1){return qT(t)}function Bv(t,e,n,r){kV(t,e,n,r)}function $v(t){let e=pe(),n=Nt(),r=ny();Pd(r+1);let i=xv(n,r);if(t.dirty&&bT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=jV(e,r);t.reset(o,U1),t.notifyOnChanges()}return!0}return!1}function Hv(){return OV(pe(),ny())}function $d(t,e){return t<<17|e<<2}function lo(t){return t>>17&32767}function M2(t){return(t&2)==2}function N2(t,e){return t&131071|e<<17}function Wy(t){return t|2}function Bs(t){return(t&131068)>>2}function Iy(t,e){return t&-131069|e<<2}function P2(t){return(t&1)===1}function Ky(t){return t|1}function O2(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=lo(s),u=Bs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||bs(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=lo(t[a+1]);t[r+1]=$d(m,a),m!==0&&(t[m+1]=Iy(t[m+1],r)),t[a+1]=N2(t[a+1],r)}else t[r+1]=$d(a,0),a!==0&&(t[a+1]=Iy(t[a+1],r)),a=r;else t[r+1]=$d(u,0),a===0?a=r:t[u+1]=Iy(t[u+1],r),u=r;l&&(t[r+1]=Wy(t[r+1])),PD(t,h,r,!0),PD(t,h,r,!1),x2(e,h,t,r,o),s=$d(a,u),o?e.classBindings=s:e.styleBindings=s}function x2(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&bs(o,e)>=0&&(n[r+1]=Ky(n[r+1]))}function PD(t,e,n,r){let i=t[n+1],o=e===null,s=r?lo(i):Bs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];k2(u,e)&&(a=!0,t[s+1]=r?Ky(l):Wy(l)),s=r?lo(l):Bs(l)}a&&(t[n+1]=r?Wy(i):Ky(i))}function k2(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?bs(t,e)>=0:!1}function Jt(t,e){return F2(t,e,null,!0),Jt}function F2(t,e,n,r){let i=pe(),o=Nt(),s=ty(2);if(o.firstUpdatePass&&V2(o,t,s,r),e!==Tn&&mi(i,s,e)){let a=o.data[hi()];H2(o,a,i,i[Me],t,i[s+1]=z2(e,n),r,s)}}function L2(t,e){return e>=t.expandoStartIndex}function V2(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[hi()],s=L2(t,n);q2(o,r)&&e===null&&!s&&(e=!1),e=j2(i,o,e,r),O2(i,o,e,n,s,r)}}function j2(t,e,n,r){let i=BT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=wy(null,t,e,n,r),n=Fc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=wy(i,t,e,n,r),o===null){let u=U2(t,e,r);u!==void 0&&Array.isArray(u)&&(u=wy(null,t,e,u[1],r),u=Fc(u,e.attrs,r),B2(t,e,r,u))}else o=$2(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function U2(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Bs(r)!==0)return t[lo(r)]}function B2(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[lo(i)]=r}function $2(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Fc(r,s,n)}return Fc(r,e.attrs,n)}function wy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Fc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Fc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pT(t,s,n?!0:e[++o]))}return t===void 0?null:t}function H2(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=P2(l)?OD(u,e,n,i,Bs(l),s):void 0;if(!fh(h)){fh(o)||M2(l)&&(o=OD(u,null,n,i,a,s));let p=Bm(hi(),n);eL(r,s,p,i,o)}}function OD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Tn&&(m=p?rn:void 0);let y=p?bd(m,r):h===r?m:void 0;if(l&&!fh(y)&&(y=bd(u,r)),fh(y)&&(a=y,s))return a;let b=t[i+1];i=s?lo(b):Bs(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=bd(u,r))}return a}function fh(t){return t!==void 0}function z2(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mr(Bc(t)))),t}function q2(t,e){return(t.flags&(e?8:16))!==0}function Y(t,e=""){let n=pe(),r=Nt(),i=t+xe,o=r.firstCreatePass?Ah(r,i,1,e,null):r.data[i],s=oA(r,n,o,e,t);n[i]=s,Fd()&&wv(r,n,s,o),As(o,!1)}var oA=(t,e,n,r,i)=>(Or(!0),F0(e[Me],r));function G2(t,e,n,r,i){let o=!Ih(e,n);if(Or(o),o)return F0(e[Me],r);let s=e[sn];return Rh(s,t,e,n)}function sA(){oA=G2}function W2(t,e,n,r=""){return mi(t,Rs(),n)?e+Xi(n)+r:Tn}function K2(t,e,n,r,i,o=""){let s=FT(),a=dV(t,s,n,i);return ty(2),a?e+Xi(n)+r+Xi(i)+o:Tn}function Bn(t){return xt("",t),Bn}function xt(t,e,n){let r=pe(),i=W2(r,t,e,n);return i!==Tn&&aA(r,hi(),i),xt}function Fh(t,e,n,r,i){let o=pe(),s=K2(o,t,e,n,r,i);return s!==Tn&&aA(o,hi(),s),Fh}function aA(t,e,n){let r=Bm(e,t);hF(t[Me],r,n)}function $n(t,e,n){uy(e)&&(e=e());let r=pe(),i=Rs();if(mi(r,i,e)){let o=Nt(),s=kd();cS(s,r,t,e,r[Me],n)}return $n}function cr(t,e){let n=uy(t);return n&&t.set(e),n}function Hn(t,e){let n=pe(),r=Nt(),i=lt();return iA(r,n,n[Me],i,t,e),Hn}function Q2(t,e,n){let r=Nt();if(r.firstCreatePass){let i=nr(t);Qy(n,r.data,r.blueprint,i,!0),Qy(e,r.data,r.blueprint,i,!1)}}function Qy(t,e,n,r,i){if(t=vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Qy(t[o],e,n,r,i);else{let o=Nt(),s=pe(),a=lt(),u=Yi(t)?t:vt(t.provide),l=Lm(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Yi(t)||!t.multi){let y=new co(l,i,ve,null),b=by(u,e,i?h:h+m,p);b===-1?(Dy(Jd(a,s),o,u),Cy(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=by(u,e,h+m,p),b=by(u,e,h,h+m),M=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!M){Dy(Jd(a,s),o,u);let k=J2(i?Z2:Y2,n.length,i,r,l,t);!i&&R&&(n[b].providerFactory=k),Cy(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=cA(n[i?b:y],l,!i&&r);Cy(o,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function Cy(t,e,n,r){let i=Yi(e),o=_T(e);if(i||o){let u=(o?vt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function cA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function by(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Y2(t,e,n,r,i){return Yy(this.multi,[])}function Z2(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Nc(r,r[z],this.providerFactory.index,i);s=u.slice(0,a),Yy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Yy(o,s);return s}function Yy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function J2(t,e,n,r,i,o){let s=new co(t,n,ve,null);return s.multi=[],s.index=e,s.componentProviders=0,cA(s,i,r&&!n),s}function ur(t,e=[]){return n=>{n.providersResolver=(r,i)=>Q2(r,i?i(t):t,e)}}function Wc(t,e,n){let r=kT()+t,i=pe();return i[r]===Tn?uV(i,r,n?e.call(n):e()):lV(i,r)}var ph=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},zv=(()=>{class t{compileModuleSync(n){return new hh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=xm(n),o=q0(i.declarations).reduce((s,a)=>{let u=Nr(a);return u&&s.push(new js(u)),s},[]);return new ph(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var X2=(()=>{class t{zone=S(Ee);changeDetectionScheduler=S(Zn);applicationRef=S(dt);applicationErrorHandler=S(Qt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function uA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ee(ee(O({},lA()),{scheduleInRootZone:n})),[{provide:Ee,useFactory:t},{provide:vn,multi:!0,useFactory:()=>{let r=S(X2,{optional:!0});return()=>r.initialize()}},{provide:vn,multi:!0,useFactory:()=>{let r=S(ej);return()=>{r.initialize()}}},e===!0?{provide:ly,useValue:!0}:[],{provide:Vd,useValue:n??Y0},{provide:Qt,useFactory:()=>{let r=S(Ee),i=S(ze),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(xn),o.handleError(s))})}}}]}function lA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var ej=(()=>{class t{subscription=new je;initialized=!1;zone=S(Ee);pendingTasks=S(Vn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ee.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ee.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var qv=(()=>{class t{applicationErrorHandler=S(Qt);appRef=S(dt);taskService=S(Vn);ngZone=S(Ee);zonelessEnabled=S(Ms);tracing=S(fo,{optional:!0});disableScheduling=S(ly,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(rh):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Vd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Oc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?cD:Z0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(rh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,cD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gv(){return Dn("NgZoneless"),ut([{provide:Zn,useExisting:qv},{provide:Ee,useClass:Oc},{provide:Ms,useValue:!0},{provide:Vd,useValue:!1},[]])}function tj(){return typeof $localize<"u"&&$localize.locale||Gc}var Wv=new V("",{providedIn:"root",factory:()=>S(Wv,{optional:!0,skipSelf:!0})||tj()});function wt(t){return nT(t)}function mo(t,e){return Bl(t,e?.equal)}var dA=class{[Mt];constructor(e){this[Mt]=e}destroy(){this[Mt].destroy()}};var Jv={JSACTION:"__jsaction",OWNER:"__owner"},gA={};function nj(t){return t[Jv.JSACTION]}function hA(t,e){t[Jv.JSACTION]=e}function rj(t){return gA[t]}function ij(t,e){gA[t]=e}var K={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},oj=[K.MOUSEENTER,K.MOUSELEAVE,"pointerenter","pointerleave"],XY=[K.CLICK,K.DBLCLICK,K.FOCUSIN,K.FOCUSOUT,K.KEYDOWN,K.KEYUP,K.KEYPRESS,K.MOUSEOVER,K.MOUSEOUT,K.SUBMIT,K.TOUCHSTART,K.TOUCHEND,K.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],sj=[K.FOCUS,K.BLUR,K.ERROR,K.LOAD,K.TOGGLE],Xv=t=>sj.indexOf(t)>=0;function aj(t){return t===K.MOUSEENTER?K.MOUSEOVER:t===K.MOUSELEAVE?K.MOUSEOUT:t===K.POINTERENTER?K.POINTEROVER:t===K.POINTERLEAVE?K.POINTEROUT:t}function cj(t,e,n,r){let i=!1;Xv(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function uj(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function lj(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var fA=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function dj(t){return t.which===2||t.which==null&&t.button===4}function hj(t){return fA&&t.metaKey||!fA&&t.ctrlKey||dj(t)||t.shiftKey}function fj(t,e,n){let r=t.relatedTarget;return(t.type===K.MOUSEOVER&&e===K.MOUSEENTER||t.type===K.MOUSEOUT&&e===K.MOUSELEAVE||t.type===K.POINTEROVER&&e===K.POINTERENTER||t.type===K.POINTEROUT&&e===K.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function pj(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===K.MOUSEOVER?n.type=K.MOUSEENTER:t.type===K.MOUSEOUT?n.type=K.MOUSELEAVE:t.type===K.POINTEROVER?n.type=K.POINTERENTER:n.type=K.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var gj=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Uh=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){gj&&(this.element.style.cursor="pointer"),this.handlerInfos.push(cj(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)uj(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},mj={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function _i(t){return t.eventType}function e_(t,e){t.eventType=e}function Vh(t){return t.event}function mA(t,e){t.event=e}function yA(t){return t.targetElement}function vA(t,e){t.targetElement=e}function _A(t){return t.eic}function yj(t,e){t.eic=e}function vj(t){return t.timeStamp}function _j(t,e){t.timeStamp=e}function jh(t){return t.eia}function EA(t,e,n){t.eia=[e,n]}function Kv(t){t.eia=void 0}function Lh(t){return t[1]}function Ej(t){return t.eirp}function IA(t,e){t.eirp=e}function wA(t){return t.eir}function CA(t,e){t.eir=e}function bA(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function Ij(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Qv=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return _i(this.eventInfo)}setEventType(e){e_(this.eventInfo,e)}getEvent(){return Vh(this.eventInfo)}setEvent(e){mA(this.eventInfo,e)}getTargetElement(){return yA(this.eventInfo)}setTargetElement(e){vA(this.eventInfo,e)}getContainer(){return _A(this.eventInfo)}setContainer(e){yj(this.eventInfo,e)}getTimestamp(){return vj(this.eventInfo)}setTimestamp(e){_j(this.eventInfo,e)}getAction(){let e=jh(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Kv(this.eventInfo);return}EA(this.eventInfo,e.name,e.element)}getIsReplay(){return Ej(this.eventInfo)}setIsReplay(e){IA(this.eventInfo,e)}getResolved(){return wA(this.eventInfo)}setResolved(e){CA(this.eventInfo,e)}clone(){return new t(bA(this.eventInfo))}},wj={},Cj=/\s*;\s*/,bj=K.CLICK,Yv=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&_i(e)===K.CLICK&&hj(Vh(e))?e_(e,K.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){wA(e)||(this.populateAction(e,yA(e)),CA(e,!0))}resolveParentAction(e){let n=jh(e),r=n&&Lh(n);Kv(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==_A(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!jh(e));)r=this.getParentNode(r);let i=jh(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(_i(e)===K.MOUSEENTER||_i(e)===K.MOUSELEAVE||_i(e)===K.POINTERENTER||_i(e)===K.POINTERLEAVE)))if(fj(Vh(e),_i(e),Lh(i))){let o=pj(Vh(e),Lh(i));mA(e,o),vA(e,Lh(i))}else Kv(e)}getParentNode(e){let n=e[Jv.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[_i(n)];i!==void 0&&EA(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=nj(e);if(!n){let r=e.getAttribute(jd.JSACTION);if(!r)n=wj,hA(e,n);else{if(n=rj(r),!n){n={};let i=r.split(Cj);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(mj.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():bj,h=u?s.substr(a+1).trim():s;n[l]=h}ij(r,n)}hA(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},TA=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(TA||{}),Zv=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Qv(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&Tj(r.element,n)&&lj(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function Tj(t,e){return t.tagName==="A"&&(e.getEventType()===K.CLICK||e.getEventType()===K.CLICKMOD)}var DA=Symbol.for("propagationStopped"),t_={REPLAY:101};var Dj="`preventDefault` called during event replay.";var Sj="`composedPath` called during event replay.",Bh=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Yv({clickModSupport:n}),this.dispatcher=new Zv(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&Mj(e),Aj(e);e.getAction();){if(Nj(e),Xv(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),Rj(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function Aj(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[DA]=!0,n()};yo(e,"stopPropagation",r),yo(e,"stopImmediatePropagation",r)}function Rj(t){return!!t.getEvent()[DA]}function Mj(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);yo(e,"target",n),yo(e,"eventPhase",t_.REPLAY),yo(e,"preventDefault",()=>{throw r(),new Error(Dj+"")}),yo(e,"composedPath",()=>{throw new Error(Sj+"")})}function Nj(t){let e=t.getEvent(),n=t.getAction()?.element;n&&yo(e,"currentTarget",n,{configurable:!0})}function yo(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function SA(t,e){t.ecrd(n=>{e.dispatch(n)},TA.I_AM_THE_JSACTION_FRAMEWORK)}function Pj(t){return t?.q??[]}function Oj(t){t&&(pA(t.c,t.et,t.h),pA(t.c,t.etc,t.h,!0))}function pA(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var xj=!1,AA=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=xj;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=Ij(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){IA(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&oj.indexOf(n)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[n]=o;let s=aj(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),Oj(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=bA(i);e_(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function RA(t,e=window){return Pj(e._ejsas?.[t])}function n_(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var kA=Symbol("InputSignalNode#UNSET"),eU=ee(O({},$l),{transformFn:void 0,applyValueToInputSignal(t,e){as(t,e)}});function FA(t,e){let n=Object.create(eU);n.value=t,n.transformFn=e?.transform;function r(){if(is(n),n.value===kA){let i=null;throw new L(-950,i)}return n.value}return r[Mt]=n,r}var qh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Lc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},tU=new V("");tU.__NG_ELEMENT_ID__=t=>{let e=lt();if(e===null)throw new L(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new L(204,!1)};function MA(t,e){return FA(t,e)}function nU(t){return FA(kA,t)}var LA=(MA.required=nU,MA);var r_=new V(""),rU=new V("");function Kc(t){return!t.moduleRef}function iU(t){let e=Kc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ee);return n.run(()=>{Kc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Qt),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Kc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(r_);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(r_);s.add(o),t.moduleRef.onDestroy(()=>{Mc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return sU(r,n,()=>{let o=e.get(Vn),s=o.add(),a=e.get(Vv);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Wv,Gc);if(rA(u||Gc),!e.get(rU,!0))return Kc(t)?e.get(dt):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Kc(t)){let h=e.get(dt);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return oU?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var oU;function sU(t,e,n){try{let r=n();return go(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Hh=null;function aU(t=[],e){return Ue.create({name:e,providers:[{provide:Ic,useValue:"platform"},{provide:r_,useValue:new Set([()=>Hh=null])},...t]})}function cU(t=[]){if(Hh)return Hh;let e=aU(t);return Hh=e,ZS(),uU(e),e}function uU(t){let e=t.get(gh,null);Ze(t,()=>{e?.forEach(n=>n())})}function Qc(){return!1}var _o=(()=>{class t{static __NG_ELEMENT_ID__=lU}return t})();function lU(t){return dU(lt(),pe(),(t&16)===16)}function dU(t,e,n){if(Pr(t)&&!n){let r=Cn(t.index,e);return new gi(r,r)}else if(t.type&175){let r=e[Kt];return new gi(r,e)}return null}function VA(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;Ce(8);try{let o=i?.injector??cU(r),s=[uA({}),{provide:Zn,useExisting:qv},WT,...n||[]],a=new kc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return iU({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(9)}}var $h=new WeakSet,NA="",zh=[];function PA(t){return t.get(rv,p0)}function jA(){let t=[{provide:rv,useFactory:()=>{let e=!0;{let n=S(sr);e=!!window._ejsas?.[n]}return e&&Dn("NgEventReplay"),e}}];return t.push({provide:vn,useValue:()=>{let e=S(dt),{injector:n}=e;if(!$h.has(e)){let r=S(iv);if(PA(n)){w0();let i=n.get(sr),o=E0(i,(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(m0(s,a,u),y0(s,r))});e.onDestroy(o)}}},multi:!0},{provide:vi,useFactory:()=>{let e=S(dt),{injector:n}=e;return()=>{if(!PA(n)||$h.has(e))return;$h.add(e);let r=n.get(sr);e.onDestroy(()=>{$h.delete(e),n_(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(_0);hU(i,n);let o=n.get(iv);o.get(NA)?.forEach(v0),o.delete(NA);let s=i.instance;R0(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var hU=(t,e)=>{let n=e.get(sr),r=window._ejsas[n],i=t.instance=new AA(new Uh(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=RA(n);i.replayEarlyEventInfos(o),n_(n);let s=new Bh(a=>{fU(e,a,a.currentTarget)});SA(i,s)};function fU(t,e,n){let r=(n&&n.getAttribute(Uc))??"";/d\d+/.test(r)?pU(r,t,e,n):e.eventPhase===t_.REPLAY&&ov(e,n)}function pU(t,e,n,r){zh.push({event:n,currentTarget:r}),eA(e,t,gU)}function gU(t){let e=[...zh],n=new Set(t);zh=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Uc);n.has(o)?ov(r,i):zh.push({event:r,currentTarget:i})}}var OA=!1;function mU(){OA||(OA=!0,D0(),tA(),sA(),nA(),WS(),US(),SS(),aS())}function yU(t){return t.whenStable()}function UA(){let t=[{provide:jc,useFactory:()=>{let e=!0;return e=!!S(ho,{optional:!0})?.get(sv,null),e&&Dn("NgHydration"),e}},{provide:vn,useValue:()=>{CS(!1),S(jc)&&(P0(Vc()),mU())},multi:!0}];return t.push({provide:nv,useFactory:()=>S(jc)},{provide:vi,useFactory:()=>{if(S(jc)){let e=S(dt);return()=>{yU(e).then(()=>{e.destroyed||Pv(e)})}}return()=>{}},multi:!0}),ut(t)}function Eo(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var HA=null;function Sn(){return HA}function i_(t){HA??=t}var Yc=class{},o_=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(zA),providedIn:"platform"})}return t})();var zA=(()=>{class t extends o_{_location;_history;_doc=S(at);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Sn().getBaseHref(this._doc)}onPopState(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Sn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function qA(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function BA(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function Ei(t){return t&&t[0]!=="?"?`?${t}`:t}var Ks=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(WA),providedIn:"root"})}return t})(),GA=new V(""),WA=(()=>{class t extends Ks{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(at).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return qA(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ei(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Ei(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(ne(o_),ne(GA,8))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Qs=(()=>{class t{_subject=new Oe;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=EU(BA($A(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ei(r))}normalize(n){return t.stripTrailingSlash(_U(this._basePath,$A(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ei(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ei;static joinWithSlash=qA;static stripTrailingSlash=BA;static \u0275fac=function(r){return new(r||t)(ne(Ks))};static \u0275prov=$({token:t,factory:()=>vU(),providedIn:"root"})}return t})();function vU(){return new Qs(ne(Ks))}function _U(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function $A(t){return t.replace(/\/index.html$/,"")}function EU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var An=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=kn({})}return t})();function s_(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Zc=class{};var a_="browser";function KA(t){return t===a_}var Jc=class{_doc;constructor(e){this._doc=e}manager},Gh=(()=>{class t extends Jc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(ne(at))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Kh=new V(""),h_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof Gh));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof Gh);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(ne(Kh),ne(Ee))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),c_="ng-app-id";function QA(t){for(let e of t)e.remove()}function YA(t,e){let n=e.createElement("style");return n.textContent=t,n}function CU(t,e,n,r){let i=t.head?.querySelectorAll(`style[${c_}="${e}"],link[${c_}="${e}"]`);if(i)for(let o of i)o.removeAttribute(c_),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function l_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var f_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,CU(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,YA);r?.forEach(i=>this.addUsage(i,this.external,l_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(QA(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])QA(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,YA(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,l_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(ne(at),ne(sr),ne(mh,8),ne(Fr))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),u_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},p_=/%COMP%/g;var JA="%COMP%",bU=`_nghost-${JA}`,TU=`_ngcontent-${JA}`,DU=!0,SU=new V("",{providedIn:"root",factory:()=>DU});function AU(t){return TU.replace(p_,t)}function RU(t){return bU.replace(p_,t)}function XA(t,e){return e.map(n=>n.replace(p_,t))}var g_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Xc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Wh?i.applyToHost(n):i instanceof eu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case xr.Emulated:o=new Wh(u,l,r,this.appId,h,s,a,p,m);break;case xr.ShadowDom:return new d_(u,l,n,r,s,a,this.nonce,p,m);default:o=new eu(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(ne(h_),ne(f_),ne(sr),ne(SU),ne(at),ne(Ee),ne(mh),ne(fo,8))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),Xc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(u_[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(ZA(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(ZA(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new L(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=u_[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=u_[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(kr.DashCase|kr.Important)?e.style.setProperty(n,r,i&kr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&kr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Sn().getGlobalEventTarget(this.doc,e),!e))throw new L(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function ZA(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var d_=class extends Xc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=XA(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=l_(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eu=class extends Xc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?XA(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ls.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wh=class extends eu{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=AU(h),this.hostAttr=RU(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var Qh=class t extends Yc{supportsDOMEvents=!0;static makeCurrent(){i_(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=MU();return n==null?null:NU(n)}resetBaseElement(){tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return s_(document.cookie,e)}},tu=null;function MU(){return tu=tu||document.head.querySelector("base"),tu?tu.getAttribute("href"):null}function NU(t){return new URL(t,document.baseURI).pathname}var PU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),eR=["alt","control","meta","shift"],OU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tR=(()=>{class t extends Jc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Sn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),eR.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=OU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),eR.forEach(s=>{if(s!==i){let a=xU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(ne(at))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();function m_(t,e,n){let r=O({rootComponent:t,platformRef:n?.platformRef},kU(e));return VA(r)}function kU(t){return{appProviders:[...UU,...t?.providers??[]],platformProviders:jU}}function FU(){Qh.makeCurrent()}function LU(){return new xn}function VU(){return Xy(document),document}var jU=[{provide:Fr,useValue:a_},{provide:gh,useValue:FU,multi:!0},{provide:at,useFactory:VU}];var UU=[{provide:Ic,useValue:"root"},{provide:xn,useFactory:LU},{provide:Kh,useClass:Gh,multi:!0,deps:[at]},{provide:Kh,useClass:tR,multi:!0,deps:[at]},g_,f_,h_,{provide:uo,useExisting:g_},{provide:Zc,useClass:PU},[]];var nu=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var BU="X-Request-URL",$U="text/plain",HU="application/json",lie=`${HU}, ${$U}, */*`;var v_=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(v_||{}),y_=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new nu,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var Yh=class t extends y_{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=v_.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};var nR=new V("");var die=RegExp(`^${BU}:`,"m");var zU=new V(""),qU="b",GU="h",WU="s",KU="st",QU="u",YU="rt",__=new V(""),ZU=["GET","HEAD"];function JU(t,e){let y=S(__),{isCacheActive:n}=y,r=Cb(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!ZU.includes(o)||!r.includeRequestsWithAuthHeaders&&XU(t)||r.filter?.(t)===!1)return e(t);let s=S(ho);if(S(zU,{optional:!0}))throw new L(2803,!1);let u=t.url,l=eB(t,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[qU]:b,[YU]:M,[GU]:R,[WU]:k,[KU]:Z,[QU]:X}=h,Ie=b;switch(M){case"arraybuffer":Ie=new TextEncoder().encode(b).buffer;break;case"blob":Ie=new Blob([b]);break}let gt=new nu(R);return q(new Yh({body:Ie,headers:gt,status:k,statusText:Z,url:X}))}return e(t)}function XU(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function rR(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function eB(t,e){let{params:n,method:r,responseType:i}=t,o=rR(n),s=t.serializeBody();s instanceof URLSearchParams?s=rR(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=tB(a);return u}function tB(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function iR(t){return[{provide:__,useFactory:()=>(Dn("NgHttpTransferCache"),O({isCacheActive:!0},t))},{provide:nR,useValue:JU,multi:!0},{provide:vi,multi:!0,useFactory:()=>{let e=S(dt),n=S(__);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var oR=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(ne(at))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Zh=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(Zh||{});function nB(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function sR(){return nB(Zh.EventReplay,jA())}function aR(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(Zh.HttpTransferCacheOptions);return ut([[],[],UA(),n.has(Zh.NoHttpTransferCache)||r?[]:iR({}),e])}var ie="primary",yu=Symbol("RouteTitle"),b_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Co(t){return new b_(t)}function gR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function iB(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!lr(t[n],e[n]))return!1;return!0}function lr(t,e){let n=t?T_(t):void 0,r=e?T_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!mR(t[i],e[i]))return!1;return!0}function T_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function mR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function yR(t){return t.length>0?t[t.length-1]:null}function Ur(t){return om(t)?t:go(t)?Re(Promise.resolve(t)):q(t)}var oB={exact:_R,subset:ER},vR={exact:sB,subset:aB,ignored:()=>!0};function cR(t,e,n){return oB[n.paths](t.root,e.root,n.matrixParams)&&vR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function sB(t,e){return lr(t,e)}function _R(t,e,n){if(!Io(t.segments,e.segments)||!ef(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!_R(t.children[r],e.children[r],n))return!1;return!0}function aB(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>mR(t[n],e[n]))}function ER(t,e,n){return IR(t,e,e.segments,n)}function IR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Io(i,n)||e.hasChildren()||!ef(i,n,r))}else if(t.segments.length===n.length){if(!Io(t.segments,n)||!ef(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ER(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Io(t.segments,i)||!ef(t.segments,i,r)||!t.children[ie]?!1:IR(t.children[ie],e,o,r)}}function ef(t,e,n){return e.every((r,i)=>vR[n](t[i].parameters,r.parameters))}var hr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new be([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){return lB.serialize(this)}},be=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tf(this)}},Ii=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Co(this.parameters),this._parameterMap}toString(){return CR(this)}};function cB(t,e){return Io(t,e)&&t.every((n,r)=>lr(n.parameters,e[r].parameters))}function Io(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function uB(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ie&&(n=n.concat(e(i,r)))}),n}var vu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>new bo,providedIn:"root"})}return t})(),bo=class{parse(e){let n=new S_(e);return new hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ru(e.root,!0)}`,r=fB(e.queryParams),i=typeof e.fragment=="string"?`#${dB(e.fragment)}`:"";return`${n}${r}${i}`}},lB=new bo;function tf(t){return t.segments.map(e=>CR(e)).join("/")}function ru(t,e){if(!t.hasChildren())return tf(t);if(e){let n=t.children[ie]?ru(t.children[ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ie&&r.push(`${i}:${ru(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=uB(t,(r,i)=>i===ie?[ru(t.children[ie],!1)]:[`${i}:${ru(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ie]!=null?`${tf(t)}/${n[0]}`:`${tf(t)}/(${n.join("//")})`}}function wR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jh(t){return wR(t).replace(/%3B/gi,";")}function dB(t){return encodeURI(t)}function D_(t){return wR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nf(t){return decodeURIComponent(t)}function uR(t){return nf(t.replace(/\+/g,"%20"))}function CR(t){return`${D_(t.path)}${hB(t.parameters)}`}function hB(t){return Object.entries(t).map(([e,n])=>`;${D_(e)}=${D_(n)}`).join("")}function fB(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Jh(n)}=${Jh(i)}`).join("&"):`${Jh(n)}=${Jh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var pB=/^[^\/()?;#]+/;function E_(t){let e=t.match(pB);return e?e[0]:""}var gB=/^[^\/()?;=#]+/;function mB(t){let e=t.match(gB);return e?e[0]:""}var yB=/^[^=?&#]+/;function vB(t){let e=t.match(yB);return e?e[0]:""}var _B=/^[^&#]+/;function EB(t){let e=t.match(_B);return e?e[0]:""}var S_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ie]=new be(e,n)),r}parseSegment(){let e=E_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new Ii(nf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=mB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=E_(this.remaining);i&&(r=i,this.capture(r))}e[nf(n)]=nf(r)}parseQueryParam(e){let n=vB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=EB(this.remaining);s&&(r=s,this.capture(r))}let i=uR(n),o=uR(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=E_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new L(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ie);let s=this.parseChildren();n[o??ie]=Object.keys(s).length===1&&s[ie]?s[ie]:new be([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function bR(t){return t.segments.length>0?new be([],{[ie]:t}):t}function TR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=TR(i);if(r===ie&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new be(t.segments,e);return IB(n)}function IB(t){if(t.numberOfChildren===1&&t.children[ie]){let e=t.children[ie];return new be(t.segments.concat(e.segments),e.children)}return t}function wi(t){return t instanceof hr}function DR(t,e,n=null,r=null){let i=SR(t);return AR(i,e,n,r)}function SR(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new be(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=bR(r);return e??i}function AR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return I_(i,i,i,n,r);let o=wB(e);if(o.toRoot())return I_(i,i,new be([],{}),n,r);let s=CB(o,i,t),a=s.processChildren?ou(s.segmentGroup,s.index,o.commands):MR(s.segmentGroup,s.index,o.commands);return I_(i,s.segmentGroup,a,n,r)}function rf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cu(t){return typeof t=="object"&&t!=null&&t.outlets}function I_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=RR(t,e,n);let a=bR(TR(s));return new hr(a,o,i)}function RR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=RR(o,e,n)}),new be(t.segments,r)}var of=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&rf(r[0]))throw new L(4003,!1);let i=r.find(cu);if(i&&i!==yR(r))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function wB(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new of(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new of(n,e,r)}var Js=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function CB(t,e,n){if(t.isAbsolute)return new Js(e,!0,0);if(!n)return new Js(e,!1,NaN);if(n.parent===null)return new Js(n,!0,0);let r=rf(t.commands[0])?0:1,i=n.segments.length-1+r;return bB(n,i,t.numberOfDoubleDots)}function bB(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new L(4005,!1);i=r.segments.length}return new Js(r,!1,i-o)}function TB(t){return cu(t[0])?t[0].outlets:{[ie]:t}}function MR(t,e,n){if(t??=new be([],{}),t.segments.length===0&&t.hasChildren())return ou(t,e,n);let r=DB(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new be(t.segments.slice(0,r.pathIndex),{});return o.children[ie]=new be(t.segments.slice(r.pathIndex),t.children),ou(o,0,i)}else return r.match&&i.length===0?new be(t.segments,{}):r.match&&!t.hasChildren()?A_(t,e,n):r.match?ou(t,0,i):A_(t,e,n)}function ou(t,e,n){if(n.length===0)return new be(t.segments,{});{let r=TB(n),i={};if(Object.keys(r).some(o=>o!==ie)&&t.children[ie]&&t.numberOfChildren===1&&t.children[ie].segments.length===0){let o=ou(t.children[ie],e,n);return new be(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=MR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new be(t.segments,i)}}function DB(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(cu(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!dR(u,l,s))return o;r+=2}else{if(!dR(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function A_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(cu(o)){let u=SB(o.outlets);return new be(r,u)}if(i===0&&rf(n[0])){let u=t.segments[e];r.push(new Ii(u.path,lR(n[0]))),i++;continue}let s=cu(o)?o.outlets[ie]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&rf(a)?(r.push(new Ii(s,lR(a))),i+=2):(r.push(new Ii(s,{})),i++)}return new be(r,{})}function SB(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=A_(new be([],{}),0,r))}),e}function lR(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function dR(t,e,n){return t==n.path&&lr(e,n.parameters)}var su="imperative",ht=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ht||{}),fn=class{id;url;constructor(e,n){this.id=e,this.url=n}},To=class extends fn{type=ht.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},pn=class extends fn{urlAfterRedirects;type=ht.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ht||{}),uu=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(uu||{}),dr=class extends fn{reason;code;type=ht.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Vr=class extends fn{reason;code;type=ht.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},ea=class extends fn{error;target;type=ht.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},lu=class extends fn{urlAfterRedirects;state;type=ht.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sf=class extends fn{urlAfterRedirects;state;type=ht.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class extends fn{urlAfterRedirects;state;shouldActivate;type=ht.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cf=class extends fn{urlAfterRedirects;state;type=ht.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends fn{urlAfterRedirects;state;type=ht.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lf=class{route;type=ht.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},df=class{route;type=ht.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hf=class{snapshot;type=ht.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{snapshot;type=ht.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pf=class{snapshot;type=ht.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{snapshot;type=ht.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var du=class{},ta=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function AB(t){return!(t instanceof du)&&!(t instanceof ta)}function RB(t,e){return t.providers&&!t._injector&&(t._injector=zs(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zn(t){return t.outlet||ie}function MB(t,e){let n=t.filter(r=>zn(r)===e);return n.push(...t.filter(r=>zn(r)!==e)),n}function ia(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var mf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ia(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new oa(this.rootInjector)}},oa=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new mf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(ne(ze))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),yf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=R_(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=R_(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=M_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return M_(e,this._root).map(n=>n.value)}};function R_(t,e){if(t===e.value)return e;for(let n of e.children){let r=R_(t,n);if(r)return r}return null}function M_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=M_(t,n);if(r.length)return r.unshift(e),r}return[]}var hn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Zs(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var hu=class extends yf{snapshot;constructor(e,n){super(e),this.snapshot=n,V_(this,e)}toString(){return this.snapshot.toString()}};function NR(t){let e=NB(t),n=new yt([new Ii("",{})]),r=new yt({}),i=new yt({}),o=new yt({}),s=new yt(""),a=new jr(n,r,o,s,i,ie,t,e.root);return a.snapshot=e.root,new hu(new hn(a,[]),e)}function NB(t){let e={},n={},r={},o=new wo([],e,r,"",n,ie,t,null,{});return new fu("",new hn(o,[]))}var jr=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(H(l=>l[yu]))??q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(e=>Co(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(e=>Co(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function vf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&OR(i)&&(r.resolve[yu]=i.title),r}var wo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[yu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Co(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Co(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},fu=class extends yf{url;constructor(e,n){super(n),this.url=e,V_(this,n)}toString(){return PR(this._root)}};function V_(t,e){e.value._routerState=t,e.children.forEach(n=>V_(t,n))}function PR(t){let e=t.children.length>0?` { ${t.children.map(PR).join(", ")} } `:"";return`${t.value}${e}`}function w_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),lr(e.params,n.params)||t.paramsSubject.next(n.params),iB(e.url,n.url)||t.urlSubject.next(n.url),lr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function N_(t,e){let n=lr(t.params,e.params)&&cB(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||N_(t.parent,e.parent))}function OR(t){return typeof t.title=="string"||t.title===null}var xR=new V(""),_u=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ie;activateEvents=new Ge;deactivateEvents=new Ge;attachEvents=new Ge;detachEvents=new Ge;routerOutletData=LA();parentContexts=S(oa);location=S(po);changeDetector=S(_o);inputBinder=S(wf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new P_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[or]})}return t})(),P_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===jr?this.route:e===oa?this.childContexts:e===xR?this.outletData:this.parent.get(e,n)}},wf=new V("");var j_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=It({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[_u],encapsulation:2})}return t})();function U_(t){let e=t.children&&t.children.map(U_),n=e?ee(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ie&&(n.component=j_),n}function PB(t,e,n){let r=pu(t,e._root,n?n._root:void 0);return new hu(r,e)}function pu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=OB(t,e,n);return new hn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pu(t,a)),s}}let r=xB(e.value),i=e.children.map(o=>pu(t,o));return new hn(r,i)}}function OB(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return pu(t,r,i);return pu(t,r)})}function xB(t){return new jr(new yt(t.url),new yt(t.params),new yt(t.queryParams),new yt(t.fragment),new yt(t.data),t.outlet,t.component,t)}var na=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},kR="ngNavigationCancelingError";function _f(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=wi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FR(!1,Ht.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function FR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[kR]=!0,n.cancellationCode=e,n}function kB(t){return LR(t)&&wi(t.url)}function LR(t){return!!t&&t[kR]}var FB=(t,e,n,r)=>H(i=>(new O_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),O_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),w_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Zs(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Zs(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new gf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new ff(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(w_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),w_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Ef=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Xs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function LB(t,e,n){let r=t._root,i=e?e._root:null;return iu(r,i,n,[r.value])}function VB(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function sa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cm(t)?t:e.get(t):r}function iu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Zs(e);return t.children.forEach(s=>{jB(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>au(a,n.getContext(s),i)),i}function jB(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=UB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ef(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?iu(t,e,a?a.children:null,r,i):iu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Xs(a.outlet.component,s))}else s&&au(e,a,i),i.canActivateChecks.push(new Ef(r)),o.component?iu(t,null,a?a.children:null,r,i):iu(t,null,n,r,i);return i}function UB(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Io(t.url,e.url)||!lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!N_(t,e)||!lr(t.queryParams,e.queryParams);case"paramsChange":default:return!N_(t,e)}}function au(t,e,n){let r=Zs(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?au(s,e.children.getContext(o),n):au(s,null,n):au(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Xs(e.outlet.component,i)):n.canDeactivateChecks.push(new Xs(null,i)):n.canDeactivateChecks.push(new Xs(null,i))}function Eu(t){return typeof t=="function"}function BB(t){return typeof t=="boolean"}function $B(t){return t&&Eu(t.canLoad)}function HB(t){return t&&Eu(t.canActivate)}function zB(t){return t&&Eu(t.canActivateChild)}function qB(t){return t&&Eu(t.canDeactivate)}function GB(t){return t&&Eu(t.canMatch)}function VR(t){return t instanceof Dr||t?.name==="EmptyError"}var Xh=Symbol("INITIAL_VALUE");function ra(){return st(t=>hd(t.map(e=>e.pipe(Ut(1),gd(Xh)))).pipe(H(e=>{for(let n of e)if(n!==!0){if(n===Xh)return Xh;if(n===!1||WB(n))return n}return!0}),Ye(e=>e!==Xh),Ut(1)))}function WB(t){return wi(t)||t instanceof na}function KB(t,e){return Qe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?q(ee(O({},n),{guardsResult:!0})):QB(s,r,i,t).pipe(Qe(a=>a&&BB(a)?YB(r,o,t,e):q(a)),H(a=>ee(O({},n),{guardsResult:a})))})}function QB(t,e,n,r){return Re(t).pipe(Qe(i=>t$(i.component,i.route,n,e,r)),Ar(i=>i!==!0,!0))}function YB(t,e,n,r){return Re(e).pipe(Gi(i=>Es(JB(i.route.parent,r),ZB(i.route,r),e$(t,i.path,n),XB(t,i.route,n))),Ar(i=>i!==!0,!0))}function ZB(t,e){return t!==null&&e&&e(new pf(t)),q(!0)}function JB(t,e){return t!==null&&e&&e(new hf(t)),q(!0)}function XB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return q(!0);let i=r.map(o=>pc(()=>{let s=ia(e)??n,a=sa(o,s),u=HB(a)?a.canActivate(e,t):Ze(s,()=>a(e,t));return Ur(u).pipe(Ar())}));return q(i).pipe(ra())}function e$(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>VB(s)).filter(s=>s!==null).map(s=>pc(()=>{let a=s.guards.map(u=>{let l=ia(s.node)??n,h=sa(u,l),p=zB(h)?h.canActivateChild(r,t):Ze(l,()=>h(r,t));return Ur(p).pipe(Ar())});return q(a).pipe(ra())}));return q(o).pipe(ra())}function t$(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return q(!0);let s=o.map(a=>{let u=ia(e)??i,l=sa(a,u),h=qB(l)?l.canDeactivate(t,e,n,r):Ze(u,()=>l(t,e,n,r));return Ur(h).pipe(Ar())});return q(s).pipe(ra())}function n$(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return q(!0);let o=i.map(s=>{let a=sa(s,t),u=$B(a)?a.canLoad(e,n):Ze(t,()=>a(e,n));return Ur(u)});return q(o).pipe(ra(),jR(r))}function jR(t){return Wl(He(e=>{if(typeof e!="boolean")throw _f(t,e)}),H(e=>e===!0))}function r$(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return q(!0);let o=i.map(s=>{let a=sa(s,t),u=GB(a)?a.canMatch(e,n):Ze(t,()=>a(e,n));return Ur(u)});return q(o).pipe(ra(),jR(r))}var gu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},mu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Ys(t){return vs(new gu(t))}function i$(t){return vs(new L(4e3,!1))}function o$(t){return vs(FR(!1,Ht.GuardRejected))}var x_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return q(r);if(i.numberOfChildren>1||!i.children[ie])return i$(`${e.redirectTo}`);i=i.children[ie]}}applyRedirectCommands(e,n,r,i,o){return s$(n,i,o).pipe(H(s=>{if(s instanceof hr)throw new mu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new mu(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new hr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new be(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new L(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function s$(t,e,n){if(typeof t=="string")return q(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Ur(Ze(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var k_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function a$(t,e,n,r,i){let o=UR(t,e,n);return o.matched?(r=RB(e,r),r$(r,e,n,i).pipe(H(s=>s===!0?o:O({},k_)))):q(o)}function UR(t,e,n){if(e.path==="**")return c$(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},k_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||gR)(n,t,e);if(!i)return O({},k_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function c$(t){return{matched:!0,parameters:t.length>0?yR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function hR(t,e,n,r){return n.length>0&&d$(t,n,r)?{segmentGroup:new be(e,l$(r,new be(n,t.children))),slicedSegments:[]}:n.length===0&&h$(t,n,r)?{segmentGroup:new be(t.segments,u$(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new be(t.segments,t.children),slicedSegments:n}}function u$(t,e,n,r){let i={};for(let o of n)if(Cf(t,e,o)&&!r[zn(o)]){let s=new be([],{});i[zn(o)]=s}return O(O({},r),i)}function l$(t,e){let n={};n[ie]=e;for(let r of t)if(r.path===""&&zn(r)!==ie){let i=new be([],{});n[zn(r)]=i}return n}function d$(t,e,n){return n.some(r=>Cf(t,e,r)&&zn(r)!==ie)}function h$(t,e,n){return n.some(r=>Cf(t,e,r))}function Cf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function f$(t,e,n){return e.length===0&&!t.children[n]}var F_=class{};function p$(t,e,n,r,i,o,s="emptyOnly"){return new L_(t,e,n,r,i,s,o).recognize()}var g$=31,L_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new x_(this.urlSerializer,this.urlTree)}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=hR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(H(({children:n,rootSnapshot:r})=>{let i=new hn(r,n),o=new fu("",i),s=DR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new wo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ie,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ie,n).pipe(H(r=>({children:r,rootSnapshot:n})),Wt(r=>{if(r instanceof mu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof gu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(H(s=>s instanceof hn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Re(o).pipe(Gi(s=>{let a=r.children[s],u=MB(n,s);return this.processSegmentGroup(e,u,a,s,i)}),pd((s,a)=>(s.push(...a),s)),oi(null),am(),Qe(s=>{if(s===null)return Ys(r);let a=BR(s);return m$(a),q(a)}))}processSegment(e,n,r,i,o,s,a){return Re(n).pipe(Gi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Wt(l=>{if(l instanceof gu)return q(null);throw l}))),Ar(u=>!!u),Wt(u=>{if(VR(u))return f$(r,i,o)?q(new F_):Ys(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return zn(r)!==s&&(s===ie||!Cf(i,o,r))?Ys(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Ys(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=UR(n,i,o);if(!u)return Ys(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>g$&&(this.allowRedirects=!1));let y=new wo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,fR(i),zn(i),i.component??i._loadedComponent??null,i,pR(i)),b=vf(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(st(R=>this.applyRedirects.lineralizeSegments(i,R)),Qe(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=a$(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(st(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(st(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new wo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,fR(r),zn(r),r.component??r._loadedComponent??null,r,pR(r)),M=vf(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:k}=hR(n,m,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(H(X=>new hn(b,X)));if(l.length===0&&k.length===0)return q(new hn(b,[]));let Z=zn(r)===o;return this.processSegment(h,l,R,k,Z?ie:o,!0,b).pipe(H(X=>new hn(b,X instanceof hn?[X]:[])))}))):Ys(n)))}getChildConfig(e,n,r){return n.children?q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?q({routes:n._loadedRoutes,injector:n._loadedInjector}):n$(e,n,r,this.urlSerializer).pipe(Qe(i=>i?this.configLoader.loadChildren(e,n).pipe(He(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):o$(n))):q({routes:[],injector:e})}};function m$(t){t.sort((e,n)=>e.value.outlet===ie?-1:n.value.outlet===ie?1:e.value.outlet.localeCompare(n.value.outlet))}function y$(t){let e=t.value.routeConfig;return e&&e.path===""}function BR(t){let e=[],n=new Set;for(let r of t){if(!y$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=BR(r.children);e.push(new hn(r.value,i))}return e.filter(r=>!n.has(r))}function fR(t){return t.data||{}}function pR(t){return t.resolve||{}}function v$(t,e,n,r,i,o){return Qe(s=>p$(t,e,n,r,s.extractedUrl,i,o).pipe(H(({state:a,tree:u})=>ee(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function _$(t,e){return Qe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of $R(u))s.add(l);let a=0;return Re(s).pipe(Gi(u=>o.has(u)?E$(u,r,t,e):(u.data=vf(u,u.parent,t).resolve,q(void 0))),He(()=>a++),Is(1),Qe(u=>a===s.size?q(n):qt))})}function $R(t){let e=t.children.map(n=>$R(n)).flat();return[t,...e]}function E$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!OR(i)&&(o[yu]=i.title),pc(()=>(t.data=vf(t,t.parent,n).resolve,I$(o,t,e,r).pipe(H(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function I$(t,e,n,r){let i=T_(t);if(i.length===0)return q({});let o={};return Re(i).pipe(Qe(s=>w$(t[s],e,n,r).pipe(Ar(),He(a=>{if(a instanceof na)throw _f(new bo,a);o[s]=a}))),Is(1),H(()=>o),Wt(s=>VR(s)?qt:vs(s)))}function w$(t,e,n,r){let i=ia(e)??r,o=sa(t,i),s=o.resolve?o.resolve(e,n):Ze(i,()=>o(e,n));return Ur(s)}function C_(t){return st(e=>{let n=t(e);return n?Re(n).pipe(H(()=>e)):q(e)})}var B_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ie);return r}getResolvedTitleForRoute(n){return n.data[yu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(HR),providedIn:"root"})}return t})(),HR=(()=>{class t extends B_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(ne(oR))};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aa=new V("",{providedIn:"root",factory:()=>({})}),Iu=new V(""),zR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(zv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ur(Ze(n,()=>r.loadComponent())).pipe(H(GR),st(WR),He(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),gc(()=>{this.componentLoaders.delete(r)})),o=new ps(i,()=>new Oe).pipe(fs());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=qR(r,this.compiler,n,this.onLoadEndListener).pipe(gc(()=>{this.childrenLoaders.delete(r)})),s=new ps(o,()=>new Oe).pipe(fs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qR(t,e,n,r){return Ur(Ze(n,()=>t.loadChildren())).pipe(H(GR),st(WR),Qe(i=>i instanceof Oh||Array.isArray(i)?q(i):Re(e.compileModuleAsync(i))),H(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Iu,[],{optional:!0,self:!0}).flat()),{routes:s.map(U_),injector:o}}))}function C$(t){return t&&typeof t=="object"&&"default"in t}function GR(t){return C$(t)?t.default:t}function WR(t){return q(t)}var bf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(b$),providedIn:"root"})}return t})(),b$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),KR=new V("");var QR=new V(""),YR=(()=>{class t{currentNavigation=we(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Oe;transitionAbortWithErrorSubject=new Oe;configLoader=S(zR);environmentInjector=S(ze);destroyRef=S(Ln);urlSerializer=S(vu);rootContexts=S(oa);location=S(Qs);inputBindingEnabled=S(wf,{optional:!0})!==null;titleStrategy=S(B_);options=S(aa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(bf);createViewTransition=S(KR,{optional:!0});navigationErrorHandler=S(QR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>q(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new lf(i)),r=i=>this.events.next(new df(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;wt(()=>{this.transitions?.next(ee(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new yt(null),this.transitions.pipe(Ye(r=>r!==null),st(r=>{let i=!1;return q(r).pipe(st(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),qt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.rawUrl),"",uu.IgnoredSameUrlNavigation)),o.resolve(!1),qt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return q(o).pipe(st(u=>(this.events.next(new To(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?qt:Promise.resolve(u))),v$(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),He(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new lu(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new To(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=NR(this.rootComponentType).snapshot;return this.currentTransition=r=ee(O({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:ee(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),q(r)}else return this.events.next(new Vr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",uu.IgnoredByUrlHandlingStrategy)),o.resolve(!1),qt}),He(o=>{let s=new sf(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),H(o=>(this.currentTransition=r=ee(O({},o),{guards:LB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),KB(this.environmentInjector,o=>this.events.next(o)),He(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw _f(this.urlSerializer,o.guardsResult);let s=new af(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Ye(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ht.GuardRejected),!1)),C_(o=>{if(o.guards.canActivateChecks.length!==0)return q(o).pipe(He(s=>{let a=new cf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),st(s=>{let a=!1;return q(s).pipe(_$(this.paramsInheritanceStrategy,this.environmentInjector),He({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ht.NoDataFromResolver)}}))}),He(s=>{let a=new uf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),C_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=ia(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(He(h=>{a.component=h}),H(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return hd(s(o.targetSnapshot.root)).pipe(oi(null),Ut(1))}),C_(()=>this.afterPreactivation()),st(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Re(a).pipe(H(()=>r)):q(r)}),H(o=>{let s=PB(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=ee(O({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),He(()=>{this.events.next(new du)}),FB(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ut(1),md(new J(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Ye(()=>!i&&!r.targetRouterState),He(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ht.Aborted)}))),He({next:o=>{i=!0,this.lastSuccessfulNavigation=wt(this.currentNavigation),this.events.next(new pn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),md(this.transitionAbortWithErrorSubject.pipe(He(o=>{throw o}))),gc(()=>{i||this.cancelNavigationTransition(r,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Wt(o=>{if(this.destroyed)return r.resolve(!1),qt;if(i=!0,LR(o))this.events.next(new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),kB(o)?this.events.next(new ta(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new ea(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ze(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof na){let{message:u,cancellationCode:l}=_f(this.urlSerializer,a);this.events.next(new dr(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ta(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return qt}))}))}cancelNavigationTransition(n,r,i){let o=new dr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=wt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function T$(t){return t!==su}var ZR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(D$),providedIn:"root"})}return t})(),If=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},D$=(()=>{class t extends If{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),JR=(()=>{class t{urlSerializer=S(vu);options=S(aa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(Qs);urlHandlingStrategy=S(bf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new hr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof hr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=NR(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:()=>S(S$),providedIn:"root"})}return t})(),S$=(()=>{class t extends JR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof To?this.updateStateMemento():n instanceof Vr?this.commitTransition(r):n instanceof lu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof du?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof dr&&n.code!==Ht.SupersededByNewNavigation&&n.code!==Ht.Redirect?this.restoreHistory(r):n instanceof ea?this.restoreHistory(r,!0):n instanceof pn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $_(t,e){t.events.pipe(Ye(n=>n instanceof pn||n instanceof dr||n instanceof ea||n instanceof Vr),H(n=>n instanceof pn||n instanceof Vr?0:(n instanceof dr?n.code===Ht.Redirect||n.code===Ht.SupersededByNewNavigation:!1)?2:1),Ye(n=>n!==2),Ut(1)).subscribe(()=>{e()})}var A$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Xt=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(xh);stateManager=S(JR);options=S(aa,{optional:!0})||{};pendingTasks=S(Vn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(YR);urlSerializer=S(vu);location=S(Qs);urlHandlingStrategy=S(bf);injector=S(ze);_events=new Oe;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(ZR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(Iu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(wf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=wt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dr&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof pn)this.navigated=!0;else if(r instanceof ta){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||T$(i.source)},s);this.scheduleNavigation(a,su,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}AB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),su,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get(Qt)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return wt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(U_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=SR(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return AR(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=wi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,su,null,r)}navigate(n,r={skipLocationChange:!1}){return M$(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Jn(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},A$):r===!1?i=O({},R$):i=r,wi(n))return cR(this.currentUrlTree,n,i);let o=this.parseUrl(n);return cR(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return $_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function M$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}var Ci=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=we(null);get href(){return wt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Oe;applicationErrorHandler=S(Qt);options=S(aa,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new qh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof pn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(wi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:wi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(ve(Xt),ve(jr),Lc("tabindex"),ve(yi),ve(bn),ve(Ks))};static \u0275dir=Be({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Le("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Lr("href",i.reactiveHref(),dv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Eo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Eo],replaceUrl:[2,"replaceUrl","replaceUrl",Eo],routerLink:"routerLink"},features:[or]})}return t})(),wu=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Ge;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof pn&&this.update()})}ngAfterContentInit(){q(this.links.changes,q(null)).pipe(_s()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Re(n).pipe(_s()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=P$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(ve(Xt),ve(bn),ve(yi),ve(_o),ve(Ci,8))};static \u0275dir=Be({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Bv(o,Ci,5),r&2){let s;$v(s=Hv())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[or]})}return t})();function P$(t){return!!t.paths}var O$=new V("");function H_(t,...e){return ut([{provide:Iu,multi:!0,useValue:t},[],{provide:jr,useFactory:x$,deps:[Xt]},{provide:vi,multi:!0,useFactory:k$},e.map(n=>n.\u0275providers)])}function x$(t){return t.routerState.root}function k$(){let t=S(Ue);return e=>{let n=t.get(dt);if(e!==n.components[0])return;let r=t.get(Xt),i=t.get(F$);t.get(L$)===1&&r.initialNavigation(),t.get(V$,null,{optional:!0})?.setUpPreloading(),t.get(O$,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var F$=new V("",{factory:()=>new Oe}),L$=new V("",{providedIn:"root",factory:()=>1});var V$=new V("");var aM=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ve(yi),ve(bn))};static \u0275dir=Be({type:t})}return t})(),cM=(()=>{class t extends aM{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,features:[Yt]})}return t})(),G_=new V("");var j$={provide:G_,useExisting:on(()=>da),multi:!0};function U$(){let t=Sn()?Sn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var B$=new V(""),da=(()=>{class t extends aM{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!U$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ve(yi),ve(bn),ve(B$,8))};static \u0275dir=Be({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[ur([j$]),Yt]})}return t})();function $$(t){return t==null||uM(t)===0}function uM(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var ha=new V(""),lM=new V("");function H$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function z$(t){return e=>{if(e.value==null||t==null)return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function q$(t){return $$(t.value)?{required:!0}:null}function G$(t){return e=>{let n=e.value?.length??uM(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function XR(t){return null}function dM(t){return t!=null}function hM(t){return go(t)?Re(t):t}function fM(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function pM(t,e){return e.map(n=>n(t))}function W$(t){return!t.validate}function gM(t){return t.map(e=>W$(e)?e:n=>e.validate(n))}function K$(t){if(!t)return null;let e=t.filter(dM);return e.length==0?null:function(n){return fM(pM(n,e))}}function W_(t){return t!=null?K$(gM(t)):null}function Q$(t){if(!t)return null;let e=t.filter(dM);return e.length==0?null:function(n){let r=pM(n,e).map(hM);return sm(r).pipe(H(fM))}}function K_(t){return t!=null?Q$(gM(t)):null}function eM(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Y$(t){return t._rawValidators}function Z$(t){return t._rawAsyncValidators}function z_(t){return t?Array.isArray(t)?t:[t]:[]}function Df(t,e){return Array.isArray(t)?t.includes(e):t===e}function tM(t,e){let n=z_(e);return z_(t).forEach(i=>{Df(n,i)||n.push(i)}),n}function nM(t,e){return z_(e).filter(n=>!Df(t,n))}var Sf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=W_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=K_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},la=class extends Sf{name;get formDirective(){return null}get path(){return null}},Au=class extends Sf{_parent=null;name=null;valueAccessor=null},Af=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},J$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},rse=ee(O({},J$),{"[class.ng-submitted]":"isSubmitted"}),Of=(()=>{class t extends Af{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve(Au,2))};static \u0275dir=Be({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Jt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Yt]})}return t})(),xf=(()=>{class t extends Af{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ve(la,10))};static \u0275dir=Be({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Jt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Yt]})}return t})();var Cu="VALID",Tf="INVALID",ca="PENDING",bu="DISABLED",bi=class{},Rf=class extends bi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Du=class extends bi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},Su=class extends bi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},ua=class extends bi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},q_=class extends bi{source;constructor(e){super(),this.source=e}},Mf=class extends bi{source;constructor(e){super(),this.source=e}};function mM(t){return(kf(t)?t.validators:t)||null}function X$(t){return Array.isArray(t)?W_(t):t||null}function yM(t,e){return(kf(e)?e.asyncValidators:t)||null}function eH(t){return Array.isArray(t)?K_(t):t||null}function kf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function tH(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new L(1e3,"");if(!r[n])throw new L(1001,"")}function nH(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new L(1002,"")})}var Nf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return wt(this.statusReactive)}set status(e){wt(()=>this.statusReactive.set(e))}_status=mo(()=>this.statusReactive());statusReactive=we(void 0);get valid(){return this.status===Cu}get invalid(){return this.status===Tf}get pending(){return this.status==ca}get disabled(){return this.status===bu}get enabled(){return this.status!==bu}errors;get pristine(){return wt(this.pristineReactive)}set pristine(e){wt(()=>this.pristineReactive.set(e))}_pristine=mo(()=>this.pristineReactive());pristineReactive=we(!0);get dirty(){return!this.pristine}get touched(){return wt(this.touchedReactive)}set touched(e){wt(()=>this.touchedReactive.set(e))}_touched=mo(()=>this.touchedReactive());touchedReactive=we(!1);get untouched(){return!this.touched}_events=new Oe;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(tM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(tM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(nM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(nM(e,this._rawAsyncValidators))}hasValidator(e){return Df(this._rawValidators,e)}hasAsyncValidator(e){return Df(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Su(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Su(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ee(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Du(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Du(!0,r))}markAsPending(e={}){this.status=ca;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ua(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ee(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=bu,this.errors=null,this._forEachChild(i=>{i.disable(ee(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rf(this.value,r)),this._events.next(new ua(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Cu,this._forEachChild(r=>{r.enable(ee(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ee(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Cu||this.status===ca)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rf(this.value,n)),this._events.next(new ua(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ee(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bu:Cu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ca,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=hM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ua(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?bu:this.errors?Tf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ca)?ca:this._anyControlsHaveStatus(Tf)?Tf:Cu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Du(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Su(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=X$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=eH(this._rawAsyncValidators)}},Pf=class extends Nf{constructor(e,n,r){super(mM(n),yM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){nH(this,!0,e),Object.keys(e).forEach(r=>{tH(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Mf(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Q_=new V("",{providedIn:"root",factory:()=>Y_}),Y_="always";function rH(t,e){return[...e.path,t]}function vM(t,e,n=Y_){_M(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),oH(t,e),aH(t,e),sH(t,e),iH(t,e)}function rM(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function iH(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function _M(t,e){let n=Y$(t);e.validator!==null?t.setValidators(eM(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=Z$(t);e.asyncValidator!==null?t.setAsyncValidators(eM(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();rM(e._rawValidators,i),rM(e._rawAsyncValidators,i)}function oH(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&EM(t,e)})}function sH(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&EM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function EM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function aH(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function cH(t,e){t==null,_M(t,e)}function uH(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function lH(t){return Object.getPrototypeOf(t.constructor)===cM}function dH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function hH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===da?n=o:lH(o)?r=o:i=o}),i||r||n||null}var fH={provide:la,useExisting:on(()=>Ru)},Tu=Promise.resolve(),Ru=(()=>{class t extends la{callSetDisabledState;get submitted(){return wt(this.submittedReactive)}_submitted=mo(()=>this.submittedReactive());submittedReactive=we(!1);_directives=new Set;form;ngSubmit=new Ge;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Pf({},W_(n),K_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Tu.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),vM(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Tu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Tu.then(()=>{let r=this._findContainer(n.path),i=new Pf({});cH(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Tu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Tu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),dH(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new q_(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(ve(ha,10),ve(lM,10),ve(Q_,8))};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Le("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[ur([fH]),Yt]})}return t})();function iM(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function oM(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pH=class extends Nf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(mM(n),yM(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(oM(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Mf(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iM(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iM(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){oM(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var gH={provide:Au,useExisting:on(()=>Mu)},sM=Promise.resolve(),Mu=(()=>{class t extends Au{_changeDetectorRef;callSetDisabledState;control=new pH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ge;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=hH(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),uH(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){vM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){sM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Eo(r);sM.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?rH(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ve(la,9),ve(ha,10),ve(lM,10),ve(G_,10),ve(_o,8),ve(Q_,8))};static \u0275dir=Be({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[ur([gH]),Yt,or]})}return t})();var Ff=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})(),mH={provide:G_,useExisting:on(()=>Z_),multi:!0},Z_=(()=>{class t extends cM{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Le("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[ur([mH]),Yt]})}return t})();function yH(t){return typeof t=="number"?t:parseInt(t,10)}function IM(t){return typeof t=="number"?t:parseFloat(t)}var Lf=(()=>{class t{_validator=XR;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):XR,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Be({type:t,features:[or]})}return t})(),vH={provide:ha,useExisting:on(()=>J_),multi:!0},J_=(()=>{class t extends Lf{max;inputName="max";normalizeInput=n=>IM(n);createValidator=n=>z$(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Lr("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[ur([vH]),Yt]})}return t})(),_H={provide:ha,useExisting:on(()=>X_),multi:!0},X_=(()=>{class t extends Lf{min;inputName="min";normalizeInput=n=>IM(n);createValidator=n=>H$(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Lr("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[ur([_H]),Yt]})}return t})(),EH={provide:ha,useExisting:on(()=>Nu),multi:!0};var Nu=(()=>{class t extends Lf{required;inputName="required";normalizeInput=Eo;createValidator=n=>q$;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Lr("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[ur([EH]),Yt]})}return t})();var IH={provide:ha,useExisting:on(()=>eE),multi:!0},eE=(()=>{class t extends Lf{maxlength;inputName="maxlength";normalizeInput=n=>yH(n);createValidator=n=>G$(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=Be({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Lr("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[ur([IH]),Yt]})}return t})();var wH=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=kn({})}return t})();var Vf=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Q_,useValue:n.callSetDisabledState??Y_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ar({type:t});static \u0275inj=kn({imports:[wH]})}return t})();var CM=()=>{};var DM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},jf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(DM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new nE;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},nE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bH=function(t){let e=DM(t);return jf.encodeByteArray(e,!0)},Ou=function(t){return bH(t).replace(/\./g,"")},Uf=function(t){try{return jf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function iE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var TH=()=>iE().__FIREBASE_DEFAULTS__,DH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Uf(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return CM()||TH()||DH()||SH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},SM=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},AM=t=>{let e=SM(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oE=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},RM=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};var Do=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function So(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sE(t){return(await fetch(t,{credentials:"include"})).ok}function MM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ou(JSON.stringify(n)),Ou(JSON.stringify(s)),""].join(".")}var Pu={};function AH(){let t={prod:[],emulator:[]};for(let e of Object.keys(Pu))Pu[e]?t.emulator.push(e):t.prod.push(e);return t}function RH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var bM=!1;function aE(t,e){if(typeof window>"u"||typeof document>"u"||!So(window.location.host)||Pu[t]===e||Pu[t]||bM)return;Pu[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=AH().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{bM=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=RH(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),R=document.getElementById(M)||document.createElement("a"),k=n("preprendIcon"),Z=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let X=m.element;a(X),h(R,M);let Ie=l();u(Z,k),X.append(Z,b,R,Ie),document.body.appendChild(X)}o?(b.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function gn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gn())}function MH(){var t;let e=(t=Bf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kM(){return!MH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xu(){try{return typeof indexedDB=="object"}catch{return!1}}function FM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var NH="FirebaseError",Rn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?PH(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Rn(i,a,r)}};function PH(t,e){return t.replace(OH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var OH=/\{\$([^}]+)}/g;function Ao(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(TM(o)&&TM(s)){if(!Ao(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function TM(t){return t!==null&&typeof t=="object"}function cE(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function LM(t,e){let n=new rE(t,e);return n.subscribe.bind(n)}var rE=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=tE),i.error===void 0&&(i.error=tE),i.complete===void 0&&(i.complete=tE);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function xH(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function tE(){}var cse=14400*1e3;function Ct(t){return t&&t._delegate?t._delegate:t}var zt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ro="[DEFAULT]";var uE=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Do;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FH(e))try{this.getOrInitializeService({instanceIdentifier:Ro})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ro){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ro){return this.instances.has(e)}getOptions(e=Ro){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:kH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ro){return this.component?this.component.multipleInstances?e:Ro:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function kH(t){return t===Ro?void 0:t}function FH(t){return t.instantiationMode==="EAGER"}var $f=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new uE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var LH=[],de=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(de||{}),VH={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},jH=de.INFO,UH={[de.DEBUG]:"log",[de.VERBOSE]:"log",[de.INFO]:"info",[de.WARN]:"warn",[de.ERROR]:"error"},BH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=UH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},fr=class{constructor(e){this.name=e,this._logLevel=jH,this._logHandler=BH,this._userLogHandler=null,LH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in de))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,de.DEBUG,...e),this._logHandler(this,de.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,de.VERBOSE,...e),this._logHandler(this,de.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,de.INFO,...e),this._logHandler(this,de.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,de.WARN,...e),this._logHandler(this,de.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,de.ERROR,...e),this._logHandler(this,de.ERROR,...e)}};var $H=(t,e)=>e.some(n=>t instanceof n),VM,jM;function HH(){return VM||(VM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zH(){return jM||(jM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var UM=new WeakMap,dE=new WeakMap,BM=new WeakMap,lE=new WeakMap,fE=new WeakMap;function qH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(pr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&UM.set(n,t)}).catch(()=>{}),fE.set(e,t),e}function GH(t){if(dE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});dE.set(t,e)}var hE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||BM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $M(t){hE=t(hE)}function WH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Hf(this),e,...n);return BM.set(r,e.sort?e.sort():[e]),pr(r)}:zH().includes(t)?function(...e){return t.apply(Hf(this),e),pr(UM.get(this))}:function(...e){return pr(t.apply(Hf(this),e))}}function KH(t){return typeof t=="function"?WH(t):(t instanceof IDBTransaction&&GH(t),$H(t,HH())?new Proxy(t,hE):t)}function pr(t){if(t instanceof IDBRequest)return qH(t);if(lE.has(t))return lE.get(t);let e=KH(t);return e!==t&&(lE.set(t,e),fE.set(e,t)),e}var Hf=t=>fE.get(t);function zM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=pr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(pr(s.result),u.oldVersion,u.newVersion,pr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var QH=["get","getKey","getAll","getAllKeys","count"],YH=["put","add","delete","clear"],pE=new Map;function HM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(pE.get(e))return pE.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=YH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||QH.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return pE.set(e,o),o}$M(t=>ee(O({},t),{get:(e,n,r)=>HM(e,n)||t.get(e,n,r),has:(e,n)=>!!HM(e,n)||t.has(e,n)}));var mE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZH(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function ZH(t){let e=t.getComponent();return e?.type==="VERSION"}var yE="@firebase/app",qM="0.13.2";var Br=new fr("@firebase/app"),JH="@firebase/app-compat",XH="@firebase/analytics-compat",e4="@firebase/analytics",t4="@firebase/app-check-compat",n4="@firebase/app-check",r4="@firebase/auth",i4="@firebase/auth-compat",o4="@firebase/database",s4="@firebase/data-connect",a4="@firebase/database-compat",c4="@firebase/functions",u4="@firebase/functions-compat",l4="@firebase/installations",d4="@firebase/installations-compat",h4="@firebase/messaging",f4="@firebase/messaging-compat",p4="@firebase/performance",g4="@firebase/performance-compat",m4="@firebase/remote-config",y4="@firebase/remote-config-compat",v4="@firebase/storage",_4="@firebase/storage-compat",E4="@firebase/firestore",I4="@firebase/ai",w4="@firebase/firestore-compat",C4="firebase",b4="11.10.0";var vE="[DEFAULT]",T4={[yE]:"fire-core",[JH]:"fire-core-compat",[e4]:"fire-analytics",[XH]:"fire-analytics-compat",[n4]:"fire-app-check",[t4]:"fire-app-check-compat",[r4]:"fire-auth",[i4]:"fire-auth-compat",[o4]:"fire-rtdb",[s4]:"fire-data-connect",[a4]:"fire-rtdb-compat",[c4]:"fire-fn",[u4]:"fire-fn-compat",[l4]:"fire-iid",[d4]:"fire-iid-compat",[h4]:"fire-fcm",[f4]:"fire-fcm-compat",[p4]:"fire-perf",[g4]:"fire-perf-compat",[m4]:"fire-rc",[y4]:"fire-rc-compat",[v4]:"fire-gcs",[_4]:"fire-gcs-compat",[E4]:"fire-fst",[w4]:"fire-fst-compat",[I4]:"fire-vertex","fire-js":"fire-js",[C4]:"fire-js-all"};var ku=new Map,D4=new Map,_E=new Map;function GM(t,e){try{t.container.addComponent(e)}catch(n){Br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gn(t){let e=t.name;if(_E.has(e))return Br.debug(`There were multiple attempts to register component ${e}.`),!1;_E.set(e,t);for(let n of ku.values())GM(n,t);for(let n of D4.values())GM(n,t);return!0}function zf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t==null?!1:t.settings!==void 0}var S4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new qn("app","Firebase",S4);var EE=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}};var fa=b4;function CE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ti.create("bad-app-name",{appName:String(i)});if(n||(n=oE()),!n)throw Ti.create("no-options");let o=ku.get(i);if(o){if(Ao(n,o.options)&&Ao(r,o.config))return o;throw Ti.create("duplicate-app",{appName:i})}let s=new $f(i);for(let u of _E.values())s.addComponent(u);let a=new EE(n,r,s);return ku.set(i,a),a}function pa(t=vE){let e=ku.get(t);if(!e&&t===vE&&oE())return CE();if(!e)throw Ti.create("no-app",{appName:t});return e}function qf(){return Array.from(ku.values())}function We(t,e,n){var r;let i=(r=T4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Br.warn(a.join(" "));return}Gn(new zt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var A4="firebase-heartbeat-database",R4=1,Fu="firebase-heartbeat-store",gE=null;function YM(){return gE||(gE=zM(A4,R4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),gE}async function M4(t){try{let n=(await YM()).transaction(Fu),r=await n.objectStore(Fu).get(ZM(t));return await n.done,r}catch(e){if(e instanceof Rn)Br.warn(e.message);else{let n=Ti.create("idb-get",{originalErrorMessage:e?.message});Br.warn(n.message)}}}async function WM(t,e){try{let r=(await YM()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,ZM(t)),await r.done}catch(n){if(n instanceof Rn)Br.warn(n.message);else{let r=Ti.create("idb-set",{originalErrorMessage:n?.message});Br.warn(r.message)}}}function ZM(t){return`${t.name}!${t.options.appId}`}var N4=1024,P4=30,IE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new wE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=KM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>P4){let s=x4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=KM(),{heartbeatsToSend:r,unsentEntries:i}=O4(this._heartbeatsCache.heartbeats),o=Ou(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Br.warn(n),""}}};function KM(){return new Date().toISOString().substring(0,10)}function O4(t,e=N4){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),QM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),QM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var wE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xu()?FM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await M4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return WM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return WM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function QM(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}function x4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function k4(t){Gn(new zt("platform-logger",e=>new mE(e),"PRIVATE")),Gn(new zt("heartbeat",e=>new IE(e),"PRIVATE")),We(yE,qM,t),We(yE,qM,"esm2017"),We("fire-js","")}k4("");var F4="firebase",L4="11.10.0";We(F4,L4,"app");function JM(t){t===void 0&&(t=S(Ue));let e=t.get(pi);return n=>new J(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var No=new si("ANGULARFIRE2_VERSION");function Wf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var ma=(t,e)=>{let n=e?[e]:qf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ga=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(ga||{}),XM=Qc()&&typeof Zone<"u"?ga.WARN:ga.SILENT;var Gf=class{zone;delegate;constructor(e,n=rm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},Po=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=S(Ee);this.outsideAngular=n.runOutsideAngular(()=>new Gf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new Gf(typeof Zone>"u"?void 0:Zone.current,nm))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),eN=!1;function V4(t,e){!eN&&(XM>ga.SILENT||Qc())&&(eN=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),XM>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function j4(t){let e=S(Ee,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Mo(t){let e=S(Ee,{optional:!0});return e?e.run(()=>t()):t()}var U4=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ze(n,()=>Mo(()=>t.apply(void 0,r)))),kt=(t,e,n)=>(n||=e?ga.WARN:ga.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=S(Po),s=S(pi),a=S(ze)}catch{return V4(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Mo(()=>s.add())),i[l]=U4(i[l],r,a));let u=j4(()=>t.apply(this,i));return e?u instanceof J?u.pipe(ii(o.outsideAngular),ri(o.insideAngular),JM(a)):u instanceof Promise?Mo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ze(a,()=>Mo(()=>h(m))),m=>Ze(a,()=>Mo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Mo(()=>u):u instanceof J?u.pipe(ii(o.outsideAngular),ri(o.insideAngular)):Mo(()=>u)});var Oo=class{constructor(e){return e}},Lu=class{constructor(){return qf()}};function B4(t){return t&&t.length===1?t[0]:new Oo(pa())}var bE=new V("angularfire2._apps"),$4={provide:Oo,useFactory:B4,deps:[[new ir,bE]]},H4={provide:Lu,deps:[[new ir,bE]]};function z4(t){return(e,n)=>{let r=n.get(Fr);We("angularfire",No.full,"core"),We("angularfire",No.full,"app"),We("angular",Em.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Oo(i)}}function tN(t,...e){return ut([$4,H4,{provide:bE,useFactory:z4(t),multi:!0,deps:[Ee,Ue,Po,...e]}])}var nN=kt(CE,!0);var q4=new Map,G4={activated:!1,tokenObservers:[]},W4={initialized:!1,enabled:!1};function Wn(t){return q4.get(t)||Object.assign({},G4)}function sN(){return W4}var K4="https://content-firebaseappcheck.googleapis.com/v1";var Q4="exchangeDebugToken",rN={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},cae=1440*60*1e3;var SE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Do,this.pending.promise.catch(n=>{}),await Y4(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Do,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Y4(t){return new Promise(e=>{setTimeout(e,t)})}var Z4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Di=new qn("appCheck","AppCheck",Z4);function aN(t){if(!Wn(t).activated)throw Di.create("use-before-activation",{appName:t.name})}async function cN({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw Di.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw Di.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw Di.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function uN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${K4}/projects/${n}/apps/${r}:${Q4}?key=${i}`,body:{debug_token:e}}}var J4="firebase-app-check-database",X4=1,AE="firebase-app-check-store";var Kf=null;function e3(){return Kf||(Kf=new Promise((t,e)=>{try{let n=indexedDB.open(J4,X4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Di.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(AE,{keyPath:"compositeKey"})}}}catch(n){e(Di.create("storage-open",{originalErrorMessage:n?.message}))}}),Kf)}function t3(t,e){return n3(r3(t),e)}async function n3(t,e){let r=(await e3()).transaction(AE,"readwrite"),o=r.objectStore(AE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(Di.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function r3(t){return`${t.options.appId}-${t.name}`}var Vu=new fr("@firebase/app-check");function TE(t,e){return xu()?t3(t,e).catch(n=>{Vu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function lN(){return sN().enabled}async function dN(){let t=sN();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var i3={error:"UNKNOWN_ERROR"};function o3(t){return jf.encodeString(JSON.stringify(t),!1)}async function RE(t,e=!1,n=!1){let r=t.app;aN(r);let i=Wn(r),o=i.token,s;if(o&&!ju(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(ju(l)?o=l:await TE(r,void 0))}if(!e&&o&&ju(o))return{token:o.token};let a=!1;if(lN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=cN(uN(r,await dN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await TE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Vu.warn(l.message):n&&Vu.error(l),DE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Vu.warn(l.message):n&&Vu.error(l),s=l}let u;return o?s?ju(o)?u={token:o.token,internalError:s}:u=DE(s):(u={token:o.token},i.token=o,await TE(r,o)):u=DE(s),a&&u3(r,u),u}async function s3(t){let e=t.app;aN(e);let{provider:n}=Wn(e);if(lN()){let r=await dN(),{token:i}=await cN(uN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function a3(t,e,n,r){let{app:i}=t,o=Wn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&ju(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),iN(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>iN(t))}function hN(t,e){let n=Wn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function iN(t){let{app:e}=t,n=Wn(e),r=n.tokenRefresher;r||(r=c3(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function c3(t){let{app:e}=t;return new SE(async()=>{let n=Wn(e),r;if(n.token?r=await RE(t,!0):r=await RE(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Wn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},rN.RETRIAL_MIN_WAIT,rN.RETRIAL_MAX_WAIT)}function u3(t,e){let n=Wn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function ju(t){return t.expireTimeMillis-Date.now()>0}function DE(t){return{token:o3(i3),error:t}}var ME=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Wn(this.app);for(let n of e)hN(this.app,n.next);return Promise.resolve()}};function l3(t,e){return new ME(t,e)}function d3(t){return{getToken:e=>RE(t,e),getLimitedUseToken:()=>s3(t),addTokenListener:e=>a3(t,"INTERNAL",e),removeTokenListener:e=>hN(t.app,e)}}var h3="@firebase/app-check",f3="0.10.1";var p3="app-check",oN="app-check-internal";function g3(){Gn(new zt(p3,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return l3(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(oN).initialize()})),Gn(new zt(oN,t=>{let e=t.getProvider("app-check").getImmediate();return d3(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),We(h3,f3)}g3();var m3="app-check";var Qf=class{constructor(){return ma(m3)}};var y3=["localhost","0.0.0.0","127.0.0.1"],Eae=typeof window<"u"&&y3.includes(window.location.hostname);function EN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var IN=EN,wN=new qn("auth","Firebase",EN());var Xf=new fr("@firebase/auth");function v3(t,...e){Xf.logLevel<=de.WARN&&Xf.warn(`Auth (${fa}): ${t}`,...e)}function Zf(t,...e){Xf.logLevel<=de.ERROR&&Xf.error(`Auth (${fa}): ${t}`,...e)}function fN(t,...e){throw $E(t,...e)}function BE(t,...e){return $E(t,...e)}function CN(t,e,n){let r=Object.assign(Object.assign({},IN()),{[e]:n});return new qn("auth","Firebase",r).create(e,{appName:t.name})}function Jf(t){return CN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $E(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return wN.create(t,...e)}function Te(t,e,...n){if(!t)throw $E(e,...n)}function Uu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Zf(e),new Error(e)}function ep(t,e){t||Uu(e)}function _3(){return pN()==="http:"||pN()==="https:"}function pN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function E3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_3()||OM()||"connection"in navigator)?navigator.onLine:!0}function I3(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Fo=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ep(n>e,"Short delay should be less than long delay!"),this.isMobile=NM()||xM()}get(){return E3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function w3(t,e){ep(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var tp=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var C3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var b3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T3=new Fo(3e4,6e4);function bN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sp(t,e,n,r,i={}){return TN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=cE(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return PM()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&So(t.emulatorConfig.host)&&(l.credentials="include"),tp.fetch()(await DN(t,t.config.apiHost,n,a),l)})}async function TN(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},C3),e);try{let i=new OE(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Yf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Yf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Yf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw CN(t,h,l);fN(t,h)}}catch(i){if(i instanceof Rn)throw i;fN(t,"network-request-failed",{message:String(i)})}}async function DN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?w3(t.config,i):`${t.config.apiScheme}://${i}`;return b3.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var OE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(BE(this.auth,"network-request-failed")),T3.get())})}};function Yf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=BE(t,e,r);return i.customData._tokenResponse=n,i}async function D3(t,e){return sp(t,"POST","/v1/accounts:delete",e)}async function np(t,e){return sp(t,"POST","/v1/accounts:lookup",e)}function Bu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function HE(t,e=!1){let n=Ct(t),r=await n.getIdToken(e),i=SN(r);Te(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Bu(NE(i.auth_time)),issuedAtTime:Bu(NE(i.iat)),expirationTime:Bu(NE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function NE(t){return Number(t)*1e3}function SN(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Uf(n);return i?JSON.parse(i):(Zf("Failed to decode base64 JWT payload"),null)}catch(i){return Zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gN(t){let e=SN(t);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function xE(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rn&&S3(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function S3({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var kE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Hu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function rp(t){var e;let n=t.auth,r=await t.getIdToken(),i=await xE(t,np(n,{idToken:r}));Te(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?AN(o.providerUserInfo):[],a=A3(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Hu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function zE(t){let e=Ct(t);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A3(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AN(t){return t.map(e=>{var{providerId:n}=e,r=im(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function R3(t,e){let n=await TN(t,{},async()=>{let r=cE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await DN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&So(t.emulatorConfig.host)&&(u.credentials="include"),tp.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function M3(t,e){return sp(t,"POST","/v2/accounts:revokeToken",bN(t,e))}var $u=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");let n=gN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await R3(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Te(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Te(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Te(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Uu("not implemented")}};function Si(t,e){Te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var xo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await xE(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return HE(this,e)}reload(){return zE(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Jf(this.auth));let e=await this.getIdToken();return await xE(this,D3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,Z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:X,emailVerified:Ie,isAnonymous:gt,providerData:Ae,stsTokenManager:w}=n;Te(X&&w,e,"internal-error");let v=$u.fromJSON(this.name,w);Te(typeof X=="string",e,"internal-error"),Si(p,e.name),Si(m,e.name),Te(typeof Ie=="boolean",e,"internal-error"),Te(typeof gt=="boolean",e,"internal-error"),Si(y,e.name),Si(b,e.name),Si(M,e.name),Si(R,e.name),Si(k,e.name),Si(Z,e.name);let E=new t({uid:X,auth:e,email:m,emailVerified:Ie,displayName:p,isAnonymous:gt,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:k,lastLoginAt:Z});return Ae&&Array.isArray(Ae)&&(E.providerData=Ae.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new $u;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rp(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Te(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?AN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new $u;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Hu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var mN=new Map;function ko(t){ep(t instanceof Function,"Expected a class definition");let e=mN.get(t);return e?(ep(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mN.set(t,e),e)}var N3=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),FE=N3;function PE(t,e,n){return`firebase:${t}:${e}:${n}`}var ip=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=PE(this.userKey,i.apiKey,o),this.fullPersistenceKey=PE("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await np(this.auth,{idToken:e}).catch(()=>{});return n?xo._fromGetAccountInfoResponse(this.auth,n,e):null}return xo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(ko(FE),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||ko(FE),s=PE(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await np(e,{idToken:h}).catch(()=>{});if(!m)break;p=await xo._fromGetAccountInfoResponse(e,m,h)}else p=xo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function yN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(k3(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P3(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L3(e))return"Blackberry";if(V3(e))return"Webos";if(O3(e))return"Safari";if((e.includes("chrome/")||x3(e))&&!e.includes("edge/"))return"Chrome";if(F3(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function P3(t=gn()){return/firefox\//i.test(t)}function O3(t=gn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x3(t=gn()){return/crios\//i.test(t)}function k3(t=gn()){return/iemobile/i.test(t)}function F3(t=gn()){return/android/i.test(t)}function L3(t=gn()){return/blackberry/i.test(t)}function V3(t=gn()){return/webos/i.test(t)}function RN(t,e=[]){let n;switch(t){case"Browser":n=yN(gn());break;case"Worker":n=`${yN(gn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}var LE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function j3(t,e={}){return sp(t,"GET","/v2/passwordPolicy",bN(t,e))}var U3=6,VE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:U3,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var jE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new op(this),this.idTokenSubscription=new op(this),this.beforeStateQueue=new LE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ko(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await ip.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await np(this,{idToken:e}),r=await xo._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if($r(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Jf(this));let n=e?Ct(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Jf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Jf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ko(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await j3(this),n=new VE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await M3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&ko(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await ip.create(this,[ko(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if($r(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&v3(`Error while retrieving App Check token: ${n.error}`),n?.token}};function B3(t){return Ct(t)}var op=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=LM(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var $3={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function H3(t){$3=t}function z3(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function q3(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ko);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var Pae=z3("rcb"),Oae=new Fo(3e4,6e4);var xae=new Fo(2e3,1e4);var kae=600*1e3;var Fae=new Fo(3e4,6e4);var Lae=new Fo(5e3,15e3);var Vae=encodeURIComponent("fac");var vN="@firebase/auth",_N="1.10.8";var UE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function G3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W3(t){Gn(new zt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Te(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RN(t)},l=new jE(r,i,o,u);return q3(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Gn(new zt("auth-internal",e=>{let n=B3(e.getProvider("auth").getImmediate());return(r=>new UE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),We(vN,_N,G3(t)),We(vN,_N,"esm2017")}var K3=300,jae=RM("authIdTokenMaxAge")||K3;function Q3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}H3({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=BE("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Q3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W3("Browser");var Wz="auth";var ap=class{constructor(){return ma(Wz)}};var MN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},NN={};var Hr,qE;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,C,D){for(var _=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)_[Cr-2]=arguments[Cr];return v.prototype[C].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var C=0;16>C;++C)I[C]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(C=0;16>C;++C)I[C]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],C=w.g[2];var D=w.g[3],_=v+(D^E&(C^D))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=D+(C^v&(E^C))+I[1]+3905402710&4294967295,D=v+(_<<12&4294967295|_>>>20),_=C+(E^D&(v^E))+I[2]+606105819&4294967295,C=D+(_<<17&4294967295|_>>>15),_=E+(v^C&(D^v))+I[3]+3250441966&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(D^E&(C^D))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(C^v&(E^C))+I[5]+1200080426&4294967295,D=v+(_<<12&4294967295|_>>>20),_=C+(E^D&(v^E))+I[6]+2821735955&4294967295,C=D+(_<<17&4294967295|_>>>15),_=E+(v^C&(D^v))+I[7]+4249261313&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(D^E&(C^D))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(C^v&(E^C))+I[9]+2336552879&4294967295,D=v+(_<<12&4294967295|_>>>20),_=C+(E^D&(v^E))+I[10]+4294925233&4294967295,C=D+(_<<17&4294967295|_>>>15),_=E+(v^C&(D^v))+I[11]+2304563134&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(D^E&(C^D))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(C^v&(E^C))+I[13]+4254626195&4294967295,D=v+(_<<12&4294967295|_>>>20),_=C+(E^D&(v^E))+I[14]+2792965006&4294967295,C=D+(_<<17&4294967295|_>>>15),_=E+(v^C&(D^v))+I[15]+1236535329&4294967295,E=C+(_<<22&4294967295|_>>>10),_=v+(C^D&(E^C))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^C&(v^E))+I[6]+3225465664&4294967295,D=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(D^v))+I[11]+643717713&4294967295,C=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(C^D))+I[0]+3921069994&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^D&(E^C))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^C&(v^E))+I[10]+38016083&4294967295,D=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(D^v))+I[15]+3634488961&4294967295,C=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(C^D))+I[4]+3889429448&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^D&(E^C))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^C&(v^E))+I[14]+3275163606&4294967295,D=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(D^v))+I[3]+4107603335&4294967295,C=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(C^D))+I[8]+1163531501&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(C^D&(E^C))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^C&(v^E))+I[2]+4243563512&4294967295,D=v+(_<<9&4294967295|_>>>23),_=C+(v^E&(D^v))+I[7]+1735328473&4294967295,C=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(C^D))+I[12]+2368359562&4294967295,E=C+(_<<20&4294967295|_>>>12),_=v+(E^C^D)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^C)+I[8]+2272392833&4294967295,D=v+(_<<11&4294967295|_>>>21),_=C+(D^v^E)+I[11]+1839030562&4294967295,C=D+(_<<16&4294967295|_>>>16),_=E+(C^D^v)+I[14]+4259657740&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^D)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^C)+I[4]+1272893353&4294967295,D=v+(_<<11&4294967295|_>>>21),_=C+(D^v^E)+I[7]+4139469664&4294967295,C=D+(_<<16&4294967295|_>>>16),_=E+(C^D^v)+I[10]+3200236656&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^D)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^C)+I[0]+3936430074&4294967295,D=v+(_<<11&4294967295|_>>>21),_=C+(D^v^E)+I[3]+3572445317&4294967295,C=D+(_<<16&4294967295|_>>>16),_=E+(C^D^v)+I[6]+76029189&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(E^C^D)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^C)+I[12]+3873151461&4294967295,D=v+(_<<11&4294967295|_>>>21),_=C+(D^v^E)+I[15]+530742520&4294967295,C=D+(_<<16&4294967295|_>>>16),_=E+(C^D^v)+I[2]+3299628645&4294967295,E=C+(_<<23&4294967295|_>>>9),_=v+(C^(E|~D))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~C))+I[7]+1126891415&4294967295,D=v+(_<<10&4294967295|_>>>22),_=C+(v^(D|~E))+I[14]+2878612391&4294967295,C=D+(_<<15&4294967295|_>>>17),_=E+(D^(C|~v))+I[5]+4237533241&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~D))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~C))+I[3]+2399980690&4294967295,D=v+(_<<10&4294967295|_>>>22),_=C+(v^(D|~E))+I[10]+4293915773&4294967295,C=D+(_<<15&4294967295|_>>>17),_=E+(D^(C|~v))+I[1]+2240044497&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~D))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~C))+I[15]+4264355552&4294967295,D=v+(_<<10&4294967295|_>>>22),_=C+(v^(D|~E))+I[6]+2734768916&4294967295,C=D+(_<<15&4294967295|_>>>17),_=E+(D^(C|~v))+I[13]+1309151649&4294967295,E=C+(_<<21&4294967295|_>>>11),_=v+(C^(E|~D))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~C))+I[11]+3174756917&4294967295,D=v+(_<<10&4294967295|_>>>22),_=C+(v^(D|~E))+I[2]+718787259&4294967295,C=D+(_<<15&4294967295|_>>>17),_=E+(D^(C|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(C+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+C&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,C=this.h,D=0;D<v;){if(C==0)for(;D<=E;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<v;)if(I[C++]=w.charCodeAt(D++),C==this.blockSize){i(this,I),C=0;break}}else for(;D<v;)if(I[C++]=w[D++],C==this.blockSize){i(this,I),C=0;break}}this.h=C,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,C=w.length-1;0<=C;C--){var D=w[C]|0;I&&D==v||(E[C]=D,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,C=0;C<w.length;C+=8){var D=Math.min(8,w.length-C),_=parseInt(w.substring(C,C+D),v);8>D?(D=l(Math.pow(v,D)),I=I.j(D).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var C=Ie(E,v).g;E=k(E,C.j(v));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=C,b(E))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=k(this,w),M(w)?-1:b(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,C=0;C<=v;C++){var D=I+(this.i(C)&65535)+(w.i(C)&65535),_=(D>>>16)+(this.i(C)>>>16)+(w.i(C)>>>16);I=_>>>16,D&=65535,_&=65535,E[C]=_<<16|D}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(w,v){return w.add(R(v))}t.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var C=0;C<w.g.length;C++){var D=this.i(I)>>>16,_=this.i(I)&65535,Cr=w.i(C)>>>16,za=w.i(C)&65535;E[2*I+2*C]+=_*za,Z(E,2*I+2*C),E[2*I+2*C+1]+=D*za,Z(E,2*I+2*C+1),E[2*I+2*C+1]+=_*Cr,Z(E,2*I+2*C+1),E[2*I+2*C+2]+=D*Cr,Z(E,2*I+2*C+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function Z(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function X(w,v){this.g=w,this.h=v}function Ie(w,v){if(b(v))throw Error("division by zero");if(b(w))return new X(p,p);if(M(w))return v=Ie(R(w),v),new X(R(v.g),R(v.h));if(M(v))return v=Ie(w,R(v)),new X(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=gt(E),I=gt(I);var C=Ae(E,1),D=Ae(I,1);for(I=Ae(I,2),E=Ae(E,2);!b(I);){var _=D.add(I);0>=_.l(w)&&(C=C.add(E),D=_),I=Ae(I,1),E=Ae(E,1)}return v=k(w,C.j(v)),new X(C,v)}for(C=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(E),_=D.j(v);M(_)||0<_.l(w);)E-=I,D=l(E),_=D.j(v);b(D)&&(D=m),C=C.add(D),w=k(w,_)}return new X(C,w)}t.A=function(w){return Ie(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function gt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function Ae(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,C=[],D=0;D<I;D++)C[D]=0<v?w.i(D+E)>>>v|w.i(D+E+1)<<32-v:w.i(D+E);return new s(C,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qE=NN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Hr=NN.Integer=s}).apply(typeof MN<"u"?MN:typeof self<"u"?self:typeof window<"u"?window:{});var cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zr={};var GE,Kz,ya,WE,zu,up,KE,QE,YE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof cp=="object"&&cp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var T=c[g];if(!(T in f))break e;f=f[T]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,T={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),c.apply(d,T)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,T,A){for(var x=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)x[Ne-2]=arguments[Ne];return d.prototype[T].apply(g,x)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let T=c.length||0,A=g.length||0;c.length=T+A;for(let x=0;x<A;x++)c[T+x]=g[x]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Z(c){return/^[\s\xa0]*$/.test(c)}function X(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ie(c){return Ie[" "](c),c}Ie[" "]=function(){};var gt=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function Ae(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function C(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function _(){var c=pg;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Cr{constructor(){this.h=this.g=null}add(d,f){let g=za.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var za=new k(()=>new Ax,c=>c.reset());class Ax{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let qa,Ga=!1,pg=new Cr,_C=()=>{let c=a.Promise.resolve(void 0);qa=()=>{c.then(Rx)}};var Rx=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){D(f)}var d=za;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Ga=!1};function Jr(){this.s=this.s,this.C=this.C}Jr.prototype.s=!1,Jr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Tt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}Tt.prototype.h=function(){this.defaultPrevented=!0};var Mx=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Wa(c,d){if(Tt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(gt){e:{try{Ie(d.nodeName);var T=!0;break e}catch{}T=!1}T||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Nx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Wa.aa.h.call(this)}}b(Wa,Tt);var Nx={2:"touch",3:"pen",4:"mouse"};Wa.prototype.h=function(){Wa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ka="closure_listenable_"+(1e6*Math.random()|0),Px=0;function Ox(c,d,f,g,T){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=T,this.key=++Px,this.da=this.fa=!1}function pl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gl(c){this.src=c,this.g={},this.h=0}gl.prototype.add=function(c,d,f,g,T){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var x=mg(c,d,g,T);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new Ox(d,this.src,A,!!g,T),d.fa=f,c.push(d)),d};function gg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],T=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=T)&&Array.prototype.splice.call(g,T,1),A&&(pl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function mg(c,d,f,g){for(var T=0;T<c.length;++T){var A=c[T];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return T}return-1}var yg="closure_lm_"+(1e6*Math.random()|0),vg={};function EC(c,d,f,g,T){if(g&&g.once)return wC(c,d,f,g,T);if(Array.isArray(d)){for(var A=0;A<d.length;A++)EC(c,d[A],f,g,T);return null}return f=wg(f),c&&c[Ka]?c.K(d,f,l(g)?!!g.capture:!!g,T):IC(c,d,f,!1,g,T)}function IC(c,d,f,g,T,A){if(!d)throw Error("Invalid event type");var x=l(T)?!!T.capture:!!T,Ne=Eg(c);if(Ne||(c[yg]=Ne=new gl(c)),f=Ne.add(d,f,g,x,A),f.proxy)return f;if(g=xx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Mx||(T=x),T===void 0&&(T=!1),c.addEventListener(d.toString(),g,T);else if(c.attachEvent)c.attachEvent(bC(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xx(){function c(f){return d.call(c.src,c.listener,f)}let d=kx;return c}function wC(c,d,f,g,T){if(Array.isArray(d)){for(var A=0;A<d.length;A++)wC(c,d[A],f,g,T);return null}return f=wg(f),c&&c[Ka]?c.L(d,f,l(g)?!!g.capture:!!g,T):IC(c,d,f,!0,g,T)}function CC(c,d,f,g,T){if(Array.isArray(d))for(var A=0;A<d.length;A++)CC(c,d[A],f,g,T);else g=l(g)?!!g.capture:!!g,f=wg(f),c&&c[Ka]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=mg(A,f,g,T),-1<f&&(pl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=Eg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=mg(d,f,g,T)),(f=-1<c?d[c]:null)&&_g(f))}function _g(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ka])gg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(bC(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Eg(d))?(gg(f,c),f.h==0&&(f.src=null,d[yg]=null)):pl(c)}}}function bC(c){return c in vg?vg[c]:vg[c]="on"+c}function kx(c,d){if(c.da)c=!0;else{d=new Wa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&_g(c),c=f.call(g,d)}return c}function Eg(c){return c=c[yg],c instanceof gl?c:null}var Ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function wg(c){return typeof c=="function"?c:(c[Ig]||(c[Ig]=function(d){return c.handleEvent(d)}),c[Ig])}function Dt(){Jr.call(this),this.i=new gl(this),this.M=this,this.F=null}b(Dt,Jr),Dt.prototype[Ka]=!0,Dt.prototype.removeEventListener=function(c,d,f,g){CC(this,c,d,f,g)};function Vt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new Tt(d,c);else if(d instanceof Tt)d.target=d.target||c;else{var T=d;d=new Tt(g,c),I(d,T)}if(T=!0,f)for(var A=f.length-1;0<=A;A--){var x=d.g=f[A];T=ml(x,g,!0,d)&&T}if(x=d.g=c,T=ml(x,g,!0,d)&&T,T=ml(x,g,!1,d)&&T,f)for(A=0;A<f.length;A++)x=d.g=f[A],T=ml(x,g,!1,d)&&T}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)pl(f[g]);delete c.g[d],c.h--}}this.F=null},Dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},Dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ml(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var T=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==f){var Ne=x.listener,mt=x.ha||x.src;x.fa&&gg(c.i,x),T=Ne.call(mt,g)!==!1&&T}}return T&&!g.defaultPrevented}function TC(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function DC(c){c.g=TC(()=>{c.g=null,c.i&&(c.i=!1,DC(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Fx extends Jr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:DC(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qa(c){Jr.call(this),this.h=c,this.g={}}b(Qa,Jr);var SC=[];function AC(c){Ae(c.g,function(d,f){this.g.hasOwnProperty(f)&&_g(d)},c),c.g={}}Qa.prototype.N=function(){Qa.aa.N.call(this),AC(this)},Qa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cg=a.JSON.stringify,Lx=a.JSON.parse,Vx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function bg(){}bg.prototype.h=null;function RC(c){return c.h||(c.h=c.i())}function MC(){}var Ya={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Tg(){Tt.call(this,"d")}b(Tg,Tt);function Dg(){Tt.call(this,"c")}b(Dg,Tt);var Li={},NC=null;function yl(){return NC=NC||new Dt}Li.La="serverreachability";function PC(c){Tt.call(this,Li.La,c)}b(PC,Tt);function Za(c){let d=yl();Vt(d,new PC(d))}Li.STAT_EVENT="statevent";function OC(c,d){Tt.call(this,Li.STAT_EVENT,c),this.stat=d}b(OC,Tt);function jt(c){let d=yl();Vt(d,new OC(d,c))}Li.Ma="timingevent";function xC(c,d){Tt.call(this,Li.Ma,c),this.size=d}b(xC,Tt);function Ja(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Xa(){this.g=!0}Xa.prototype.xa=function(){this.g=!1};function jx(c,d,f,g,T,A){c.info(function(){if(c.g)if(A)for(var x="",Ne=A.split("&"),mt=0;mt<Ne.length;mt++){var _e=Ne[mt].split("=");if(1<_e.length){var St=_e[0];_e=_e[1];var At=St.split("_");x=2<=At.length&&At[1]=="type"?x+(St+"="+_e+"&"):x+(St+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+d+`
`+f+`
`+x})}function Ux(c,d,f,g,T,A,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+d+`
`+f+`
`+A+" "+x})}function Jo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+$x(c,f)+(g?" "+g:"")})}function Bx(c,d){c.info(function(){return"TIMEOUT: "+d})}Xa.prototype.info=function(){};function $x(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var A=T[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<T.length;x++)T[x]=""}}}}return Cg(f)}catch{return d}}var vl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kC={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Sg;function _l(){}b(_l,bg),_l.prototype.g=function(){return new XMLHttpRequest},_l.prototype.i=function(){return{}},Sg=new _l;function Xr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Qa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FC}function FC(){this.i=null,this.g="",this.h=!1}var LC={},Ag={};function Rg(c,d,f){c.L=1,c.v=Cl(br(d)),c.m=f,c.P=!0,VC(c,null)}function VC(c,d){c.F=Date.now(),El(c),c.A=br(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),JC(f.i,"t",g),c.C=0,f=c.j.J,c.h=new FC,c.g=mb(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Fx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var T="readystatechange";Array.isArray(T)||(T&&(SC[0]=T.toString()),T=SC);for(var A=0;A<T.length;A++){var x=EC(f,T[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Za(),jx(c.i,c.u,c.A,c.l,c.R,c.m)}Xr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Tr(c)==3?d.j():this.Y(c)},Xr.prototype.Y=function(c){try{if(c==this.g)e:{let At=Tr(this.g);var d=this.g.Ba();let ts=this.g.Z();if(!(3>At)&&(At!=3||this.g&&(this.h.h||this.g.oa()||ob(this.g)))){this.J||At!=4||d==7||(d==8||0>=ts?Za(3):Za(2)),Mg(this);var f=this.g.Z();this.X=f;t:if(jC(this)){var g=ob(this.g);c="";var T=g.length,A=Tr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vi(this),ec(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<T;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==T-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,Ux(this.i,this.u,this.A,this.l,this.R,At,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,mt=this.g;if((Ne=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ne)){var _e=Ne;break t}}_e=null}if(f=_e)Jo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ng(this,f);else{this.o=!1,this.s=3,jt(12),Vi(this),ec(this);break e}}if(this.P){f=!0;let Pn;for(;!this.J&&this.C<x.length;)if(Pn=Hx(this,x),Pn==Ag){At==4&&(this.s=4,jt(14),f=!1),Jo(this.i,this.l,null,"[Incomplete Response]");break}else if(Pn==LC){this.s=4,jt(15),Jo(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Jo(this.i,this.l,Pn,null),Ng(this,Pn);if(jC(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||x.length!=0||this.h.h||(this.s=1,jt(16),f=!1),this.o=this.o&&f,!f)Jo(this.i,this.l,x,"[Invalid Chunked Response]"),Vi(this),ec(this);else if(0<x.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Lg(St),St.M=!0,jt(11))}}else Jo(this.i,this.l,x,null),Ng(this,x);At==4&&Vi(this),this.o&&!this.J&&(At==4?hb(this.j,this):(this.o=!1,El(this)))}else sk(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,jt(12)):(this.s=0,jt(13)),Vi(this),ec(this)}}}catch{}finally{}};function jC(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Ag:(f=Number(d.substring(f,g)),isNaN(f)?LC:(g+=1,g+f>d.length?Ag:(d=d.slice(g,g+f),c.C=g+f,d)))}Xr.prototype.cancel=function(){this.J=!0,Vi(this)};function El(c){c.S=Date.now()+c.I,UC(c,c.I)}function UC(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ja(m(c.ba,c),d)}function Mg(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Xr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Bx(this.i,this.A),this.L!=2&&(Za(),jt(17)),Vi(this),this.s=2,ec(this)):UC(this,this.S-c)};function ec(c){c.j.G==0||c.J||hb(c.j,c)}function Vi(c){Mg(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,AC(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Ng(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Pg(f.h,c))){if(!c.K&&Pg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Al(f),Dl(f);else break e;Fg(f),jt(18)}}else f.za=T[1],0<f.za-f.T&&37500>T[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ja(m(f.Za,f),6e3));if(1>=HC(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ui(f,11)}else if((c.K||f.g==c)&&Al(f),!Z(d))for(T=f.Da.g.parse(d),d=0;d<T.length;d++){let _e=T[d];if(f.T=_e[0],_e=_e[1],f.G==2)if(_e[0]=="c"){f.K=_e[1],f.ia=_e[2];let St=_e[3];St!=null&&(f.la=St,f.j.info("VER="+f.la));let At=_e[4];At!=null&&(f.Aa=At,f.j.info("SVER="+f.Aa));let ts=_e[5];ts!=null&&typeof ts=="number"&&0<ts&&(g=1.5*ts,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let Pn=c.g;if(Pn){let Ml=Pn.g?Pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ml){var A=g.h;A.g||Ml.indexOf("spdy")==-1&&Ml.indexOf("quic")==-1&&Ml.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Og(A,A.h),A.h=null))}if(g.D){let Vg=Pn.g?Pn.g.getResponseHeader("X-HTTP-Session-Id"):null;Vg&&(g.ya=Vg,Pe(g.I,g.D,Vg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=gb(g,g.J?g.ia:null,g.W),x.K){zC(g.h,x);var Ne=x,mt=g.L;mt&&(Ne.I=mt),Ne.B&&(Mg(Ne),El(Ne)),g.g=x}else lb(g);0<f.i.length&&Sl(f)}else _e[0]!="stop"&&_e[0]!="close"||Ui(f,7);else f.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Ui(f,7):kg(f):_e[0]!="noop"&&f.l&&f.l.ta(_e),f.v=0)}}Za(4)}catch{}}var zx=class{constructor(c,d){this.g=c,this.map=d}};function BC(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $C(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function HC(c){return c.h?1:c.g?c.g.size:0}function Pg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Og(c,d){c.g?c.g.add(d):c.h=d}function zC(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}BC.prototype.cancel=function(){if(this.i=qC(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function qC(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function qx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Gx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function GC(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Gx(c),g=qx(c),T=g.length,A=0;A<T;A++)d.call(void 0,g[A],f&&f[A],c)}var WC=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),T=null;if(0<=g){var A=c[f].substring(0,g);T=c[f].substring(g+1)}else A=c[f];d(A,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ji(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ji){this.h=c.h,Il(this,c.j),this.o=c.o,this.g=c.g,wl(this,c.s),this.l=c.l;var d=c.i,f=new rc;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),KC(this,f),this.m=c.m}else c&&(d=String(c).match(WC))?(this.h=!1,Il(this,d[1]||"",!0),this.o=tc(d[2]||""),this.g=tc(d[3]||"",!0),wl(this,d[4]),this.l=tc(d[5]||"",!0),KC(this,d[6]||"",!0),this.m=tc(d[7]||"")):(this.h=!1,this.i=new rc(null,this.h))}ji.prototype.toString=function(){var c=[],d=this.j;d&&c.push(nc(d,QC,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(nc(d,QC,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(nc(f,f.charAt(0)=="/"?Yx:Qx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",nc(f,Jx)),c.join("")};function br(c){return new ji(c)}function Il(c,d,f){c.j=f?tc(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function wl(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function KC(c,d,f){d instanceof rc?(c.i=d,Xx(c.i,c.h)):(f||(d=nc(d,Zx)),c.i=new rc(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function Cl(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function tc(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function nc(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,Kx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var QC=/[#\/\?@]/g,Qx=/[#\?:]/g,Yx=/[#\?]/g,Zx=/[#\?@]/g,Jx=/#/g;function rc(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ei(c){c.g||(c.g=new Map,c.h=0,c.i&&Wx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=rc.prototype,t.add=function(c,d){ei(this),this.i=null,c=Xo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function YC(c,d){ei(c),d=Xo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function ZC(c,d){return ei(c),d=Xo(c,d),c.g.has(d)}t.forEach=function(c,d){ei(this),this.g.forEach(function(f,g){f.forEach(function(T){c.call(d,T,g,this)},this)},this)},t.na=function(){ei(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let T=c[g];for(let A=0;A<T.length;A++)f.push(d[g])}return f},t.V=function(c){ei(this);let d=[];if(typeof c=="string")ZC(this,c)&&(d=d.concat(this.g.get(Xo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return ei(this),this.i=null,c=Xo(this,c),ZC(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function JC(c,d,f){YC(c,d),0<f.length&&(c.i=null,c.g.set(Xo(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var T=A;x[g]!==""&&(T+="="+encodeURIComponent(String(x[g]))),c.push(T)}}return this.i=c.join("&")};function Xo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function Xx(c,d){d&&!c.j&&(ei(c),c.i=null,c.g.forEach(function(f,g){var T=g.toLowerCase();g!=T&&(YC(this,g),JC(this,T,f))},c)),c.j=d}function ek(c,d){let f=new Xa;if(a.Image){let g=new Image;g.onload=y(ti,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(ti,f,"TestLoadImage: error",!1,d,g),g.onabort=y(ti,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(ti,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function tk(c,d){let f=new Xa,g=new AbortController,T=setTimeout(()=>{g.abort(),ti(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(T),A.ok?ti(f,"TestPingServer: ok",!0,d):ti(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(T),ti(f,"TestPingServer: error",!1,d)})}function ti(c,d,f,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(f)}catch{}}function nk(){this.g=new Vx}function rk(c,d,f){let g=f||"";try{GC(c,function(T,A){let x=T;l(T)&&(x=Cg(T)),d.push(g+A+"="+encodeURIComponent(x))})}catch(T){throw d.push(g+"type="+encodeURIComponent("_badmap")),T}}function ic(c){this.l=c.Ub||null,this.j=c.eb||!1}b(ic,bg),ic.prototype.g=function(){return new bl(this.l,this.j)},ic.prototype.i=(function(c){return function(){return c}})({});function bl(c,d){Dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(bl,Dt),t=bl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,sc(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oc(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,sc(this)),this.g&&(this.readyState=3,sc(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XC(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function XC(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?oc(this):sc(this),this.readyState==3&&XC(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,oc(this))},t.Qa=function(c){this.g&&(this.response=c,oc(this))},t.ga=function(){this.g&&oc(this)};function oc(c){c.readyState=4,c.l=null,c.j=null,c.v=null,sc(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function sc(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function eb(c){let d="";return Ae(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function xg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=eb(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function Ve(c){Dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ve,Dt);var ik=/^https?$/i,ok=["POST","PUT"];t=Ve.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Sg.g(),this.v=this.o?RC(this.o):RC(Sg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){tb(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)f.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),T=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ok,d,void 0))||g||T||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of f)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ib(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){tb(this,A)}};function tb(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,nb(c),Tl(c)}function nb(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Vt(this,"complete"),Vt(this,"abort"),Tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),Ve.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?rb(this):this.bb())},t.bb=function(){rb(this)};function rb(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Tr(c)!=4||c.Z()!=2)){if(c.u&&Tr(c)==4)TC(c.Ea,0,c);else if(Vt(c,"readystatechange"),Tr(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var T=String(c.D).match(WC)[1]||null;!T&&a.self&&a.self.location&&(T=a.self.location.protocol.slice(0,-1)),g=!ik.test(T?T.toLowerCase():"")}f=g}if(f)Vt(c,"complete"),Vt(c,"success");else{c.m=6;try{var A=2<Tr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",nb(c)}}finally{Tl(c)}}}}function Tl(c,d){if(c.g){ib(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Vt(c,"ready");try{f.onreadystatechange=g}catch{}}}function ib(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Tr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Tr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Lx(d)}};function ob(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sk(c){let d={};c=(c.g&&2<=Tr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(Z(c[g]))continue;var f=C(c[g]);let T=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[T]||[];d[T]=A,A.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ac(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function sb(c){this.Aa=0,this.i=[],this.j=new Xa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ac("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ac("baseRetryDelayMs",5e3,c),this.cb=ac("retryDelaySeedMs",1e4,c),this.Wa=ac("forwardChannelMaxRetries",2,c),this.wa=ac("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new BC(c&&c.concurrentRequestLimit),this.Da=new nk,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=sb.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){jt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=gb(this,null,this.W),Sl(this)};function kg(c){if(ab(c),c.G==3){var d=c.U++,f=br(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),cc(c,f),d=new Xr(c,c.j,d),d.L=2,d.v=Cl(br(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mb(d.j,null),d.g.ea(d.v)),d.F=Date.now(),El(d)}pb(c)}function Dl(c){c.g&&(Lg(c),c.g.cancel(),c.g=null)}function ab(c){Dl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Al(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Sl(c){if(!$C(c.h)&&!c.s){c.s=!0;var d=c.Ga;qa||_C(),Ga||(qa(),Ga=!0),pg.add(d,c),c.B=0}}function ak(c,d){return HC(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ja(m(c.Ga,c,d),fb(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let T=new Xr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(T.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=ub(this,T,d),f=br(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),cc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(eb(A)))+"&"+d:this.m&&xg(f,this.m,A)),Og(this.h,T),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),T.T=!0,Rg(T,f,null)):Rg(T,f,d),this.G=2}}else this.G==3&&(c?cb(this,c):this.i.length==0||$C(this.h)||cb(this))};function cb(c,d){var f;d?f=d.l:f=c.U++;let g=br(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),cc(c,g),c.m&&c.o&&xg(g,c.m,c.o),f=new Xr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=ub(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Og(c.h,f),Rg(f,g,d)}function cc(c,d){c.H&&Ae(c.H,function(f,g){Pe(d,g,f)}),c.l&&GC({},function(f,g){Pe(d,g,f)})}function ub(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var T=c.i;let A=-1;for(;;){let x=["count="+f];A==-1?0<f?(A=T[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let Ne=!0;for(let mt=0;mt<f;mt++){let _e=T[mt].g,St=T[mt].map;if(_e-=A,0>_e)A=Math.max(0,T[mt].g-100),Ne=!1;else try{rk(St,x,"req"+_e+"_")}catch{g&&g(St)}}if(Ne){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function lb(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;qa||_C(),Ga||(qa(),Ga=!0),pg.add(d,c),c.v=0}}function Fg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ja(m(c.Fa,c),fb(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,db(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ja(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,jt(10),Dl(this),db(this))};function Lg(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function db(c){c.g=new Xr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=br(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),cc(c,d),c.m&&c.o&&xg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Cl(br(d)),f.m=null,f.P=!0,VC(f,c)}t.Za=function(){this.C!=null&&(this.C=null,Dl(this),Fg(this),jt(19))};function Al(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hb(c,d){var f=null;if(c.g==d){Al(c),Lg(c),c.g=null;var g=2}else if(Pg(c.h,d))f=d.D,zC(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var T=c.B;g=yl(),Vt(g,new xC(g,f)),Sl(c)}else lb(c);else if(T=d.s,T==3||T==0&&0<d.X||!(g==1&&ak(c,d)||g==2&&Fg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),T){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function fb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ui(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let T=!g;g=new ji(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Il(g,"https"),Cl(g),T?ek(g.toString(),f):tk(g.toString(),f)}else jt(2);c.G=0,c.l&&c.l.sa(d),pb(c),ab(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),jt(2)):(this.j.info("Failed to ping google.com"),jt(1))};function pb(c){if(c.G=0,c.ka=[],c.l){let d=qC(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function gb(c,d,f){var g=f instanceof ji?br(f):new ji(f);if(g.g!="")d&&(g.g=d+"."+g.g),wl(g,g.s);else{var T=a.location;g=T.protocol,d=d?d+"."+T.hostname:T.hostname,T=+T.port;var A=new ji(null);g&&Il(A,g),d&&(A.g=d),T&&wl(A,T),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),cc(c,g),g}function mb(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ve(new ic({eb:f})):new Ve(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function yb(){}t=yb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Rl(){}Rl.prototype.g=function(c,d){return new en(c,d)};function en(c,d){Dt.call(this),this.g=new sb(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!Z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new es(this)}b(en,Dt),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){kg(this.g)},en.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Cg(c),c=f);d.i.push(new zx(d.Ya++,c)),d.G==3&&Sl(d)},en.prototype.N=function(){this.g.l=null,delete this.j,kg(this.g),delete this.g,en.aa.N.call(this)};function vb(c){Tg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(vb,Tg);function _b(){Dg.call(this),this.status=1}b(_b,Dg);function es(c){this.g=c}b(es,yb),es.prototype.ua=function(){Vt(this.g,"a")},es.prototype.ta=function(c){Vt(this.g,new vb(c))},es.prototype.sa=function(c){Vt(this.g,new _b)},es.prototype.ra=function(){Vt(this.g,"b")},Rl.prototype.createWebChannel=Rl.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,YE=zr.createWebChannelTransport=function(){return new Rl},QE=zr.getStatEventTarget=function(){return yl()},KE=zr.Event=Li,up=zr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vl.NO_ERROR=0,vl.TIMEOUT=8,vl.HTTP_ERROR=6,zu=zr.ErrorCode=vl,kC.COMPLETE="complete",WE=zr.EventType=kC,MC.EventType=Ya,Ya.OPEN="a",Ya.CLOSE="b",Ya.ERROR="c",Ya.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,ya=zr.WebChannel=MC,Kz=zr.FetchXmlHttpFactory=ic,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,GE=zr.XhrIo=Ve}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});var PN="@firebase/firestore",ON="4.8.0";var ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ft.UNAUTHENTICATED=new ft(null),ft.GOOGLE_CREDENTIALS=new ft("google-credentials-uid"),ft.FIRST_PARTY=new ft("first-party-uid"),ft.MOCK_USER=new ft("mock-user");var Va="11.10.0";var $o=new fr("@firebase/firestore");function va(){return $o.logLevel}function U(t,...e){if($o.logLevel<=de.DEBUG){let n=e.map(jw);$o.debug(`Firestore (${Va}): ${t}`,...n)}}function Gr(t,...e){if($o.logLevel<=de.ERROR){let n=e.map(jw);$o.error(`Firestore (${Va}): ${t}`,...n)}}function Pi(t,...e){if($o.logLevel<=de.WARN){let n=e.map(jw);$o.warn(`Firestore (${Va}): ${t}`,...n)}}function jw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function Q(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TP(t,r,n)}function TP(t,e,n){let r=`FIRESTORE (${Va}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Gr(r),new Error(r)}function Se(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TP(e,i,r)}function oe(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Rn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var mp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},tI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ft.UNAUTHENTICATED))}shutdown(){}},nI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},rI=class{constructor(e){this.t=e,this.currentUser=ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new mp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new ft(e)}},iI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ft.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},oI=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new iI(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}},yp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},sI=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$r(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new yp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Qz(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function DP(){return new TextEncoder}var Yu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Qz(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function le(t,e){return t<e?-1:t>e?1:0}function aI(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return le(r,i);{let o=DP(),s=Yz(o.encode(xN(t,n)),o.encode(xN(e,n)));return s!==0?s:le(r,i)}}n+=r>65535?2:1}return le(t.length,e.length)}function xN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Yz(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return le(t[n],e[n]);return le(t.length,e.length)}function Ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var kN="__name__",vp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Q(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return le(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):aI(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hr.fromString(e.substring(4,e.length-2))}},Fe=class t extends vp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Zz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class t extends vp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Zz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===kN}static keyField(){return new t([kN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var W=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};function SP(t,e,n){if(!n)throw new j(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Jz(t,e,n,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function FN(t){if(!W.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LN(t){if(W.isDocumentKey(t))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function AP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q(12329,{type:typeof t})}function mr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Yp(t);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function it(t,e){let n={typeString:t};return e&&(n.value=e),n}function ul(t,e){if(!AP(t))throw new j(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new j(N.INVALID_ARGUMENT,n);return!0}var VN=-62135596800,jN=1e6,ot=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*jN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<VN)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jN}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ul(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-VN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};ot._jsonSchemaVersion="firestore/timestamp/1.0",ot._jsonSchema={type:it("string",ot._jsonSchemaVersion),seconds:it("number"),nanoseconds:it("number")};var ce=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new ot(0,0))}static max(){return new t(new ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Zu=-1,cI=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};cI.UNKNOWN_ID=-1;function Xz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Ho(i,W.empty(),e)}function eq(t){return new Ho(t.readTime,t.key,Zu)}var Ho=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ce.min(),W.empty(),Zu)}static max(){return new t(ce.max(),W.empty(),Zu)}};function tq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}var nq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",uI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function ja(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==nq)throw t;U("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function rq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ua(t){return t.name==="IndexedDbTransactionError"}var Uw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Bw=-1;function Zp(t){return t==null}function Ju(t){return t===0&&1/t==-1/0}function iq(t){return typeof t=="number"&&Number.isInteger(t)&&!Ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var RP="";function oq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=UN(e)),e=sq(t.get(n),e);return UN(e)}function sq(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case RP:n+="";break;default:n+=o}}return n}function UN(t){return t+RP+""}var aq="remoteDocuments",MP="owner";var NP="mutationQueues";var PP="mutations";var OP="documentMutations",cq="remoteDocumentsV14";var xP="remoteDocumentGlobal";var kP="targets";var FP="targetDocuments";var LP="targetGlobal",VP="collectionParents";var jP="clientMetadata";var UP="bundles";var BP="namedQueries";var uq="indexConfiguration";var lq="indexState";var dq="indexEntries";var $P="documentOverlays";var hq="globals";var fq=[NP,PP,OP,aq,kP,MP,LP,FP,jP,xP,VP,UP,BP],$ce=[...fq,$P],pq=[NP,PP,OP,cq,kP,MP,LP,FP,jP,xP,VP,UP,BP,$P],gq=pq,mq=[...gq,uq,lq,dq];var Hce=[...mq,hq];function BN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var $e=class t{constructor(e,n){this.comparator=e,this.root=n||yr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wa(this.root,e,this.comparator,!0)}},wa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},yr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw Q(27949);return e+(this.isRed()?0:1)}};yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1;yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Q(57766)}get value(){throw Q(16141)}get color(){throw Q(16727)}get left(){throw Q(29726)}get right(){throw Q(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new yr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var pt=class t{constructor(e){this.comparator=e,this.data=new $e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _p(this.data.getIterator())}getIteratorFrom(e){return new _p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},_p=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Nn=class t{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new t([])}unionWith(e){let n=new pt(yn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ep=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ep("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var yq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(t){if(Se(!!t,39018),typeof t=="string"){let e=0,n=yq.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}var zP="server_timestamp",qP="__type__",GP="__previous_value__",WP="__local_write_time__";function $w(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[qP])===null||n===void 0?void 0:n.stringValue)===zP}function Jp(t){let e=t.mapValue.fields[GP];return $w(e)?Jp(e):e}function Xu(t){let e=Wr(t.mapValue.fields[WP].timestampValue);return new ot(e.seconds,e.nanos)}var lI=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},Ip="(default)",wp=class t{constructor(e,n){this.projectId=e,this.database=n||Ip}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ip}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Hw="__type__",KP="__max__",lp={mapValue:{fields:{__type__:{stringValue:KP}}}},zw="__vector__",Da="value";function Oi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?$w(t)?4:YP(t)?9007199254740991:QP(t)?10:11:Q(28295,{value:t})}function Er(t,e){if(t===e)return!0;let n=Oi(t);if(n!==Oi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xu(t).isEqual(Xu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Wr(i.timestampValue),a=Wr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Kr(i.bytesValue).isEqual(Kr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),a=ke(o.doubleValue);return s===a?Ju(s)===Ju(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return Ta(t.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(BN(s)!==BN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Er(s[u],a[u])))return!1;return!0})(t,e);default:return Q(52216,{left:t})}}function el(t,e){return(t.values||[]).find(n=>Er(n,e))!==void 0}function Sa(t,e){if(t===e)return 0;let n=Oi(t),r=Oi(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return $N(t.timestampValue,e.timestampValue);case 4:return $N(Xu(t),Xu(e));case 5:return aI(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Kr(o),u=Kr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=le(a[l],u[l]);if(h!==0)return h}return le(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=le(ke(o.latitude),ke(s.latitude));return a!==0?a:le(ke(o.longitude),ke(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return HN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Da])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Da])===null||u===void 0?void 0:u.arrayValue,M=le(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:HN(y,b)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===lp.mapValue&&s===lp.mapValue)return 0;if(o===lp.mapValue)return 1;if(s===lp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=aI(u[p],h[p]);if(m!==0)return m;let y=Sa(a[u[p]],l[h[p]]);if(y!==0)return y}return le(u.length,h.length)})(t.mapValue,e.mapValue);default:throw Q(23264,{le:n})}}function $N(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);let n=Wr(t),r=Wr(e),i=le(n.seconds,r.seconds);return i!==0?i:le(n.nanos,r.nanos)}function HN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Sa(n[i],r[i]);if(o)return o}return le(n.length,r.length)}function Aa(t){return dI(t)}function dI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Wr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Kr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return W.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=dI(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${dI(n.fields[s])}`;return i+"}"})(t.mapValue):Q(61005,{value:t})}function fp(t){switch(Oi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Jp(t);return e?16+fp(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+fp(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Fi(r.fields,(o,s)=>{i+=o.length+fp(s)}),i})(t.mapValue);default:throw Q(13486,{value:t})}}function zN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hI(t){return!!t&&"integerValue"in t}function qw(t){return!!t&&"arrayValue"in t}function qN(t){return!!t&&"nullValue"in t}function GN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pp(t){return!!t&&"mapValue"in t}function QP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||n===void 0?void 0:n.stringValue)===zw}function Gu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Fi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Gu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Gu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function YP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===KP}var qce={mapValue:{fields:{[Hw]:{stringValue:zw},[Da]:{arrayValue:{}}}}};var mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gu(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Gu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());pp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fi(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Gu(this.value))}};function ZP(t){let e=[];return Fi(t.fields,(n,r)=>{let i=new yn([n]);if(pp(r)){let o=ZP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Nn(e)}var Kn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ce.min(),ce.min(),ce.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ce.min(),ce.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ce.min(),ce.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ra=class{constructor(e,n){this.position=e,this.inclusive=n}};function WN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=W.comparator(W.fromName(s.referenceValue),n.key):r=Sa(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function KN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Er(t.position[n],e.position[n]))return!1;return!0}var Ma=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function vq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Cp=class{},rt=class t extends Cp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new pI(e,n,r):n==="array-contains"?new yI(e,r):n==="in"?new vI(e,r):n==="not-in"?new _I(e,r):n==="array-contains-any"?new EI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new gI(e,r):new mI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Sa(n,this.value)):n!==null&&Oi(this.value)===Oi(n)&&this.matchesComparison(Sa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Qn=class t extends Cp{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return JP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function JP(t){return t.op==="and"}function XP(t){return _q(t)&&JP(t)}function _q(t){for(let e of t.filters)if(e instanceof Qn)return!1;return!0}function fI(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+Aa(t.value);if(XP(t))return t.filters.map(e=>fI(e)).join(",");{let e=t.filters.map(n=>fI(n)).join(",");return`${t.op}(${e})`}}function eO(t,e){return t instanceof rt?(function(r,i){return i instanceof rt&&r.op===i.op&&r.field.isEqual(i.field)&&Er(r.value,i.value)})(t,e):t instanceof Qn?(function(r,i){return i instanceof Qn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&eO(s,i.filters[a]),!0):!1})(t,e):void Q(19439)}function tO(t){return t instanceof rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Aa(n.value)}`})(t):t instanceof Qn?(function(n){return n.op.toString()+" {"+n.getFilters().map(tO).join(" ,")+"}"})(t):"Filter"}var pI=class extends rt{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){let n=W.comparator(e.key,this.key);return this.matchesComparison(n)}},gI=class extends rt{constructor(e,n){super(e,"in",n),this.keys=nO("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},mI=class extends rt{constructor(e,n){super(e,"not-in",n),this.keys=nO("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function nO(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}var yI=class extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return qw(n)&&el(n.arrayValue,this.value)}},vI=class extends rt{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&el(this.value.arrayValue,n)}},_I=class extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!el(this.value.arrayValue,n)}},EI=class extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!qw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>el(this.value.arrayValue,r))}};var II=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function QN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new II(t,e,n,r,i,o,s)}function Gw(t){let e=oe(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Aa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Aa(r)).join(",")),e.Pe=n}return e.Pe}function Ww(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!eO(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!KN(t.startAt,e.startAt)&&KN(t.endAt,e.endAt)}function wI(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var zo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function Eq(t,e,n,r,i,o,s,a){return new zo(t,e,n,r,i,o,s,a)}function Kw(t){return new zo(t)}function YN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function rO(t){return t.collectionGroup!==null}function Wu(t){let e=oe(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new pt(yn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Ma(o,r))}),n.has(yn.keyField().canonicalString())||e.Te.push(new Ma(yn.keyField(),r))}return e.Te}function vr(t){let e=oe(t);return e.Ie||(e.Ie=Iq(e,Wu(t))),e.Ie}function Iq(t,e){if(t.limitType==="F")return QN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ma(i.field,o)});let n=t.endAt?new Ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ra(t.startAt.position,t.startAt.inclusive):null;return QN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function CI(t,e){let n=t.filters.concat([e]);return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function bI(t,e,n){return new zo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xp(t,e){return Ww(vr(t),vr(e))&&t.limitType===e.limitType}function iO(t){return`${Gw(vr(t))}|lt:${t.limitType}`}function _a(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>tO(i)).join(", ")}]`),Zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Aa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Aa(i)).join(",")),`Target(${r})`})(vr(t))}; limitType=${t.limitType})`}function eg(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):W.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Wu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=WN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Wu(r),i)||r.endAt&&!(function(s,a,u){let l=WN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Wu(r),i))})(t,e)}function wq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oO(t){return(e,n)=>{let r=!1;for(let i of Wu(t)){let o=Cq(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Cq(t,e,n){let r=t.field.isKeyField()?W.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Sa(u,l):Q(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q(19790,{direction:t.dir})}}var Qr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fi(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return HP(this.inner)}size(){return this.innerSize}};var bq=new $e(W.comparator);function Yr(){return bq}var sO=new $e(W.comparator);function qu(...t){let e=sO;for(let n of t)e=e.insert(n.key,n);return e}function aO(t){let e=sO;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lo(){return Ku()}function cO(){return Ku()}function Ku(){return new Qr(t=>t.toString(),(t,e)=>t.isEqual(e))}var Tq=new $e(W.comparator),Dq=new pt(W.comparator);function fe(...t){let e=Dq;for(let n of t)e=e.add(n);return e}var Sq=new pt(le);function Aq(){return Sq}function Qw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ju(e)?"-0":e}}function uO(t){return{integerValue:""+t}}function Rq(t,e){return iq(e)?uO(e):Qw(t,e)}var Na=class{constructor(){this._=void 0}};function Mq(t,e,n){return t instanceof Pa?(function(i,o){let s={fields:{[qP]:{stringValue:zP},[WP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&$w(o)&&(o=Jp(o)),o&&(s.fields[GP]=o),{mapValue:s}})(n,e):t instanceof qo?dO(t,e):t instanceof Go?hO(t,e):(function(i,o){let s=lO(i,o),a=ZN(s)+ZN(i.Ee);return hI(s)&&hI(i.Ee)?uO(a):Qw(i.serializer,a)})(t,e)}function Nq(t,e,n){return t instanceof qo?dO(t,e):t instanceof Go?hO(t,e):n}function lO(t,e){return t instanceof Oa?(function(r){return hI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Pa=class extends Na{},qo=class extends Na{constructor(e){super(),this.elements=e}};function dO(t,e){let n=fO(e);for(let r of t.elements)n.some(i=>Er(i,r))||n.push(r);return{arrayValue:{values:n}}}var Go=class extends Na{constructor(e){super(),this.elements=e}};function hO(t,e){let n=fO(e);for(let r of t.elements)n=n.filter(i=>!Er(i,r));return{arrayValue:{values:n}}}var Oa=class extends Na{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function ZN(t){return ke(t.integerValue||t.doubleValue)}function fO(t){return qw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Pq(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof qo&&i instanceof qo||r instanceof Go&&i instanceof Go?Ta(r.elements,i.elements,Er):r instanceof Oa&&i instanceof Oa?Er(r.Ee,i.Ee):r instanceof Pa&&i instanceof Pa})(t.transform,e.transform)}var TI=class{constructor(e,n){this.version=e,this.transformResults=n}},qr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var xa=class{};function pO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tl(t.key,qr.none()):new Wo(t.key,t.data,qr.none());{let n=t.data,r=mn.empty(),i=new pt(yn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Ir(t.key,r,new Nn(i.toArray()),qr.none())}}function Oq(t,e,n){t instanceof Wo?(function(i,o,s){let a=i.value.clone(),u=XN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof Ir?(function(i,o,s){if(!gp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=XN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(gO(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Qu(t,e,n,r){return t instanceof Wo?(function(o,s,a,u){if(!gp(o.precondition,s))return a;let l=o.value.clone(),h=eP(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof Ir?(function(o,s,a,u){if(!gp(o.precondition,s))return a;let l=eP(o.fieldTransforms,u,s),h=s.data;return h.setAll(gO(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return gp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function xq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=lO(r.transform,i||null);o!=null&&(n===null&&(n=mn.empty()),n.set(r.field,o))}return n||null}function JN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ta(r,i,(o,s)=>Pq(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Wo=class extends xa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Ir=class extends xa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function XN(t,e,n){let r=new Map;Se(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Nq(s,a,n[i]))}return r}function eP(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Mq(o,s,e))}return r}var tl=class extends xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},DI=class extends xa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var SI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Oq(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=cO();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=pO(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),fe())}isEqual(e){return this.batchId===e.batchId&&Ta(this.mutations,e.mutations,(n,r)=>JN(n,r))&&Ta(this.baseMutations,e.baseMutations,(n,r)=>JN(n,r))}},AI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Se(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return Tq})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var RI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var MI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,ye;function kq(t){switch(t){case N.OK:return Q(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return Q(15467,{code:t})}}function mO(t){if(t===void 0)return Gr("GRPC error has no .code"),N.UNKNOWN;switch(t){case tt.OK:return N.OK;case tt.CANCELLED:return N.CANCELLED;case tt.UNKNOWN:return N.UNKNOWN;case tt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case tt.INTERNAL:return N.INTERNAL;case tt.UNAVAILABLE:return N.UNAVAILABLE;case tt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case tt.NOT_FOUND:return N.NOT_FOUND;case tt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case tt.ABORTED:return N.ABORTED;case tt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case tt.DATA_LOSS:return N.DATA_LOSS;default:return Q(39323,{code:t})}}(ye=tt||(tt={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var tP=null;var Fq=new Hr([4294967295,4294967295],0);function nP(t){let e=DP().encode(t),n=new qE;return n.update(e),new Uint8Array(n.digest())}function rP(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hr([n,r],0),new Hr([i,o],0)]}var NI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Vo(`Invalid padding: ${n}`);if(r<0)throw new Vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Hr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Hr.fromNumber(r)));return i.compare(Fq)===1&&(i=new Hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=nP(e),[r,i]=rP(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=nP(e),[r,i]=rP(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var bp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ce.min(),i,new $e(le),Yr(),fe())}},nl=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,fe(),fe(),fe())}};var Ca=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},Tp=class{constructor(e,n){this.targetId=e,this.De=n}},Dp=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Sp=class{constructor(){this.ve=0,this.Ce=iP(),this.Fe=Lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=fe(),n=fe(),r=fe();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q(38017,{changeType:o})}}),new nl(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=iP()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Se(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},PI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Yr(),this.je=dp(),this.Je=dp(),this.He=new $e(le)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:Q(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(wI(o))if(r===0){let s=new W(o.path);this.Xe(n,s,Kn.newNoDocument(s,ce.min()))}else Se(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}tP?.ct((function(h,p,m,y,b){var M,R,k,Z,X,Ie;let gt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Ae=p.unchangedNames;return Ae&&(gt.bloomFilter={applied:b===0,hashCount:(M=Ae?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(Z=(k=(R=Ae?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&Z!==void 0?Z:0,padding:(Ie=(X=Ae?.bits)===null||X===void 0?void 0:X.padding)!==null&&Ie!==void 0?Ie:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),gt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Kr(r).toUint8Array()}catch(u){if(u instanceof Ep)return Pi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new NI(s,i,o)}catch(u){return Pi(u instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&wI(a.target)){let u=new W(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Kn.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=fe();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new bp(e,n,this.He,this.ze,r);return this.ze=Yr(),this.je=dp(),this.Je=dp(),this.He=new $e(le),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Sp,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new pt(le),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new pt(le),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Sp),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function dp(){return new $e(W.comparator)}function iP(){return new $e(W.comparator)}var Lq={asc:"ASCENDING",desc:"DESCENDING"},Vq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jq={and:"AND",or:"OR"},OI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function xI(t,e){return t.useProto3Json||Zp(e)?e:{value:e}}function Ap(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Uq(t,e){return Ap(t,e.toTimestamp())}function _r(t){return Se(!!t,49232),ce.fromTimestamp((function(n){let r=Wr(n);return new ot(r.seconds,r.nanos)})(t))}function Yw(t,e){return kI(t,e).canonicalString()}function kI(t,e){let n=(function(i){return new Fe(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function vO(t){let e=Fe.fromString(t);return Se(CO(e),10190,{key:e.toString()}),e}function FI(t,e){return Yw(t.databaseId,e.path)}function ZE(t,e){let n=vO(e);if(n.get(1)!==t.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(EO(n))}function _O(t,e){return Yw(t.databaseId,e)}function Bq(t){let e=vO(t);return e.length===4?Fe.emptyPath():EO(e)}function LI(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EO(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function oP(t,e,n){return{name:FI(t,e),fields:n.value.mapValue.fields}}function $q(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Q(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Se(h===void 0||typeof h=="string",58123),Lt.fromBase64String(h||"")):(Se(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Lt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:mO(l.code);return new j(h,l.message||"")})(s);n=new Dp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=ZE(t,r.document.name),o=_r(r.document.updateTime),s=r.document.createTime?_r(r.document.createTime):ce.min(),a=new mn({mapValue:{fields:r.document.fields}}),u=Kn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ca(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=ZE(t,r.document),o=r.readTime?_r(r.readTime):ce.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ca([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=ZE(t,r.document),o=r.removedTargetIds||[];n=new Ca([],o,i,null)}else{if(!("filter"in e))return Q(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new MI(i,o),a=r.targetId;n=new Tp(a,s)}}return n}function Hq(t,e){let n;if(e instanceof Wo)n={update:oP(t,e.key,e.value)};else if(e instanceof tl)n={delete:FI(t,e.key)};else if(e instanceof Ir)n={update:oP(t,e.key,e.data),updateMask:Jq(e.fieldMask)};else{if(!(e instanceof DI))return Q(16599,{Rt:e.type});n={verify:FI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Pa)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Go)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Oa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw Q(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:Uq(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q(27497)})(t,e.precondition)),n}function zq(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?_r(i.updateTime):_r(o);return s.isEqual(ce.min())&&(s=_r(o)),new TI(s,i.transformResults||[])})(n,e))):[]}function qq(t,e){return{documents:[_O(t,e.path)]}}function Gq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_O(t,i);let o=(function(l){if(l.length!==0)return wO(Qn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Ea(m.field),direction:Qq(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=xI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function Wq(t){let e=Bq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Se(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=IO(p);return m instanceof Qn&&XP(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new Ma(Ia(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Zp(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ra(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ra(y,m)})(n.endAt)),Eq(e,i,s,o,a,"F",u,l)}function Kq(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ia(n.unaryFilter.field);return rt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ia(n.unaryFilter.field);return rt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ia(n.unaryFilter.field);return rt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ia(n.unaryFilter.field);return rt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Q(61313);default:return Q(60726)}})(t):t.fieldFilter!==void 0?(function(n){return rt.create(Ia(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Q(58110);default:return Q(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return Qn.create(n.compositeFilter.filters.map(r=>IO(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q(1026)}})(n.compositeFilter.op))})(t):Q(30097,{filter:t})}function Qq(t){return Lq[t]}function Yq(t){return Vq[t]}function Zq(t){return jq[t]}function Ea(t){return{fieldPath:t.canonicalString()}}function Ia(t){return yn.fromServerFormat(t.fieldPath)}function wO(t){return t instanceof rt?(function(n){if(n.op==="=="){if(GN(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NAN"}};if(qN(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(GN(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NAN"}};if(qN(n.value))return{unaryFilter:{field:Ea(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ea(n.field),op:Yq(n.op),value:n.value}}})(t):t instanceof Qn?(function(n){let r=n.getFilters().map(i=>wO(i));return r.length===1?r[0]:{compositeFilter:{op:Zq(n.op),filters:r}}})(t):Q(54877,{filter:t})}function Jq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var rl=class t{constructor(e,n,r,i,o=ce.min(),s=ce.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var VI=class{constructor(e){this.gt=e}};function Xq(t){let e=Wq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bI(e,e.limit,"L"):e}var Rp=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Ju(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Wr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Kr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?YP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):QP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):Q(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Da,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(ke(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),W.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};Rp.Ut=new Rp;var jI=class{constructor(){this.Dn=new UI}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Ho.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},UI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Fe.comparator)).toArray()}};var Gce=new Uint8Array(0);var sP={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bO=41943040,Mn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(bO,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);var il=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var aP="LruGarbageCollector",e6=1048576;function cP([t,e],[n,r]){let i=le(t,n);return i===0?le(e,r):i}var BI=class{constructor(e){this.Tr=e,this.buffer=new pt(cP),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();cP(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},$I=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(aP,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ua(n)?U(aP,"Ignoring IndexedDB error during garbage collection: ",n):await ja(n)}await this.Rr(3e5)})}},HI=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(Uw.ue);let r=new BI(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(sP)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sP):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),va()<=de.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function t6(t,e){return new HI(t,e)}var zI=class{constructor(){this.changes=new Qr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var qI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var GI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Qu(r.mutation,i,Nn.empty(),ot.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=fe()){let i=Lo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Lo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,fe()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=Yr(),s=Ku(),a=(function(){return Ku()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Ir)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Qu(h.mutation,l,h.mutation.getFieldMask(),ot.now())):s.set(l.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new qI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Ku(),i=new $e((s,a)=>s-a),o=fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Nn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||fe()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=cO();h.forEach(m=>{if(!o.has(m)){let y=pO(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return W.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rO(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Lo()),a=Zu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,fe())).next(h=>({batchId:a,changes:aO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=qu();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new zo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Kn.newInvalidDocument(h)))});let a=qu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Qu(h.mutation,l,Nn.empty(),ot.now()),eg(n,l)&&(a=a.insert(u,l))}),a})}};var WI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:_r(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:Xq(i.bundledQuery),readTime:_r(i.readTime)}})(n)),P.resolve()}};var KI=class{constructor(){this.overlays=new $e(W.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Lo();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Lo(),o=n.length+1,s=new W(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new $e((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Lo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Lo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new RI(n,r));let o=this.kr.get(n);o===void 0&&(o=fe(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var QI=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var ol=class{constructor(){this.qr=new pt(nt.Qr),this.$r=new pt(nt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new nt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new W(new Fe([])),r=new nt(n,e),i=new nt(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new W(new Fe([])),r=new nt(n,e),i=new nt(n,e+1),o=fe();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new nt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return W.comparator(e.key,n.key)||le(e.Hr,n.Hr)}static Ur(e,n){return le(e.Hr,n.Hr)||W.comparator(e.key,n.key)}};var YI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new pt(nt.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new SI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new nt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Bw:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(le);return n.forEach(i=>{let o=new nt(i,0),s=new nt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;W.isDocumentKey(o)||(o=o.child(""));let s=new nt(new W(o),0),a=new pt(le);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Se(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new nt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new nt(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var ZI=class{constructor(e){this.ni=e,this.docs=(function(){return new $e(W.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Yr(),s=n.path,a=new W(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||tq(eq(h),r)<=0||(i.has(h.key)||eg(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JI(this)}getSize(e){return P.resolve(this.size)}},JI=class extends zI{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var XI=class{constructor(e){this.persistence=e,this.ii=new Qr(n=>Gw(n),Ww),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new ol,this.targetCount=0,this._i=il.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new il(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Mp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new Uw(0),this.ci=!1,this.ci=!0,this.li=new QI,this.referenceDelegate=e(this),this.hi=new XI(this),this.indexManager=new jI,this.remoteDocumentCache=(function(i){return new ZI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new VI(n),this.Ti=new WI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new KI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new YI(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new ew(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},ew=class extends uI{constructor(e){super(),this.currentSequenceNumber=e}},tw=class t{constructor(e){this.persistence=e,this.Ai=new ol,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw Q(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=W.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ce.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},Np=class t{constructor(e,n){this.persistence=e,this.gi=new Qr(r=>oq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=t6(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ce.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fp(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var nw=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=fe(),i=fe();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var rw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var iw=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return kM()?8:rq(gn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new rw;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(va()<=de.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",_a(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(va()<=de.DEBUG&&U("QueryEngine","Query:",_a(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(va()<=de.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",_a(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,vr(n))):P.resolve())}ps(e,n){if(YN(n))return P.resolve(null);let r=vr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bI(n,null,"F"),r=vr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=fe(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,bI(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return YN(n)||i.isEqual(ce.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(va()<=de.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_a(n)),this.vs(e,s,n,Xz(i,Zu)).next(a=>a))})}bs(e,n){let r=new pt(oO(e));return n.forEach((i,o)=>{eg(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return va()<=de.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",_a(n)),this.gs.getDocumentsMatchingQuery(e,n,Ho.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Zw="LocalStore",n6=3e8,ow=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new $e(le),this.Ms=new Qr(o=>Gw(o),Ww),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function r6(t,e,n,r){return new ow(t,e,n,r)}async function TO(t,e){let n=oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=fe();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function i6(t,e){let n=oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);Se(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=fe();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function DO(t){let e=oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function o6(t,e){let n=oe(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Lt.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,k){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=n6?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=Yr(),l=fe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(s6(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ce.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function s6(t,e,n){let r=fe(),i=fe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Yr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ce.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):U(Zw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function a6(t,e){let n=oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Bw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function c6(t,e){let n=oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new rl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function sw(t,e,n){let r=oe(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ua(s))throw s;U(Zw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function uP(t,e,n){let r=oe(t),i=ce.min(),o=fe();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=oe(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,vr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ce.min(),n?o:fe())).next(a=>(u6(r,wq(e),a),{documents:a,qs:o})))}function u6(t,e,n){let r=t.xs.get(e)||ce.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Pp=class{constructor(){this.activeTargetIds=Aq()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var aw=class{constructor(){this.Fo=new Pp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Pp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var cw=class{xo(e){}shutdown(){}};var lP="ConnectivityMonitor",Op=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(lP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(lP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hp=null;function uw(){return hp===null?hp=(function(){return 268435456+Math.round(2147483648*Math.random())})():hp++,"0x"+hp.toString(16)}var JE="RestConnection",l6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},lw=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Ip?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=uw(),a=this.Go(e,n.toUriEncodedString());U(JE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=So(l);return this.jo(e,a,u,r,h).then(p=>(U(JE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Pi(JE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Va})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=l6[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var dw=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Ft="WebChannelConnection",hw=class extends lw{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=uw();return new Promise((a,u)=>{let l=new GE;l.setWithCredentials(!0),l.listenOnce(WE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case zu.NO_ERROR:let p=l.getResponseJson();U(Ft,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case zu.TIMEOUT:U(Ft,`RPC '${e}' ${s} timed out`),u(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case zu.HTTP_ERROR:let m=l.getStatus();if(U(Ft,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(k){let Z=k.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(Z)>=0?Z:N.UNKNOWN})(b.status);u(new j(M,b.message))}else u(new j(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new j(N.UNAVAILABLE,"Connection failed."));break;default:Q(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{U(Ft,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);U(Ft,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=uw(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YE(),a=QE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");U(Ft,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,b=new dw({Ho:R=>{y?U(Ft,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(U(Ft,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(Ft,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,k,Z)=>{R.listen(k,X=>{try{Z(X)}catch(Ie){setTimeout(()=>{throw Ie},0)}})};return M(p,ya.EventType.OPEN,()=>{y||(U(Ft,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),M(p,ya.EventType.CLOSE,()=>{y||(y=!0,U(Ft,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),M(p,ya.EventType.ERROR,R=>{y||(y=!0,Pi(Ft,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.__(new j(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,ya.EventType.MESSAGE,R=>{var k;if(!y){let Z=R.data[0];Se(!!Z,16349);let X=Z,Ie=X?.error||((k=X[0])===null||k===void 0?void 0:k.error);if(Ie){U(Ft,`RPC '${e}' stream ${i} received error:`,Ie);let gt=Ie.status,Ae=(function(E){let I=tt[E];if(I!==void 0)return mO(I)})(gt),w=Ie.message;Ae===void 0&&(Ae=N.INTERNAL,w="Unknown error status: "+gt+" with message "+Ie.message),y=!0,b.__(new j(Ae,w)),p.close()}else U(Ft,`RPC '${e}' stream ${i} received:`,Z),b.a_(Z)}}),M(a,KE.STAT_EVENT,R=>{R.stat===up.PROXY?U(Ft,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===up.NOPROXY&&U(Ft,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function XE(){return typeof document<"u"?document:null}function tg(t){return new OI(t,!0)}var xp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var dP="PersistentStream",kp=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new xp(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(Gr(n.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return U(dP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(U(dP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},fw=class extends kp{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=$q(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ce.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ce.min():s.readTime?_r(s.readTime):ce.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=LI(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=wI(u)?{documents:qq(o,u)}:{query:Gq(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yO(o,s.resumeToken);let l=xI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ce.min())>0){a.readTime=Ap(o,s.snapshotVersion.toTimestamp());let l=xI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=Kq(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=LI(this.serializer),n.removeTarget=e,this.k_(n)}},pw=class extends kp{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=zq(e.writeResults,e.commitTime),r=_r(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=LI(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Hq(this.serializer,r))};this.k_(n)}};var gw=class{},mw=class extends gw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,kI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,kI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},yw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Gr(n),this._a=!1):U("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ko="RemoteStore",vw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{Yo(this)&&(U(Ko,"Restarting streams for network reachability change."),await(async function(u){let l=oe(u);l.Ia.add(4),await ll(l),l.Aa.set("Unknown"),l.Ia.delete(4),await ng(l)})(this))})}),this.Aa=new yw(r,i)}};async function ng(t){if(Yo(t))for(let e of t.da)await e(!0)}async function ll(t){for(let e of t.da)await e(!1)}function SO(t,e){let n=oe(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),tC(n)?eC(n):Ba(n).x_()&&Xw(n,e))}function Jw(t,e){let n=oe(t),r=Ba(n);n.Ta.delete(e),r.x_()&&AO(n,e),n.Ta.size===0&&(r.x_()?r.B_():Yo(n)&&n.Aa.set("Unknown"))}function Xw(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ba(t).H_(e)}function AO(t,e){t.Ra.$e(e),Ba(t).Y_(e)}function eC(t){t.Ra=new PI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),Ba(t).start(),t.Aa.aa()}function tC(t){return Yo(t)&&!Ba(t).M_()&&t.Ta.size>0}function Yo(t){return oe(t).Ia.size===0}function RO(t){t.Ra=void 0}async function d6(t){t.Aa.set("Online")}async function h6(t){t.Ta.forEach((e,n)=>{Xw(t,e)})}async function f6(t,e){RO(t),tC(t)?(t.Aa.la(e),eC(t)):t.Aa.set("Unknown")}async function p6(t,e,n){if(t.Aa.set("Online"),e instanceof Dp&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){U(Ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fp(t,r)}else if(e instanceof Ca?t.Ra.Ye(e):e instanceof Tp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ce.min()))try{let r=await DO(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Lt.EMPTY_BYTE_STRING,h.snapshotVersion)),AO(o,u);let p=new rl(h.target,u,l,h.sequenceNumber);Xw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){U(Ko,"Failed to raise snapshot:",r),await Fp(t,r)}}async function Fp(t,e,n){if(!Ua(e))throw e;t.Ia.add(1),await ll(t),t.Aa.set("Offline"),n||(n=()=>DO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U(Ko,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await ng(t)})}function MO(t,e){return e().catch(n=>Fp(t,n,e))}async function rg(t){let e=oe(t),n=xi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Bw;for(;g6(e);)try{let i=await a6(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,m6(e,i)}catch(i){await Fp(e,i)}NO(e)&&PO(e)}function g6(t){return Yo(t)&&t.Pa.length<10}function m6(t,e){t.Pa.push(e);let n=xi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function NO(t){return Yo(t)&&!xi(t).M_()&&t.Pa.length>0}function PO(t){xi(t).start()}async function y6(t){xi(t).na()}async function v6(t){let e=xi(t);for(let n of t.Pa)e.X_(n.mutations)}async function _6(t,e,n){let r=t.Pa.shift(),i=AI.from(r,e,n);await MO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rg(t)}async function E6(t,e){e&&xi(t).Z_&&await(async function(r,i){if((function(s){return kq(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();xi(r).N_(),await MO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rg(r)}})(t,e),NO(t)&&PO(t)}async function hP(t,e){let n=oe(t);n.asyncQueue.verifyOperationInProgress(),U(Ko,"RemoteStore received new credentials");let r=Yo(n);n.Ia.add(3),await ll(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await ng(n)}async function I6(t,e){let n=oe(t);e?(n.Ia.delete(2),await ng(n)):e||(n.Ia.add(2),await ll(n),n.Aa.set("Unknown"))}function Ba(t){return t.Va||(t.Va=(function(n,r,i){let o=oe(n);return o.ia(),new fw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:d6.bind(null,t),e_:h6.bind(null,t),n_:f6.bind(null,t),J_:p6.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),tC(t)?eC(t):t.Aa.set("Unknown")):(await t.Va.stop(),RO(t))})),t.Va}function xi(t){return t.ma||(t.ma=(function(n,r,i){let o=oe(n);return o.ia(),new pw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:y6.bind(null,t),n_:E6.bind(null,t),ea:v6.bind(null,t),ta:_6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await rg(t)):(await t.ma.stop(),t.Pa.length>0&&(U(Ko,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var _w=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nC(t,e){if(Gr("AsyncQueue",`${e}: ${t}`),Ua(t))return new j(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Lp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=qu(),this.sortedSet=new $e(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Vp=class{constructor(){this.fa=new $e(W.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Q(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},ka=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Lp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ew=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},Iw=class{constructor(){this.queries=fP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=oe(n),o=i.queries;i.queries=fP(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function fP(){return new Qr(t=>iO(t),Xp)}async function OO(t,e){let n=oe(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new Ew,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=nC(s,`Initialization of query '${_a(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&rC(n)}async function xO(t,e){let n=oe(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function w6(t,e){let n=oe(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&rC(n)}function C6(t,e,n){let r=oe(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function rC(t){t.Da.forEach(e=>{e.next()})}var ww,pP;(pP=ww||(ww={})).Fa="default",pP.Cache="cache";var jp=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ka(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=ka.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==ww.Cache}};var Up=class{constructor(e){this.key=e}},Bp=class{constructor(e){this.key=e}},Cw=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=fe(),this.mutatedKeys=fe(),this.Xa=oO(e),this.eu=new Lp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Vp,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=eg(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q(20277,{At:R})}};return M(y)-M(b)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new ka(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Vp,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=fe(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new Bp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Up(r))}),n}uu(e){this.Ha=e.qs,this.Za=fe();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return ka.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},iC="SyncEngine",bw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Tw=class{constructor(e){this.key=e,this.lu=!1}},Dw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Qr(a=>iO(a),Xp),this.Tu=new Map,this.Iu=new Set,this.du=new $e(W.comparator),this.Eu=new Map,this.Au=new ol,this.Ru={},this.Vu=new Map,this.mu=il.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function b6(t,e,n=!0){let r=UO(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await kO(r,e,n,!0),i}async function T6(t,e){let n=UO(t);await kO(n,e,!0,!1)}async function kO(t,e,n,r){let i=await c6(t.localStore,vr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await D6(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&SO(t.remoteStore,i),a}async function D6(t,e,n,r,i){t.gu=(p,m,y)=>(async function(M,R,k,Z){let X=R.view.nu(k);X.Ds&&(X=await uP(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,X)));let Ie=Z&&Z.targetChanges.get(R.targetId),gt=Z&&Z.targetMismatches.get(R.targetId)!=null,Ae=R.view.applyChanges(X,M.isPrimaryClient,Ie,gt);return mP(M,R.targetId,Ae._u),Ae.snapshot})(t,p,m,y);let o=await uP(t.localStore,e,!0),s=new Cw(e,o.qs),a=s.nu(o.documents),u=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);mP(t,n,l._u);let h=new bw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function S6(t,e,n){let r=oe(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Xp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await sw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Jw(r.remoteStore,i.targetId),Sw(r,i.targetId)}).catch(ja)):(Sw(r,i.targetId),await sw(r.localStore,i.targetId,!0))}async function A6(t,e){let n=oe(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jw(n.remoteStore,r.targetId))}async function R6(t,e,n){let r=F6(t);try{let i=await(function(s,a){let u=oe(s),l=ot.now(),h=a.reduce((y,b)=>y.add(b.key),fe()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Yr(),M=fe();return u.Os.getEntries(y,h).next(R=>{b=R,b.forEach((k,Z)=>{Z.isValidDocument()||(M=M.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let Z of a){let X=xq(Z,p.get(Z.key).overlayedDocument);X!=null&&k.push(new Ir(Z.key,X,ZP(X.value.mapValue),qr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:aO(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new $e(le)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await dl(r,i.changes),await rg(r.remoteStore)}catch(i){let o=nC(i,"Failed to persist write");n.reject(o)}}async function FO(t,e){let n=oe(t);try{let r=await o6(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Se(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Se(s.lu,14607):i.removedDocuments.size>0&&(Se(s.lu,42227),s.lu=!1))}),await dl(n,r,e)}catch(r){await ja(r)}}function gP(t,e,n){let r=oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=oe(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&rC(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function M6(t,e,n){let r=oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new $e(W.comparator);s=s.insert(o,Kn.newNoDocument(o,ce.min()));let a=fe().add(o),u=new bp(ce.min(),new Map,new $e(le),s,a);await FO(r,u),r.du=r.du.remove(o),r.Eu.delete(e),oC(r)}else await sw(r.localStore,e,!1).then(()=>Sw(r,e,n)).catch(ja)}async function N6(t,e){let n=oe(t),r=e.batch.batchId;try{let i=await i6(n.localStore,e);VO(n,r,null),LO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await dl(n,i)}catch(i){await ja(i)}}async function P6(t,e,n){let r=oe(t);try{let i=await(function(s,a){let u=oe(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Se(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);VO(r,e,n),LO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await dl(r,i)}catch(i){await ja(i)}}function LO(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function VO(t,e,n){let r=oe(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Sw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||jO(t,r)})}function jO(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Jw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),oC(t))}function mP(t,e,n){for(let r of n)r instanceof Up?(t.Au.addReference(r.key,e),O6(t,r)):r instanceof Bp?(U(iC,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||jO(t,r.key)):Q(19791,{yu:r})}function O6(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(U(iC,"New document in limbo: "+n),t.Iu.add(r),oC(t))}function oC(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new W(Fe.fromString(e)),r=t.mu.next();t.Eu.set(r,new Tw(n)),t.du=t.du.insert(n,r),SO(t.remoteStore,new rl(vr(Kw(n.path)),r,"TargetPurposeLimboResolution",Uw.ue))}}async function dl(t,e,n){let r=oe(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=nw.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=oe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ua(p))throw p;U(Zw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function x6(t,e){let n=oe(t);if(!n.currentUser.isEqual(e)){U(iC,"User change. New user:",e.toKey());let r=await TO(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new j(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await dl(n,r.Bs)}}function k6(t,e){let n=oe(t),r=n.Eu.get(e);if(r&&r.lu)return fe().add(r.key);{let i=fe(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function UO(t){let e=oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=FO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=k6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=M6.bind(null,e),e.hu.J_=w6.bind(null,e.eventManager),e.hu.pu=C6.bind(null,e.eventManager),e}function F6(t){let e=oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P6.bind(null,e),e}var BO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=tg(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return r6(this.persistence,new iw,n.initialUser,this.serializer)}Du(n){return new Mp(tw.Vi,this.serializer)}bu(n){return new aw}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),Aw=class extends BO{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Se(this.persistence.referenceDelegate instanceof Np,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new $I(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new Mp(r=>Np.Vi(r,n),this.serializer)}};var L6=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=x6.bind(null,this.syncEngine),await I6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new Iw})()}createDatastore(n){let r=tg(n.databaseInfo.databaseId),i=(function(s){return new hw(s)})(n.databaseInfo);return(function(s,a,u,l){return new mw(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new vw(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>gP(this.syncEngine,r,0),(function(){return Op.C()?new Op:new cw})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new Dw(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=oe(o);U(Ko,"RemoteStore shutting down."),s.Ia.add(5),await ll(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var $p=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var ki="FirestoreClient",Rw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ft.UNAUTHENTICATED,this.clientId=Yu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{U(ki,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U(ki,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=nC(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function eI(t,e){t.asyncQueue.verifyOperationInProgress(),U(ki,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await TO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Pi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Pi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function yP(t,e){t.asyncQueue.verifyOperationInProgress();let n=await V6(t);U(ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hP(e.remoteStore,i)),t._onlineComponents=e}async function V6(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U(ki,"Using user provided OfflineComponentProvider");try{await eI(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Pi("Error using user provided cache. Falling back to memory cache: "+n),await eI(t,new BO)}}else U(ki,"Using default OfflineComponentProvider"),await eI(t,new Aw(void 0));return t._offlineComponents}async function $O(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U(ki,"Using user provided OnlineComponentProvider"),await yP(t,t._uninitializedComponentsProvider._online)):(U(ki,"Using default OnlineComponentProvider"),await yP(t,new L6))),t._onlineComponents}function j6(t){return $O(t).then(e=>e.syncEngine)}async function Mw(t){let e=await $O(t),n=e.eventManager;return n.onListen=b6.bind(null,e.syncEngine),n.onUnlisten=S6.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T6.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=A6.bind(null,e.syncEngine),n}function U6(t,e,n={}){let r=new gr;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new $p({next:m=>{h.Ou(),s.enqueueAndForget(()=>xO(o,p)),m.fromCache&&u.source==="server"?l.reject(new j(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new jp(a,h,{includeMetadataChanges:!0,ka:!0});return OO(o,p)})(await Mw(t),t.asyncQueue,e,n,r)),r.promise}function HO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var vP=new Map;var zO="firestore.googleapis.com",_P=!0,Hp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zO,this.ssl=_P}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_P;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e6)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Jz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Fa=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new tI;switch(r.type){case"firstParty":return new oI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=vP.get(n);r&&(U("ComponentProvider","Removing Datastore"),vP.delete(n),r.terminate())})(this),Promise.resolve()}};function qO(t,e,n,r={}){var i;t=mr(t,Fa);let o=So(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(sE(`https://${u}`),aE("Firestore",!0)),s.host!==zO&&s.host!==u&&Pi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Ao(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ft.MOCK_USER;else{h=MM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ft(m)}t._authCredentials=new nI(new mp(h,p))}}var Qo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ul(n,t._jsonSchema))return new t(e,r||null,new W(Fe.fromString(n.referencePath)))}};bt._jsonSchemaVersion="firestore/documentReference/1.0",bt._jsonSchema={type:it("string",bt._jsonSchemaVersion),referencePath:it("string")};var Ai=class t extends Qo{constructor(e,n,r){super(e,n,Kw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new W(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GO(t,e,...n){if(t=Ct(t),SP("collection","path",e),t instanceof Fa){let r=Fe.fromString(e,...n);return LN(r),new Ai(t,null,r)}{if(!(t instanceof bt||t instanceof Ai))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return LN(r),new Ai(t.firestore,null,r)}}function sC(t,e,...n){if(t=Ct(t),arguments.length===1&&(e=Yu.newId()),SP("doc","path",e),t instanceof Fa){let r=Fe.fromString(e,...n);return FN(r),new bt(t,null,new W(r))}{if(!(t instanceof bt||t instanceof Ai))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return FN(r),new bt(t.firestore,t instanceof Ai?t.converter:null,new W(r))}}var EP="AsyncQueue",zp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new xp(this,"async_queue_retry"),this.oc=()=>{let r=XE();r&&U(EP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=XE();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=XE();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Ua(e))throw e;U(EP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Gr("INTERNAL UNHANDLED ERROR: ",IP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=_w.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&Q(47125,{hc:IP(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function IP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function wP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Zr=class extends Fa{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new zp(e),this._firestoreClient=void 0,await e}}};function WO(t,e){let n=typeof t=="object"?t:pa(),r=typeof t=="string"?t:e||Ip,i=zf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=AM("firestore");o&&qO(i,...o)}return i}function aC(t){if(t._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||B6(t),t._firestoreClient}function B6(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new lI(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Rw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var Ri=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ul(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};Ri._jsonSchemaVersion="firestore/bytes/1.0",Ri._jsonSchema={type:it("string",Ri._jsonSchemaVersion),bytes:it("string")};var La=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var sl=class{constructor(e){this._methodName=e}};var Mi=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(ul(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:it("string",Mi._jsonSchemaVersion),latitude:it("number"),longitude:it("number")};var Ni=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ul(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new j(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:it("string",Ni._jsonSchemaVersion),vectorValues:it("object")};var $6=/^__.*__$/,Nw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wo(e,this.data,n,this.fieldTransforms)}},qp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ir(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function KO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q(40011,{Ec:t})}}var Pw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Wp(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(KO(this.Ec)&&$6.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},Ow=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tg(e)}Dc(e,n,r,i=!1){return new Pw({Ec:e,methodName:n,bc:r,path:yn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cC(t){let e=t._freezeSettings(),n=tg(t._databaseId);return new Ow(t._databaseId,!!e.ignoreUndefinedProperties,n)}function H6(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);uC("Data must be an object, but it was:",s,r);let a=QO(r,s),u,l;if(o.merge)u=new Nn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=xw(e,p,n);if(!s.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZO(h,m)||h.push(m)}u=new Nn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Nw(new mn(a),u,l)}var Gp=class t extends sl{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function z6(t,e,n,r){let i=t.Dc(1,e,n);uC("Data must be an object, but it was:",i,r);let o=[],s=mn.empty();Fi(r,(u,l)=>{let h=lC(e,u,n);l=Ct(l);let p=i.gc(h);if(l instanceof Gp)o.push(h);else{let m=hl(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new Nn(o);return new qp(s,a,i.fieldTransforms)}function q6(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[xw(e,r,n)],u=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(xw(e,o[m])),u.push(o[m+1]);let l=[],h=mn.empty();for(let m=a.length-1;m>=0;--m)if(!ZO(l,a[m])){let y=a[m],b=u[m];b=Ct(b);let M=s.gc(y);if(b instanceof Gp)l.push(y);else{let R=hl(b,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new Nn(l);return new qp(h,p,s.fieldTransforms)}function G6(t,e,n,r=!1){return hl(n,t.Dc(r?4:3,e))}function hl(t,e){if(YO(t=Ct(t)))return uC("Unsupported field value:",e,t),QO(t,e);if(t instanceof sl)return(function(r,i){if(!KO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=hl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=Ct(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Rq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ot.fromDate(r);return{timestampValue:Ap(i.serializer,o)}}if(r instanceof ot){let o=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ap(i.serializer,o)}}if(r instanceof Mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ri)return{bytesValue:yO(i.serializer,r._byteString)};if(r instanceof bt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ni)return(function(s,a){return{mapValue:{fields:{[Hw]:{stringValue:zw},[Da]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Qw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Yp(r)}`)})(t,e)}function QO(t,e){let n={};return HP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fi(t,(r,i)=>{let o=hl(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function YO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof Mi||t instanceof Ri||t instanceof bt||t instanceof sl||t instanceof Ni)}function uC(t,e,n){if(!YO(n)||!AP(n)){let r=Yp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function xw(t,e,n){if((e=Ct(e))instanceof La)return e._internalPath;if(typeof e=="string")return lC(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,n)}var W6=new RegExp("[~\\*/\\[\\]]");function lC(t,e,n){if(e.search(W6)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new La(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Wp(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new j(N.INVALID_ARGUMENT,a+t+u)}function ZO(t,e){return t.some(n=>n.isEqual(e))}var Kp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new kw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(dC("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},kw=class extends Kp{data(){return super.data()}};function dC(t,e){return typeof e=="string"?lC(t,e):e instanceof La?e._internalPath:e._delegate._internalPath}function JO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var al=class{},Fw=class extends al{};function XO(t,e,...n){let r=[];e instanceof al&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof Lw).length,a=o.filter(u=>u instanceof Qp).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var Qp=class t extends Fw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return tx(e._query,n),new Qo(e.firestore,e.converter,CI(e._query,n))}_parse(e){let n=cC(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){bP(p,h);let b=[];for(let M of p)b.push(CP(u,o,M));m={arrayValue:{values:b}}}else m=CP(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||bP(p,h),m=G6(a,s,p,h==="in"||h==="not-in");return rt.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function ex(t,e,n){let r=e,i=dC("where",t);return Qp._create(i,r,n)}var Lw=class t extends al{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Qn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)tx(s,u),s=CI(s,u)})(e._query,n),new Qo(e.firestore,e.converter,CI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function CP(t,e,n){if(typeof(n=Ct(n))=="string"){if(n==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rO(e)&&n.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Fe.fromString(n));if(!W.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zN(t,new W(r))}if(n instanceof bt)return zN(t,n._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function bP(t,e){if(!Array.isArray(t)||t.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tx(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Vw=class{convertValue(e,n="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Fi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Da].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>ke(s.doubleValue));return new Ni(o)}convertGeoPoint(e){return new Mi(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=Jp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Xu(e));default:return null}}convertTimestamp(e){let n=Wr(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Fe.fromString(e);Se(CO(r),9688,{name:e});let i=new wp(r.get(1),r.get(3)),o=new W(r.popFirst(5));return i.isEqual(n)||Gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function K6(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var jo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Uo=class t extends Kp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ba(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(dC("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Uo._jsonSchema={type:it("string",Uo._jsonSchemaVersion),bundleSource:it("string","DocumentSnapshot"),bundleName:it("string"),bundle:it("string")};var ba=class extends Uo{data(e={}){return super.data(e)}},Bo=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ba(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ba(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ba(i._firestore,i._userDataWriter,a.doc.key,a.doc,new jo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Q6(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function Q6(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q(61501,{type:t})}}Bo._jsonSchemaVersion="firestore/querySnapshot/1.0",Bo._jsonSchema={type:it("string",Bo._jsonSchemaVersion),bundleSource:it("string","QuerySnapshot"),bundleName:it("string"),bundle:it("string")};var cl=class extends Vw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ri(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}};function nx(t){t=mr(t,Qo);let e=mr(t.firestore,Zr),n=aC(e),r=new cl(e);return JO(t._query),U6(n,t._query).then(i=>new Bo(e,r,t,i))}function rx(t,e,n,...r){t=mr(t,bt);let i=mr(t.firestore,Zr),o=cC(i),s;return s=typeof(e=Ct(e))=="string"||e instanceof La?q6(o,"updateDoc",t._key,e,n,r):z6(o,"updateDoc",t._key,e),fC(i,[s.toMutation(t._key,qr.exists(!0))])}function ix(t){return fC(mr(t.firestore,Zr),[new tl(t._key,qr.none())])}function ox(t,e){let n=mr(t.firestore,Zr),r=sC(t),i=K6(t.converter,e);return fC(n,[H6(cC(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qr.exists(!1))]).then(()=>r)}function hC(t,...e){var n,r,i;t=Ct(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||wP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(wP(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof bt)l=mr(t.firestore,Zr),h=Kw(t._key.path),u={next:p=>{e[s]&&e[s](Y6(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=mr(t,Qo);l=mr(p.firestore,Zr),h=p._query;let m=new cl(l);u={next:y=>{e[s]&&e[s](new Bo(l,m,p,y))},error:e[s+1],complete:e[s+2]},JO(t._query)}return(function(m,y,b,M){let R=new $p(M),k=new jp(y,R,b);return m.asyncQueue.enqueueAndForget(async()=>OO(await Mw(m),k)),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(async()=>xO(await Mw(m),k))}})(aC(l),h,a,u)}function fC(t,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(async()=>R6(await j6(r),i,o)),o.promise})(aC(t),e)}function Y6(t,e,n){let r=n.docs.get(e._key),i=new cl(t);return new Uo(t,i,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Va=i})(fa),Gn(new zt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Zr(new rI(r.getProvider("auth-internal")),new sI(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),We(PN,ON,e),We(PN,ON,"esm2017")})();var ig=function(){return ig=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ig.apply(this,arguments)};var X6={includeMetadataChanges:!1};function pC(t,e){return e===void 0&&(e=X6),new J(function(n){var r=hC(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function sx(t){return pC(t,{includeMetadataChanges:!0})}function ax(t,e){return e===void 0&&(e={}),sx(t).pipe(H(function(n){return gC(n,e)}))}function gC(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:ig(ig({},r),(n={},n[e.idField]=t.id,n))}function cx(t){return pC(t,{includeMetadataChanges:!0}).pipe(H(function(e){return e.docs}))}function ux(t,e){return e===void 0&&(e={}),cx(t).pipe(H(function(n){return n.map(function(r){return gC(r,e)})}))}var Zo=class{constructor(e){return e}},lx="firestore",mC=class{constructor(){return ma(lx)}};var yC=new V("angularfire2.firestore-instances");function eG(t,e){let n=Wf(lx,t,e);return n&&new Zo(n)}function tG(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zo(r)}}var nG={provide:mC,deps:[[new ir,yC]]},rG={provide:Zo,useFactory:eG,deps:[[new ir,yC],Oo]};function dx(t,...e){return We("angularfire",No.full,"fst"),ut([rG,nG,{provide:yC,useFactory:tG(t),multi:!0,deps:[Ee,Ue,Po,Lu,[new ir,ap],[new ir,Qf],...e]}])}var hx=kt(ux,!0);var fx=kt(ax,!0);var px=kt(ox,!0,2);var gx=kt(GO,!0,2);var mx=kt(ix,!0,2);var og=kt(sC,!0,2);var yx=kt(nx,!0);var vx=kt(WO,!0);var _x=kt(XO,!0,2);var Ex=kt(rx,!0,2);var Ix=kt(ex,!0,2);var $a=class t{firestore=S(Zo);usersCollection=gx(this.firestore,"utenti");getAll(){return hx(this.usersCollection,{idField:"id"})}getById(e){let n=og(this.firestore,`utenti/${e}`);return fx(n,{idField:"id"})}getByCodiceFiscale(e){let n=_x(this.usersCollection,Ix("codiceFiscale","==",e.toUpperCase()));return Re(yx(n)).pipe(H(r=>{if(r.empty)return null;let i=r.docs[0],o=i.data();return ee(O({id:i.id},o),{dataDiNascita:o.dataDiNascita?o.dataDiNascita.toDate():null})}))}create(e){let n=ee(O({},e),{codiceFiscale:e.codiceFiscale.toUpperCase()});return Re(px(this.usersCollection,n)).pipe(H(r=>r.id))}update(e,n){let r=og(this.firestore,`utenti/${e}`),i=n.codiceFiscale?ee(O({},n),{codiceFiscale:n.codiceFiscale.toUpperCase()}):n;return Re(Ex(r,i))}delete(e){let n=og(this.firestore,`utenti/${e}`);return Re(mx(n))}checkCodiceFiscaleExists(e){return this.getByCodiceFiscale(e).pipe(H(n=>n!==null))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};var wr=class t{userService=S($a);router=S(Xt);platformId=S(Fr);currentUserSignal=we(null);currentUser=this.currentUserSignal.asReadonly();STORAGE_KEY="currentUser";isBrowser;constructor(){this.isBrowser=KA(this.platformId),this.isBrowser&&this.loadUserFromStorage()}login(e,n,r){return this.userService.getByCodiceFiscale(r).pipe(H(i=>i?i.nome.toLowerCase()!==e.toLowerCase()||i.cognome.toLowerCase()!==n.toLowerCase()?{success:!1,message:"Nome o cognome non corrispondono al codice fiscale."}:(this.setCurrentUser(i),{success:!0,user:i}):{success:!1,message:"Utente non trovato. Registrati per continuare."}),Wt(i=>(console.error("Errore durante il login:",i),q({success:!1,message:"Errore durante il login. Riprova."}))))}loginByCodiceFiscale(e){return this.userService.getByCodiceFiscale(e).pipe(H(n=>n?(this.setCurrentUser(n),{success:!0,user:n}):{success:!1,message:"Utente non trovato. Registrati per continuare."}),Wt(n=>(console.error("Errore durante il login:",n),q({success:!1,message:"Errore durante il login. Riprova."}))))}register(e){return this.userService.checkCodiceFiscaleExists(e.codiceFiscale).pipe(H(n=>{if(n)throw new Error("Codice fiscale gi\xE0 registrato. Usa il login per accedere.");return n}),He(()=>{}),H(()=>(this.userService.create(e).subscribe({next:n=>{let r=ee(O({},e),{id:n});this.setCurrentUser(r)},error:n=>{console.error("Errore durante la registrazione:",n)}}),{success:!0})),Wt(n=>(console.error("Errore durante la registrazione:",n),q({success:!1,message:n.message||"Errore durante la registrazione. Riprova."}))))}logout(){this.currentUserSignal.set(null),this.isBrowser&&localStorage.removeItem(this.STORAGE_KEY),this.router.navigate(["/login"])}isAuthenticated(){return this.currentUserSignal()!==null}setCurrentUser(e){this.currentUserSignal.set(e),this.isBrowser&&localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadUserFromStorage(){if(!this.isBrowser)return;let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{let n=JSON.parse(e);this.currentUserSignal.set(n)}catch(n){console.error("Errore nel parsing dell'utente salvato:",n),localStorage.removeItem(this.STORAGE_KEY)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=$({token:t,factory:t.\u0275fac,providedIn:"root"})};function iG(t,e){if(t&1){let n=Zt();F(0,"div",8),re(1,"i",12),Y(2),F(3,"button",13),Le("click",function(){Pt(n);let i=ge();return Ot(i.successMessage.set(null))}),B()()}if(t&2){let n=ge();G(2),xt(" ",n.successMessage()," ")}}function oG(t,e){if(t&1){let n=Zt();F(0,"div",9),re(1,"i",14),Y(2),F(3,"button",13),Le("click",function(){Pt(n);let i=ge();return Ot(i.errorMessage.set(null))}),B()()}if(t&2){let n=ge();G(2),xt(" ",n.errorMessage()," ")}}function sG(t,e){if(t&1){let n=Zt();F(0,"input",37),Hn("ngModelChange",function(i){Pt(n);let o=ge(2);return cr(o.editData().nome,i)||(o.editData().nome=i),Ot(i)}),B()}if(t&2){let n=ge(2);$n("ngModel",n.editData().nome)}}function aG(t,e){if(t&1&&(F(0,"div",28),Y(1),B()),t&2){let n=ge();G(),Bn(n.nome)}}function cG(t,e){if(t&1){let n=Zt();F(0,"input",38),Hn("ngModelChange",function(i){Pt(n);let o=ge(2);return cr(o.editData().cognome,i)||(o.editData().cognome=i),Ot(i)}),B()}if(t&2){let n=ge(2);$n("ngModel",n.editData().cognome)}}function uG(t,e){if(t&1&&(F(0,"div",28),Y(1),B()),t&2){let n=ge();G(),Bn(n.cognome)}}function lG(t,e){if(t&1){let n=Zt();F(0,"input",39),Hn("ngModelChange",function(i){Pt(n);let o=ge(2);return cr(o.editData().email,i)||(o.editData().email=i),Ot(i)}),B()}if(t&2){let n=ge(2);$n("ngModel",n.editData().email)}}function dG(t,e){if(t&1&&(F(0,"div",28),Y(1),B()),t&2){let n=ge();G(),Bn(n.email||"Non impostato")}}function hG(t,e){if(t&1){let n=Zt();F(0,"input",40),Le("change",function(i){Pt(n);let o=ge(2);return Ot(o.onDateChange(i))}),B()}if(t&2){let n=ge(2);$t("value",n.getDateInputValue(n.editData().dataDiNascita??null))}}function fG(t,e){if(t&1&&(F(0,"div",28),Y(1),B()),t&2){let n=ge(),r=ge();G(),Bn(r.formatDate(n.dataDiNascita))}}function pG(t,e){if(t&1){let n=Zt();F(0,"input",41),Hn("ngModelChange",function(i){Pt(n);let o=ge(2);return cr(o.editData().annoConseguimentoPatente,i)||(o.editData().annoConseguimentoPatente=i),Ot(i)}),B()}if(t&2){let n=ge(2);$n("ngModel",n.editData().annoConseguimentoPatente),$t("min",1950)("max",n.currentYear)}}function gG(t,e){if(t&1&&(F(0,"div",28),Y(1),B()),t&2){let n=ge();G(),Bn(n.annoConseguimentoPatente||"Non impostato")}}function mG(t,e){t&1&&(re(0,"span",43),F(1,"span"),Y(2,"Salvataggio..."),B())}function yG(t,e){t&1&&(re(0,"i",44),F(1,"span"),Y(2,"Salva Modifiche"),B())}function vG(t,e){if(t&1&&(F(0,"div",36)(1,"button",42),Xe(2,mG,3,0)(3,yG,3,0),B()()),t&2){let n=ge(2);G(),$t("disabled",n.isSaving()),G(),et(n.isSaving()?2:3)}}function _G(t,e){if(t&1){let n=Zt();F(0,"div",10)(1,"div",15)(2,"div",16),re(3,"i",17),B(),F(4,"div",18)(5,"h2"),Y(6),B(),F(7,"p",19),re(8,"i",20),Y(9),B()()(),F(10,"form",21),Le("ngSubmit",function(){Pt(n);let i=ge();return Ot(i.saveChanges())}),F(11,"div",22)(12,"div",23)(13,"div",24)(14,"label",25),re(15,"i",26),Y(16,"Nome "),B(),Xe(17,sG,1,1,"input",27)(18,aG,2,1,"div",28),B()(),F(19,"div",23)(20,"div",24)(21,"label",25),re(22,"i",26),Y(23,"Cognome "),B(),Xe(24,cG,1,1,"input",29)(25,uG,2,1,"div",28),B()(),F(26,"div",23)(27,"div",24)(28,"label",25),re(29,"i",30),Y(30,"Email "),B(),Xe(31,lG,1,1,"input",31)(32,dG,2,1,"div",28),B()(),F(33,"div",23)(34,"div",24)(35,"label",25),re(36,"i",32),Y(37,"Data di Nascita "),B(),Xe(38,hG,1,1,"input",33)(39,fG,2,1,"div",28),B()(),F(40,"div",23)(41,"div",24)(42,"label",25),re(43,"i",34),Y(44,"Anno Conseguimento Patente "),B(),Xe(45,pG,1,3,"input",35)(46,gG,2,1,"div",28),B()()(),Xe(47,vG,4,2,"div",36),B()()}if(t&2){let n=e,r=ge();G(6),Fh("",n.nome," ",n.cognome),G(3),xt(" ",n.codiceFiscale," "),G(8),et(r.isEditMode()?17:18),G(7),et(r.isEditMode()?24:25),G(7),et(r.isEditMode()?31:32),G(7),et(r.isEditMode()?38:39),G(7),et(r.isEditMode()?45:46),G(2),et(r.isEditMode()?47:-1)}}var sg=class t{authService=S(wr);userService=S($a);currentUser=this.authService.currentUser;isEditMode=we(!1);isSaving=we(!1);successMessage=we(null);errorMessage=we(null);editData=we({});currentYear=new Date().getFullYear();ngOnInit(){let e=this.currentUser();e&&this.editData.set(O({},e))}toggleEditMode(){if(this.isEditMode()){let e=this.currentUser();e&&this.editData.set(O({},e))}this.isEditMode.update(e=>!e),this.clearMessages()}saveChanges(){let e=this.currentUser();if(!e)return;this.clearMessages(),this.isSaving.set(!0);let n=this.editData(),r={nome:n.nome?.toUpperCase(),cognome:n.cognome?.toUpperCase(),email:n.email||null,dataDiNascita:n.dataDiNascita||null,annoConseguimentoPatente:n.annoConseguimentoPatente||null};this.userService.update(e.id,r).subscribe({next:()=>{this.isSaving.set(!1),this.isEditMode.set(!1),this.successMessage.set("Dati aggiornati con successo!");let i=O(O({},e),r);this.authService.setCurrentUser(i),setTimeout(()=>this.successMessage.set(null),3e3)},error:i=>{this.isSaving.set(!1),this.errorMessage.set("Errore durante il salvataggio. Riprova."),console.error("Errore salvataggio:",i)}})}clearMessages(){this.successMessage.set(null),this.errorMessage.set(null)}formatDate(e){if(!e)return"Non impostato";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("it-IT")}catch{return"Non impostato"}}getDateInputValue(e){if(!e)return"";try{return(e.toDate?e.toDate():new Date(e)).toISOString().split("T")[0]}catch{return""}}onDateChange(e){let r=e.target.value;this.editData.update(i=>ee(O({},i),{dataDiNascita:r?new Date(r):null}))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-homepage"]],decls:18,vars:23,consts:[[1,"homepage-container"],[1,"container"],[1,"page-header"],[1,"page-title"],[1,"bi","bi-person-circle","me-2"],[1,"page-subtitle"],[1,"btn","btn-edit-desktop",3,"click","disabled"],[1,"me-2"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"profile-card"],[1,"btn","btn-edit-mobile",3,"click","disabled"],[1,"bi","bi-check-circle-fill","me-2"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-exclamation-circle-fill","me-2"],[1,"profile-header"],[1,"avatar"],[1,"bi","bi-person-fill"],[1,"user-info"],[1,"cf-badge"],[1,"bi","bi-credit-card","me-1"],[1,"profile-body",3,"ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"info-item"],[1,"info-label"],[1,"bi","bi-person-fill","me-2"],["type","text","name","nome","required","",1,"form-control","text-uppercase",3,"ngModel"],[1,"info-value"],["type","text","name","cognome","required","",1,"form-control","text-uppercase",3,"ngModel"],[1,"bi","bi-envelope-fill","me-2"],["type","email","name","email","placeholder","Inserisci email",1,"form-control",3,"ngModel"],[1,"bi","bi-calendar-fill","me-2"],["type","date","name","dataDiNascita",1,"form-control",3,"value"],[1,"bi","bi-card-heading","me-2"],["type","number","name","annoPatente","placeholder","Es. 2010",1,"form-control",3,"ngModel","min","max"],[1,"action-buttons"],["type","text","name","nome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["type","text","name","cognome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["type","email","name","email","placeholder","Inserisci email",1,"form-control",3,"ngModelChange","ngModel"],["type","date","name","dataDiNascita",1,"form-control",3,"change","value"],["type","number","name","annoPatente","placeholder","Es. 2010",1,"form-control",3,"ngModelChange","ngModel","min","max"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-check-lg","me-2"]],template:function(n,r){if(n&1&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),re(5,"i",4),Y(6," Profilo Utente "),B(),F(7,"p",5),Y(8,"Visualizza e modifica i tuoi dati personali"),B()(),F(9,"button",6),Le("click",function(){return r.toggleEditMode()}),re(10,"i",7),Y(11),B()(),Xe(12,iG,4,1,"div",8),Xe(13,oG,4,1,"div",9),Xe(14,_G,48,9,"div",10),F(15,"button",11),Le("click",function(){return r.toggleEditMode()}),re(16,"i",7),Y(17),B()()()),n&2){let i;G(9),Jt("btn-primary",!r.isEditMode())("btn-secondary",r.isEditMode()),$t("disabled",r.isSaving()),G(),Jt("bi-pencil-fill",!r.isEditMode())("bi-x-lg",r.isEditMode()),G(),xt(" ",r.isEditMode()?"Annulla":"Modifica"," "),G(),et(r.successMessage()?12:-1),G(),et(r.errorMessage()?13:-1),G(),et((i=r.currentUser())?14:-1,i),G(),Jt("btn-primary",!r.isEditMode())("btn-secondary",r.isEditMode()),$t("disabled",r.isSaving()),G(),Jt("bi-pencil-fill",!r.isEditMode())("bi-x-lg",r.isEditMode()),G(),xt(" ",r.isEditMode()?"Annulla":"Modifica"," ")}},dependencies:[Vf,Ff,da,Z_,Of,xf,Nu,X_,J_,Mu,Ru,An],styles:[".homepage-container[_ngcontent-%COMP%]{padding:2rem 0}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#1e293b;margin:0;display:flex;align-items:center}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#64748b;margin:.5rem 0 0}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:10px;padding:.75rem 1.5rem;font-weight:600;transition:all .3s ease}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.homepage-container[_ngcontent-%COMP%]   .btn-edit-mobile[_ngcontent-%COMP%]{display:none}.homepage-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:10px;border:none;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{background:#fff;border-radius:20px;box-shadow:0 4px 20px #00000014;overflow:hidden;animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem;display:flex;align-items:center;gap:1.5rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:80px;height:80px;background:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 4px 15px #0003}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:3rem;color:#667eea}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{color:#fff}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.1)}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .cf-badge[_ngcontent-%COMP%]{display:inline-block;background:#fff3;padding:.375rem .75rem;border-radius:20px;font-size:.875rem;font-weight:600;margin-top:.5rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]{padding:2rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:1.5rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.875rem;font-weight:600;color:#64748b;margin-bottom:.5rem;text-transform:uppercase;letter-spacing:.5px}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#667eea}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%]{background:#f8fafc;border:2px solid #e2e8f0;border-radius:10px;padding:.875rem 1rem;font-size:1rem;font-weight:500;color:#1e293b;min-height:48px;display:flex;align-items:center}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:10px;padding:.875rem 1rem;font-size:1rem;transition:all .3s ease}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .form-control.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:2rem;padding-top:2rem;border-top:2px solid #e2e8f0;display:flex;justify-content:flex-end}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:10px;padding:.875rem 2rem;font-weight:600;font-size:1rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #00000026}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.homepage-container[_ngcontent-%COMP%]{padding:1rem 0}.homepage-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{display:none}.homepage-container[_ngcontent-%COMP%]   .btn-edit-mobile[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:center;align-items:center;margin-top:1rem;border-radius:10px;padding:.875rem 1.5rem;font-weight:600;font-size:1rem;transition:all .3s ease}.homepage-container[_ngcontent-%COMP%]   .btn-edit-mobile[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]{border-radius:15px}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]{padding:1.5rem;flex-direction:column;text-align:center}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:70px;height:70px}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2.5rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.25rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-header[_ngcontent-%COMP%]   .cf-badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.25rem .625rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]{padding:1.5rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]{margin-bottom:1.25rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-label[_ngcontent-%COMP%]{font-size:.8rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .info-value[_ngcontent-%COMP%], .homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .info-item[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{font-size:.95rem;padding:.75rem .875rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:1.5rem;padding-top:1.5rem}.homepage-container[_ngcontent-%COMP%]   .profile-card[_ngcontent-%COMP%]   .profile-body[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;padding:1rem}}"]})};var ag=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-elenco-auto"]],decls:2,vars:0,template:function(n,r){n&1&&(Gs(0,"p"),Y(1,"elenco-auto works!"),Ws())},encapsulation:2})};var cg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-nuova-auto"]],decls:2,vars:0,template:function(n,r){n&1&&(Gs(0,"p"),Y(1,"nuova-auto works!"),Ws())},encapsulation:2})};function EG(t,e){if(t&1){let n=Zt();F(0,"div",8),re(1,"i",20),Y(2),F(3,"button",21),Le("click",function(){Pt(n);let i=ge();return Ot(i.errorMessage.set(null))}),B()()}if(t&2){let n=ge();G(2),xt(" ",n.errorMessage()," ")}}function IG(t,e){if(t&1){let n=Zt();F(0,"div",9),re(1,"i",22),Y(2),F(3,"button",21),Le("click",function(){Pt(n);let i=ge();return Ot(i.successMessage.set(null))}),B()()}if(t&2){let n=ge();G(2),xt(" ",n.successMessage()," ")}}function wG(t,e){if(t&1){let n=Zt();F(0,"div",11)(1,"div",12)(2,"input",23),Hn("ngModelChange",function(i){Pt(n);let o=ge();return cr(o.nome,i)||(o.nome=i),Ot(i)}),B(),F(3,"label",24),re(4,"i",25),Y(5,"Nome "),B()(),F(6,"div",12)(7,"input",26),Hn("ngModelChange",function(i){Pt(n);let o=ge();return cr(o.cognome,i)||(o.cognome=i),Ot(i)}),B(),F(8,"label",27),re(9,"i",25),Y(10,"Cognome "),B()()()}if(t&2){let n=ge();G(2),$n("ngModel",n.nome),G(5),$n("ngModel",n.cognome)}}function CG(t,e){if(t&1&&(re(0,"span",28),Y(1)),t&2){let n=ge();G(),xt(" ",n.isRegisterMode()?"Registrazione...":"Accesso..."," ")}}function bG(t,e){if(t&1&&(re(0,"i",29),Y(1)),t&2){let n=ge();Jt("bi-box-arrow-in-right",!n.isRegisterMode())("bi-person-plus-fill",n.isRegisterMode()),G(),xt(" ",n.isRegisterMode()?"Registrati":"Accedi"," ")}}var ug=class t{authService=S(wr);router=S(Xt);isRegisterMode=we(!1);isLoading=we(!1);errorMessage=we(null);successMessage=we(null);currentYear=new Date().getFullYear();nome="";cognome="";codiceFiscale="";toggleMode(){this.isRegisterMode.update(e=>!e),this.clearMessages(),this.nome="",this.cognome="",this.codiceFiscale=""}onSubmit(){if(this.clearMessages(),!this.codiceFiscale.trim()){this.errorMessage.set("Inserisci il codice fiscale.");return}if(this.codiceFiscale.length!==16){this.errorMessage.set("Il codice fiscale deve essere di 16 caratteri.");return}if(this.isRegisterMode()&&(!this.nome.trim()||!this.cognome.trim())){this.errorMessage.set("Inserisci nome e cognome.");return}this.isLoading.set(!0),this.isRegisterMode()?this.handleRegister():this.handleLogin()}handleLogin(){this.authService.loginByCodiceFiscale(this.codiceFiscale.toUpperCase()).subscribe({next:e=>{this.isLoading.set(!1),e.success?(this.successMessage.set("Login effettuato con successo!"),setTimeout(()=>{this.router.navigate(["/"])},500)):this.errorMessage.set(e.message||"Errore durante il login.")},error:e=>{this.isLoading.set(!1),this.errorMessage.set("Errore durante il login. Riprova."),console.error("Errore login:",e)}})}handleRegister(){let e={nome:this.nome.trim().toUpperCase(),cognome:this.cognome.trim().toUpperCase(),codiceFiscale:this.codiceFiscale.trim().toUpperCase(),email:null,dataDiNascita:null,annoConseguimentoPatente:null};this.authService.register(e).subscribe({next:n=>{this.isLoading.set(!1),n.success?(this.successMessage.set("Registrazione completata! Accesso in corso..."),setTimeout(()=>{this.router.navigate(["/"])},1e3)):this.errorMessage.set(n.message||"Errore durante la registrazione.")},error:n=>{this.isLoading.set(!1),this.errorMessage.set("Errore durante la registrazione. Riprova."),console.error("Errore registrazione:",n)}})}clearMessages(){this.errorMessage.set(null),this.successMessage.set(null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-login"]],decls:27,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"card-header"],[1,"logo"],[1,"bi","bi-car-front-fill"],[1,"title"],[1,"subtitle"],[1,"card-body"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[3,"ngSubmit"],[1,"register-fields"],[1,"form-floating","mb-3"],["type","text","id","codiceFiscale","placeholder","Codice Fiscale","name","codiceFiscale","maxlength","16","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","codiceFiscale"],[1,"bi","bi-credit-card-fill","me-2"],["type","submit",1,"btn","btn-primary","btn-lg","w-100","mb-3",3,"disabled"],[1,"text-center"],[1,"toggle-text"],["type","button",1,"btn","btn-link",3,"click","disabled"],[1,"bi","bi-exclamation-circle-fill","me-2"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-check-circle-fill","me-2"],["type","text","id","nome","placeholder","Nome","name","nome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","nome"],[1,"bi","bi-person-fill","me-2"],["type","text","id","cognome","placeholder","Cognome","name","cognome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","cognome"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2"]],template:function(n,r){n&1&&(F(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),re(4,"i",4),B(),F(5,"h2",5),Y(6),B(),F(7,"p",6),Y(8),B()(),F(9,"div",7),Xe(10,EG,4,1,"div",8),Xe(11,IG,4,1,"div",9),F(12,"form",10),Le("ngSubmit",function(){return r.onSubmit()}),Xe(13,wG,11,2,"div",11),F(14,"div",12)(15,"input",13),Hn("ngModelChange",function(o){return cr(r.codiceFiscale,o)||(r.codiceFiscale=o),o}),B(),F(16,"label",14),re(17,"i",15),Y(18,"Codice Fiscale "),B()(),F(19,"button",16),Xe(20,CG,2,1)(21,bG,2,5),B()(),F(22,"div",17)(23,"p",18),Y(24),F(25,"button",19),Le("click",function(){return r.toggleMode()}),Y(26),B()()()()()()),n&2&&(G(6),Bn(r.isRegisterMode()?"Registrati":"Benvenuto"),G(2),Bn(r.isRegisterMode()?"Crea il tuo account":"Accedi al tuo account"),G(2),et(r.errorMessage()?10:-1),G(),et(r.successMessage()?11:-1),G(2),et(r.isRegisterMode()?13:-1),G(2),$n("ngModel",r.codiceFiscale),G(4),$t("disabled",r.isLoading()),G(),et(r.isLoading()?20:21),G(4),xt(" ",r.isRegisterMode()?"Hai gi\xE0 un account?":"Non hai un account?"," "),G(),$t("disabled",r.isLoading()),G(),xt(" ",r.isRegisterMode()?"Accedi":"Registrati"," "))},dependencies:[Vf,Ff,da,Of,xf,Nu,eE,Mu,Ru,An],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem 1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:3rem 2rem 2rem;text-align:center}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;letter-spacing:-.5px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin:0}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin-bottom:1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:10px;padding:1.5rem .75rem .5rem;height:auto;min-height:58px;font-size:1rem;line-height:1.5;transition:all .3s ease;text-transform:uppercase}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{transform:scale(.85) translateY(-.75rem) translate(.15rem)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:1rem .75rem;color:#64748b;transform-origin:0 0;transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-fields[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:10px;padding:1rem;font-weight:600;font-size:1.1rem;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#64748b;margin:0}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;padding:0 .25rem;transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover:not(:disabled){color:#764ba2;text-decoration:underline}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:10px;border:none;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#51cf66,#40c057);color:#fff}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@media (max-width: 576px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:2rem 1.5rem 1.5rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:3rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}}"]})};var lg=(t,e)=>{let n=S(wr),r=S(Xt);return n.isAuthenticated()?!0:r.createUrlTree(["/login"])};var wx=[{path:"login",component:ug},{path:"",component:sg,canActivate:[lg]},{path:"elenco-auto",component:ag,canActivate:[lg]},{path:"nuova-auto",component:cg,canActivate:[lg]},{path:"**",redirectTo:"login"}];var vC="Service workers are disabled or not supported by this browser",Ha=class{serviceWorker;worker;registration;events;constructor(e,n){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new J(r=>r.error(new L(5601,!1)));else{let r=null,i=new Oe;this.worker=new J(l=>(r!==null&&l.next(r),i.subscribe(h=>l.next(h))));let o=()=>{let{controller:l}=e;l!==null&&(r=l,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(st(()=>e.getRegistration().then(l=>{if(!l)throw new L(5601,!1);return l})));let s=new Oe;this.events=s.asObservable();let a=l=>{let{data:h}=l;h?.type&&s.next(h)};e.addEventListener("message",a),n?.get(dt,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,n){return new Promise(r=>{this.worker.pipe(Ut(1)).subscribe(i=>{i.postMessage(O({action:e},n)),r()})})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(Ye(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ut(1))}waitForOperationCompleted(e){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(Ye(i=>i.nonce===e),Ut(1),H(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},TG=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Oe;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=Sr,this.notificationClicks=Sr,this.notificationCloses=Sr,this.pushSubscriptionChanges=Sr,this.subscription=Sr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(H(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(H(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(H(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(H(i=>i.data)),this.pushManager=this.sw.registration.pipe(H(i=>i.pushManager));let r=this.pushManager.pipe(st(i=>i.getSubscription()));this.subscription=new J(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(vC));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(st(u=>u.subscribe(r)),Ut(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),s(u)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(vC));let n=r=>{if(r===null)throw new L(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new L(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ut(1),st(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||t)(ne(Ha))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})(),DG=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=Sr,this.unrecoverable=Sr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(vC));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new L(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||t)(ne(Ha))};static \u0275prov=$({token:t,factory:t.\u0275fac})}return t})();var bx=new V("");function SG(){let t=S(fl);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let e=S(bx),n=S(Ee),r=S(dt);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=t;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=Cx(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),Cx(+a[0])]);break;default:throw new L(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(s=>console.error(Jn(5604,!1)))})})}function Cx(t){return new Promise(e=>setTimeout(e,t))}function AG(t,e){return new Ha(t.enabled!==!1?navigator.serviceWorker:void 0,e)}var fl=class{enabled;updateViaCache;type;scope;registrationStrategy};function Tx(t,e={}){return ut([TG,DG,{provide:bx,useValue:t},{provide:fl,useValue:e},{provide:Ha,useFactory:AG,deps:[fl,Ue]},kh(SG)])}var Dx={production:!0,firebase:{apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}};var Sx={providers:[ay(),Gv(),H_(wx),aR(sR()),Tx("ngsw-worker.js",{enabled:!Qc(),registrationStrategy:"registerWhenStable:30000"}),tN(()=>nN(Dx.firebase)),dx(()=>vx())]};var RG=()=>({exact:!0}),dg=class t{authService=S(wr);isMobileMenuOpen=we(!1);toggleMobileMenu(){this.isMobileMenuOpen.update(e=>!e)}closeMobileMenu(){this.isMobileMenuOpen.set(!1)}logout(){this.closeMobileMenu(),this.authService.logout()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-header"]],decls:32,vars:2,consts:[[1,"mobile-navbar","d-lg-none"],[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","py-3"],[1,"app-title","mb-0"],[1,"bi","bi-car-front-fill","me-2"],["type","button",1,"btn","btn-link","logout-btn-mobile",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"sidebar","d-none","d-lg-flex"],[1,"sidebar-header"],[1,"app-title"],[1,"bi","bi-car-front-fill"],[1,"ms-2"],[1,"sidebar-nav"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"ms-3"],["routerLink","/elenco-auto","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-card-list"],["routerLink","/nuova-auto","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-plus-circle-fill"],[1,"sidebar-footer"],["type","button",1,"logout-btn",3,"click"]],template:function(n,r){n&1&&(F(0,"nav",0)(1,"div",1)(2,"div",2)(3,"h1",3),re(4,"i",4),Y(5," Car Handler "),B(),F(6,"button",5),Le("click",function(){return r.logout()}),re(7,"i",6),B()()()(),F(8,"aside",7)(9,"div",8)(10,"h1",9),re(11,"i",10),F(12,"span",11),Y(13,"Car Handler"),B()()(),F(14,"nav",12)(15,"a",13),re(16,"i",14),F(17,"span",15),Y(18,"Homepage"),B()(),F(19,"a",16),re(20,"i",17),F(21,"span",15),Y(22,"Elenco Auto"),B()(),F(23,"a",18),re(24,"i",19),F(25,"span",15),Y(26,"Nuova Auto"),B()()(),F(27,"div",20)(28,"button",21),Le("click",function(){return r.logout()}),re(29,"i",6),F(30,"span",11),Y(31,"Logout"),B()()()()),n&2&&(G(15),$t("routerLinkActiveOptions",Wc(1,RG)))},dependencies:[Ci,wu,An],styles:['.mobile-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 2px 10px #0000001a;z-index:1030}.mobile-navbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;letter-spacing:-.5px}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%], .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;padding:0;border:none;transition:transform .3s ease}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover, .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background:linear-gradient(180deg,#667eea,#764ba2);box-shadow:2px 0 15px #0000001a;flex-direction:column;z-index:1000;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;display:flex;align-items:center;letter-spacing:-.5px;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1.5rem 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.5rem;color:#fffc;font-weight:500;text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);border-left:3px solid transparent;position:relative;overflow:hidden}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:0;height:100%;background:#ffffff1a;transition:width .3s ease;z-index:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff0d;transform:translate(5px)}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{width:100%}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg)}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff26;border-left-color:#fff;font-weight:600;box-shadow:inset 0 0 15px #0000001a}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;right:1rem;top:50%;transform:translateY(-50%);width:8px;height:8px;background:#fff;border-radius:50%;box-shadow:0 0 10px #ffffff80}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;padding:.875rem 1rem;background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000001a}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}']})};var MG=()=>({exact:!0}),hg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-footer"]],decls:13,vars:2,consts:[[1,"bottom-nav","d-lg-none"],["routerLink","/","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-label"],["routerLink","/elenco-auto","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-card-list"],["routerLink","/nuova-auto","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-plus-circle-fill"]],template:function(n,r){n&1&&(F(0,"nav",0)(1,"a",1),re(2,"i",2),F(3,"span",3),Y(4,"Home"),B()(),F(5,"a",4),re(6,"i",5),F(7,"span",3),Y(8,"Elenco"),B()(),F(9,"a",6),re(10,"i",7),F(11,"span",3),Y(12,"Nuova"),B()()()),n&2&&(G(),$t("routerLinkActiveOptions",Wc(1,MG)))},dependencies:[Ci,wu,An],styles:['.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;height:65px;background:#fff;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:space-around;align-items:center;z-index:1000;padding:.5rem 0}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;text-decoration:none;color:#94a3b8;transition:all .3s ease;padding:.5rem;position:relative}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem;transition:all .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;transition:all .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%) scaleX(0);width:40px;height:3px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:0 0 3px 3px;transition:transform .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#667eea}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:before{transform:translate(-50%) scaleX(1)}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translateY(-2px) scale(1.1)}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:600}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 991.98px){[_nghost-%COMP%]{display:block}}']})};function NG(t,e){t&1&&re(0,"app-header")}function PG(t,e){t&1&&re(0,"app-footer")}var fg=class t{router=S(Xt);title=we("car-handler-pwa");isLoginPage=we(!1);constructor(){this.checkRoute(this.router.url),this.router.events.pipe(Ye(e=>e instanceof pn)).subscribe(e=>{this.checkRoute(e.url)})}checkRoute(e){this.isLoginPage.set(e.includes("/login"))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=It({type:t,selectors:[["app-root"]],decls:4,vars:4,template:function(n,r){n&1&&(Xe(0,NG,1,0,"app-header"),F(1,"main"),re(2,"router-outlet"),B(),Xe(3,PG,1,0,"app-footer")),n&2&&(et(r.isLoginPage()?-1:0),G(),Jt("login-main",r.isLoginPage()),G(2),et(r.isLoginPage()?-1:3))},dependencies:[_u,dg,hg,An],styles:["main[_ngcontent-%COMP%]{padding:2rem 0}@media (min-width: 992px){main[_ngcontent-%COMP%]{margin-left:280px;min-height:100vh}}@media (max-width: 991.98px){main[_ngcontent-%COMP%]{margin-top:70px;margin-bottom:65px;min-height:calc(100vh - 135px)}}main.login-main[_ngcontent-%COMP%]{margin:0;padding:0;min-height:100vh}"]})};m_(fg,Sx).catch(t=>console.error(t));
