var Xx=Object.defineProperty,ek=Object.defineProperties;var tk=Object.getOwnPropertyDescriptors;var Cl=Object.getOwnPropertySymbols;var lb=Object.prototype.hasOwnProperty,db=Object.prototype.propertyIsEnumerable;var ub=(t,e,n)=>e in t?Xx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,O=(t,e)=>{for(var n in e||={})lb.call(e,n)&&ub(t,n,e[n]);if(Cl)for(var n of Cl(e))db.call(e,n)&&ub(t,n,e[n]);return t},Z=(t,e)=>ek(t,tk(e));var hb=(t,e)=>{var n={};for(var r in t)lb.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Cl)for(var r of Cl(t))e.indexOf(r)<0&&db.call(t,r)&&(n[r]=t[r]);return n};var Mg;function Dl(){return Mg}function kn(t){let e=Mg;return Mg=t,e}var fb=Symbol("NotFound");function Zo(t){return t===fb||t?.name==="\u0275NotFound"}var Ct=null,Sl=!1,Ng=1,nk=null,Dt=Symbol("SIGNAL");function ne(t){let e=Ct;return Ct=t,e}function Nl(){return Ct}var Jo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Xo(t){if(Sl)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.producersTail;if(e!==void 0&&e.producer===t)return;let n,r=Ct.recomputing;if(r&&(n=e!==void 0?e.nextProducer:Ct.producers,n!==void 0&&n.producer===t)){Ct.producersTail=n,n.lastReadVersion=t.version;return}let i=t.consumersTail;if(i!==void 0&&i.consumer===Ct&&(!r||ik(i,Ct)))return;let o=ts(Ct),s={producer:t,consumer:Ct,nextProducer:n,prevConsumer:i,lastReadVersion:t.version,nextConsumer:void 0};Ct.producersTail=s,e!==void 0?e.nextProducer=s:Ct.producers=s,o&&yb(t,s)}function pb(){Ng++}function Pl(t){if(!(ts(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Ng)){if(!t.producerMustRecompute(t)&&!ic(t)){Ml(t);return}t.producerRecomputeValue(t),Ml(t)}}function Pg(t){if(t.consumers===void 0)return;let e=Sl;Sl=!0;try{for(let n=t.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||rk(r)}}finally{Sl=e}}function Og(){return Ct?.consumerAllowSignalWrites!==!1}function rk(t){t.dirty=!0,Pg(t),t.consumerMarkedDirty?.(t)}function Ml(t){t.dirty=!1,t.lastCleanEpoch=Ng}function es(t){return t&&gb(t),ne(t)}function gb(t){t.producersTail=void 0,t.recomputing=!0}function rc(t,e){ne(e),t&&mb(t)}function mb(t){t.recomputing=!1;let e=t.producersTail,n=e!==void 0?e.nextProducer:t.producers;if(n!==void 0){if(ts(t))do n=xg(n);while(n!==void 0);e!==void 0?e.nextProducer=void 0:t.producers=void 0}}function ic(t){for(let e=t.producers;e!==void 0;e=e.nextProducer){let n=e.producer,r=e.lastReadVersion;if(r!==n.version||(Pl(n),r!==n.version))return!0}return!1}function oc(t){if(ts(t)){let e=t.producers;for(;e!==void 0;)e=xg(e)}t.producers=void 0,t.producersTail=void 0,t.consumers=void 0,t.consumersTail=void 0}function yb(t,e){let n=t.consumersTail,r=ts(t);if(n!==void 0?(e.nextConsumer=n.nextConsumer,n.nextConsumer=e):(e.nextConsumer=void 0,t.consumers=e),e.prevConsumer=n,t.consumersTail=e,!r)for(let i=t.producers;i!==void 0;i=i.nextProducer)yb(i.producer,i)}function xg(t){let e=t.producer,n=t.nextProducer,r=t.nextConsumer,i=t.prevConsumer;if(t.nextConsumer=void 0,t.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ts(e)){let o=e.producers;for(;o!==void 0;)o=xg(o)}return n}function ts(t){return t.consumerIsAlwaysLive||t.consumers!==void 0}function Ol(t){nk?.(t)}function ik(t,e){let n=e.producersTail;if(n!==void 0){let r=e.producers;do{if(r===t)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function xl(t,e){return Object.is(t,e)}function kl(t,e){let n=Object.create(ok);n.computation=t,e!==void 0&&(n.equal=e);let r=()=>{if(Pl(n),Xo(n),n.value===nc)throw n.error;return n.value};return r[Dt]=n,Ol(n),r}var Al=Symbol("UNSET"),Rl=Symbol("COMPUTING"),nc=Symbol("ERRORED"),ok=Z(O({},Jo),{value:Al,dirty:!0,error:null,equal:xl,kind:"computed",producerMustRecompute(t){return t.value===Al||t.value===Rl},producerRecomputeValue(t){if(t.value===Rl)throw new Error("");let e=t.value;t.value=Rl;let n=es(t),r,i=!1;try{r=t.computation(),ne(null),i=e!==Al&&e!==nc&&r!==nc&&t.equal(e,r)}catch(o){r=nc,t.error=o}finally{rc(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function sk(){throw new Error}var vb=sk;function _b(t){vb(t)}function kg(t){vb=t}var ak=null;function Fg(t,e){let n=Object.create(Fl);n.value=t,e!==void 0&&(n.equal=e);let r=()=>Eb(n);return r[Dt]=n,Ol(n),[r,s=>ns(n,s),s=>Lg(n,s)]}function Eb(t){return Xo(t),t.value}function ns(t,e){Og()||_b(t),t.equal(t.value,e)||(t.value=e,ck(t))}function Lg(t,e){Og()||_b(t),ns(t,e(t.value))}var Fl=Z(O({},Jo),{equal:xl,value:void 0,kind:"signal"});function ck(t){t.version++,pb(),Pg(t),ak?.(t)}function re(t){return typeof t=="function"}function rs(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ll=rs(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Pi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Le=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(re(r))try{r()}catch(o){e=o instanceof Ll?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Ib(o)}catch(s){e=e??[],s instanceof Ll?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Ll(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ib(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Pi(n,e)}remove(e){let{_finalizers:n}=this;n&&Pi(n,e),e instanceof t&&e._removeParent(this)}};Le.EMPTY=(()=>{let t=new Le;return t.closed=!0,t})();var Vg=Le.EMPTY;function Vl(t){return t instanceof Le||t&&"closed"in t&&re(t.remove)&&re(t.add)&&re(t.unsubscribe)}function Ib(t){re(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var is={setTimeout(t,e,...n){let{delegate:r}=is;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=is;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jl(t){is.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function Oi(){}var wb=jg("C",void 0,void 0);function Tb(t){return jg("E",void 0,t)}function bb(t){return jg("N",t,void 0)}function jg(t,e,n){return{kind:t,value:e,error:n}}var xi=null;function os(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!xi;if(e&&(xi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=xi;if(xi=null,n)throw r}}else t()}function Cb(t){En.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=t)}var ki=class extends Le{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Vl(e)&&e.add(this)):this.destination=dk}static create(e,n,r){return new ss(e,n,r)}next(e){this.isStopped?Bg(bb(e),this):this._next(e)}error(e){this.isStopped?Bg(Tb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Bg(wb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},uk=Function.prototype.bind;function Ug(t,e){return uk.call(t,e)}var $g=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Ul(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Ul(r)}else Ul(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Ul(n)}}},ss=class extends ki{constructor(e,n,r){super();let i;if(re(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&En.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ug(e.next,o),error:e.error&&Ug(e.error,o),complete:e.complete&&Ug(e.complete,o)}):i=e}this.destination=new $g(i)}};function Ul(t){En.useDeprecatedSynchronousErrorHandling?Cb(t):jl(t)}function lk(t){throw t}function Bg(t,e){let{onStoppedNotification:n}=En;n&&is.setTimeout(()=>n(t,e))}var dk={closed:!0,next:Oi,error:lk,complete:Oi};var as=typeof Symbol=="function"&&Symbol.observable||"@@observable";function qt(t){return t}function Bl(...t){return Hg(t)}function Hg(t){return t.length===0?qt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=fk(n)?n:new ss(n,r,i);return os(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Db(r),new r((i,o)=>{let s=new ss({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[as](){return this}pipe(...n){return Hg(n)(this)}toPromise(n){return n=Db(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Db(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function hk(t){return t&&re(t.next)&&re(t.error)&&re(t.complete)}function fk(t){return t&&t instanceof ki||hk(t)&&Vl(t)}function zg(t){return re(t?.lift)}function le(t){return e=>{if(zg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ce(t,e,n,r,i){return new qg(t,e,n,r,i)}var qg=class extends ki{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function cs(){return le((t,e)=>{let n=null;t._refCount++;let r=ce(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var us=class extends K{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,zg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Le;let n=this.getSubject();e.add(this.source.subscribe(ce(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Le.EMPTY)}return e}refCount(){return cs()(this)}};var Sb=rs(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $l(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Sb}next(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){os(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Vg:(this.currentObservers=null,o.push(n),new Le(()=>{this.currentObservers=null,Pi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new $l(e,n),t})(),$l=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Vg}};var ft=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Gg={now(){return(Gg.delegate||Date).now()},delegate:void 0};var Hl=class extends Le{constructor(e,n){super()}schedule(e,n=0){return this}};var sc={setInterval(t,e,...n){let{delegate:r}=sc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=sc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var ls=class extends Hl{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return sc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&sc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Pi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var ds=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};ds.now=Gg.now;var hs=class extends ds{constructor(e,n=ds.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Wg=new hs(ls);var zl=class extends ls{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ql=class extends hs{};var Kg=new ql(zl);var Vt=new K(t=>t.complete());function Ab(t){return t&&re(t.schedule)}function Rb(t){return t[t.length-1]}function Gl(t){return re(Rb(t))?t.pop():void 0}function qr(t){return Ab(Rb(t))?t.pop():void 0}function Qg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Nb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function Mb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fi(t){return this instanceof Fi?(this.v=t,this):new Fi(t)}function Pb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(M){return new Promise(function(R,k){o.push([y,M,R,k])>1||u(y,M)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Fi?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Ob(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Mb=="function"?Mb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Wl=t=>t&&typeof t.length=="number"&&typeof t!="function";function Kl(t){return re(t?.then)}function Ql(t){return re(t[as])}function Yl(t){return Symbol.asyncIterator&&re(t?.[Symbol.asyncIterator])}function Zl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function pk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Jl=pk();function Xl(t){return re(t?.[Jl])}function ed(t){return Pb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Fi(n.read());if(i)return yield Fi(void 0);yield yield Fi(r)}}finally{n.releaseLock()}})}function td(t){return re(t?.getReader)}function qe(t){if(t instanceof K)return t;if(t!=null){if(Ql(t))return gk(t);if(Wl(t))return mk(t);if(Kl(t))return yk(t);if(Yl(t))return xb(t);if(Xl(t))return vk(t);if(td(t))return _k(t)}throw Zl(t)}function gk(t){return new K(e=>{let n=t[as]();if(re(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function mk(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function yk(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jl)})}function vk(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function xb(t){return new K(e=>{Ek(t,e).catch(n=>e.error(n))})}function _k(t){return xb(ed(t))}function Ek(t,e){var n,r,i,o;return Nb(this,void 0,void 0,function*(){try{for(n=Ob(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function jt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Gr(t,e=0){return le((n,r)=>{n.subscribe(ce(r,i=>jt(r,t,()=>r.next(i),e),()=>jt(r,t,()=>r.complete(),e),i=>jt(r,t,()=>r.error(i),e)))})}function Wr(t,e=0){return le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function kb(t,e){return qe(t).pipe(Wr(e),Gr(e))}function Fb(t,e){return qe(t).pipe(Wr(e),Gr(e))}function Lb(t,e){return new K(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Vb(t,e){return new K(n=>{let r;return jt(n,e,()=>{r=t[Jl](),jt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>re(r?.return)&&r.return()})}function nd(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{jt(n,e,()=>{let r=t[Symbol.asyncIterator]();jt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function jb(t,e){return nd(ed(t),e)}function Ub(t,e){if(t!=null){if(Ql(t))return kb(t,e);if(Wl(t))return Lb(t,e);if(Kl(t))return Fb(t,e);if(Yl(t))return nd(t,e);if(Xl(t))return Vb(t,e);if(td(t))return jb(t,e)}throw Zl(t)}function Ce(t,e){return e?Ub(t,e):qe(t)}function H(...t){let e=qr(t);return Ce(t,e)}function fs(t,e){let n=re(t)?t:()=>t,r=i=>i.error(n());return new K(e?i=>e.schedule(r,0,i):r)}function Yg(t){return!!t&&(t instanceof K||re(t.lift)&&re(t.subscribe))}var hr=rs(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return le((n,r)=>{let i=0;n.subscribe(ce(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Ik}=Array;function wk(t,e){return Ik(e)?t(...e):t(e)}function rd(t){return B(e=>wk(t,e))}var{isArray:Tk}=Array,{getPrototypeOf:bk,prototype:Ck,keys:Dk}=Object;function id(t){if(t.length===1){let e=t[0];if(Tk(e))return{args:e,keys:null};if(Sk(e)){let n=Dk(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function Sk(t){return t&&typeof t=="object"&&bk(t)===Ck}function od(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function sd(...t){let e=qr(t),n=Gl(t),{args:r,keys:i}=id(t);if(r.length===0)return Ce([],e);let o=new K(Ak(r,e,i?s=>od(i,s):qt));return n?o.pipe(rd(n)):o}function Ak(t,e,n=qt){return r=>{Bb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Bb(e,()=>{let l=Ce(t[u],e),h=!1;l.subscribe(ce(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Bb(t,e,n){t?jt(n,t,e):e()}function $b(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?b(M):u.push(M),b=M=>{o&&e.next(M),l++;let R=!1;qe(n(M,h++)).subscribe(ce(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?jt(e,s,()=>b(k)):b(k)}m()}catch(k){e.error(k)}}))};return t.subscribe(ce(e,y,()=>{p=!0,m()})),()=>{a?.()}}function Ge(t,e,n=1/0){return re(e)?Ge((r,i)=>B((o,s)=>e(r,o,i,s))(qe(t(r,i))),n):(typeof e=="number"&&(n=e),le((r,i)=>$b(r,i,t,n)))}function ps(t=1/0){return Ge(qt,t)}function Hb(){return ps(1)}function gs(...t){return Hb()(Ce(t,qr(t)))}function ac(t){return new K(e=>{qe(t()).subscribe(e)})}function Zg(...t){let e=Gl(t),{args:n,keys:r}=id(t),i=new K(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;qe(n[h]).subscribe(ce(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?od(r,a):a),o.complete())}))}});return e?i.pipe(rd(e)):i}var fr=new K(Oi);function We(t,e){return le((n,r)=>{let i=0;n.subscribe(ce(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Ut(t){return le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ce(n,void 0,void 0,s=>{o=qe(t(s,Ut(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function zb(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(ce(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Li(t,e){return re(e)?Ge(t,e,1):Ge(t,1)}function Kr(t){return le((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ot(t){return t<=0?()=>Vt:le((e,n)=>{let r=0;e.subscribe(ce(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function ad(t=Rk){return le((e,n)=>{let r=!1;e.subscribe(ce(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Rk(){return new hr}function cc(t){return le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function pr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?We((i,o)=>t(i,o,r)):qt,Ot(1),n?Kr(e):ad(()=>new hr))}function ms(t){return t<=0?()=>Vt:le((e,n)=>{let r=[];e.subscribe(ce(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Jg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?We((i,o)=>t(i,o,r)):qt,ms(1),n?Kr(e):ad(()=>new hr))}function cd(t,e){return le(zb(t,e,arguments.length>=2,!0))}function ud(...t){let e=qr(t);return le((n,r)=>{(e?gs(t,n,e):gs(t,n)).subscribe(r)})}function tt(t,e){return le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ce(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(t(u,h)).subscribe(i=ce(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ld(t){return le((e,n)=>{qe(t).subscribe(ce(n,()=>n.complete(),Oi)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=re(t)||e||n?{next:t,error:e,complete:n}:t;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ce(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):qt}function qb(t){let e=ne(null);try{return t()}finally{ne(e)}}var Qr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},dm=new Qr("20.3.15");var pd="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",F=class extends Error{code;constructor(e,n){super(Ln(e,n)),this.code=e}};function Mk(t){return`NG0${Math.abs(t)}`}function Ln(t,e){return`${Mk(t)}${e?": "+e:""}`}var vs=globalThis;function Ie(t){for(let e in t)if(t[e]===Ie)return e;throw Error("")}function Kb(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function mr(t){if(typeof t=="string")return t;if(Array.isArray(t))return`[${t.map(mr).join(", ")}]`;if(t==null)return""+t;let e=t.overriddenName||t.name;if(e)return`${e}`;let n=t.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function hm(t,e){return t?e?`${t} ${e}`:t:e||""}var Nk=Ie({__forward_ref__:Ie});function Vn(t){return t.__forward_ref__=Vn,t.toString=function(){return mr(this())},t}function pt(t){return fm(t)?t():t}function fm(t){return typeof t=="function"&&t.hasOwnProperty(Nk)&&t.__forward_ref__===Vn}function U(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function wn(t){return{providers:t.providers||[],imports:t.imports||[]}}function hc(t){return Pk(t,gd)}function pm(t){return hc(t)!==null}function Pk(t,e){return t.hasOwnProperty(e)&&t[e]||null}function Ok(t){let e=t?.[gd]??null;return e||null}function em(t){return t&&t.hasOwnProperty(hd)?t[hd]:null}var gd=Ie({\u0275prov:Ie}),hd=Ie({\u0275inj:Ie}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=U({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function gm(t){return t&&!!t.\u0275providers}var mm=Ie({\u0275cmp:Ie}),ym=Ie({\u0275dir:Ie}),vm=Ie({\u0275pipe:Ie}),_m=Ie({\u0275mod:Ie}),lc=Ie({\u0275fac:Ie}),Hi=Ie({__NG_ELEMENT_ID__:Ie}),Gb=Ie({__NG_ENV_ID__:Ie});function fc(t){return typeof t=="string"?t:t==null?"":String(t)}function Qb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():fc(t)}var Yb=Ie({ngErrorCode:Ie}),xk=Ie({ngErrorMessage:Ie}),kk=Ie({ngTokenPath:Ie});function Em(t,e){return Zb("",-200,e)}function md(t,e){throw new F(-201,!1)}function Zb(t,e,n){let r=new F(e,t);return r[Yb]=e,r[xk]=t,n&&(r[kk]=n),r}function Fk(t){return t[Yb]}var tm;function Jb(){return tm}function Gt(t){let e=tm;return tm=t,e}function Im(t,e,n){let r=hc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(e!==void 0)return e;md(t,"Injector")}var Lk={},Vi=Lk,nm="__NG_DI_FLAG__",rm=class{injector;constructor(e){this.injector=e}retrieve(e,n){let r=ji(n)||0;try{return this.injector.get(e,r&8?null:Vi,r)}catch(i){if(Zo(i))return i;throw i}}};function Vk(t,e=0){let n=Dl();if(n===void 0)throw new F(-203,!1);if(n===null)return Im(t,void 0,e);{let r=jk(e),i=n.retrieve(t,r);if(Zo(i)){if(r.optional)return null;throw i}return i}}function J(t,e=0){return(Jb()||Vk)(pt(t),e)}function S(t,e){return J(t,ji(e))}function ji(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jk(t){return{optional:!!(t&8),host:!!(t&1),self:!!(t&2),skipSelf:!!(t&4)}}function im(t){let e=[];for(let n=0;n<t.length;n++){let r=pt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new F(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=Uk(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(J(i,o))}else e.push(J(r))}return e}function Xb(t,e){return t[nm]=e,t.prototype[nm]=e,t}function Uk(t){return t[nm]}function Ui(t,e){let n=t.hasOwnProperty(lc);return n?t[lc]:null}function eC(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function tC(t){return t.flat(Number.POSITIVE_INFINITY)}function yd(t,e){t.forEach(n=>Array.isArray(n)?yd(n,e):e(n))}function wm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pc(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function rC(t,e,n){let r=_s(t,e);return r>=0?t[r|1]=n:(r=~r,nC(t,r,e,n)),r}function vd(t,e){let n=_s(t,e);if(n>=0)return t[n|1]}function _s(t,e){return Bk(t,e,1)}function Bk(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Zr={},Wt=[],an=new L(""),Tm=new L("",-1),bm=new L(""),dc=class{get(e,n=Vi){if(n===Vi){let i=Zb("",-201);throw i.name="\u0275NotFound",i}return n}};function Cm(t){return t[_m]||null}function yr(t){return t[mm]||null}function _d(t){return t[ym]||null}function Dm(t){return t[vm]||null}function ot(t){return{\u0275providers:t}}function iC(t){return ot([{provide:an,multi:!0,useValue:t}])}function oC(...t){return{\u0275providers:Ed(!0,t),\u0275fromNgModule:!0}}function Ed(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return yd(e,s=>{let a=s;fd(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sC(i,o),n}function sC(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sm(i,o=>{e(o,r)})}}function fd(t,e,n,r){if(t=pt(t),!t)return!1;let i=null,o=em(t),s=!o&&yr(t);if(!o&&!s){let u=t.ngModule;if(o=em(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)fd(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{yd(o.imports,h=>{fd(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&sC(l,e)}if(!a){let l=Ui(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:bm,useValue:i,multi:!0},i),e({provide:an,useValue:()=>J(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;Sm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Sm(t,e){for(let n of t)gm(n)&&(n=n.\u0275providers),Array.isArray(n)?Sm(n,e):e(n)}var $k=Ie({provide:String,useValue:Ie});function aC(t){return t!==null&&typeof t=="object"&&$k in t}function Hk(t){return!!(t&&t.useExisting)}function zk(t){return!!(t&&t.useFactory)}function Bi(t){return typeof t=="function"}function cC(t){return!!t.useClass}var gc=new L(""),dd={},Wb={},Xg;function mc(){return Xg===void 0&&(Xg=new dc),Xg}var Be=class{},$i=class extends Be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,sm(e,s=>this.processProvider(s)),this.records.set(Tm,ys(void 0,this)),i.has("environment")&&this.records.set(Be,ys(void 0,this));let o=this.records.get(gc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(bm,Wt,{self:!0}))}retrieve(e,n){let r=ji(n)||0;try{return this.get(e,Vi,r)}catch(i){if(Zo(i))return i;throw i}}destroy(){uc(this),this._destroyed=!0;let e=ne(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(e)}}onDestroy(e){return uc(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){uc(this);let n=kn(this),r=Gt(void 0),i;try{return e()}finally{kn(n),Gt(r)}}get(e,n=Vi,r){if(uc(this),e.hasOwnProperty(Gb))return e[Gb](this);let i=ji(r),o,s=kn(this),a=Gt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Qk(e)&&hc(e);h&&this.injectableDefInScope(h)?l=ys(om(e),dd):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?mc():this.parent;return n=i&8&&n===Vi?null:n,u.get(e,n)}catch(u){let l=Fk(u);throw l===-200||l===-201?new F(l,null):u}finally{Gt(a),kn(s)}}resolveInjectorInitializers(){let e=ne(null),n=kn(this),r=Gt(void 0),i;try{let o=this.get(an,Wt,{self:!0});for(let s of o)s()}finally{kn(n),Gt(r),ne(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(mr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=pt(e);let n=Bi(e)?e:pt(e&&e.provide),r=Gk(e);if(!Bi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ys(void 0,dd,!0),i.factory=()=>im(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n,r){let i=ne(null);try{if(n.value===Wb)throw Em(mr(e));return n.value===dd&&(n.value=Wb,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&Kk(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ne(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=pt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function om(t){let e=hc(t),n=e!==null?e.factory:Ui(t);if(n!==null)return n;if(t instanceof L)throw new F(204,!1);if(t instanceof Function)return qk(t);throw new F(204,!1)}function qk(t){if(t.length>0)throw new F(204,!1);let n=Ok(t);return n!==null?()=>n.factory(t):()=>new t}function Gk(t){if(aC(t))return ys(void 0,t.useValue);{let e=Am(t);return ys(e,dd)}}function Am(t,e,n){let r;if(Bi(t)){let i=pt(t);return Ui(i)||om(i)}else if(aC(t))r=()=>pt(t.useValue);else if(zk(t))r=()=>t.useFactory(...im(t.deps||[]));else if(Hk(t))r=(i,o)=>J(pt(t.useExisting),o!==void 0&&o&8?8:void 0);else{let i=pt(t&&(t.useClass||t.provide));if(Wk(t))r=()=>new i(...im(t.deps));else return Ui(i)||om(i)}return r}function uc(t){if(t.destroyed)throw new F(205,!1)}function ys(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Wk(t){return!!t.deps}function Kk(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Qk(t){return typeof t=="function"||typeof t=="object"&&t.ngMetadataName==="InjectionToken"}function sm(t,e){for(let n of t)Array.isArray(n)?sm(n,e):n&&gm(n)?sm(n.\u0275providers,e):e(n)}function Ke(t,e){let n;t instanceof $i?(uc(t),n=t):n=new rm(t);let r,i=kn(n),o=Gt(void 0);try{return e()}finally{kn(i),Gt(o)}}function uC(){return Jb()!==void 0||Dl()!=null}var xt=0,$=1,Y=2,$e=3,cn=4,un=5,Kt=6,Es=7,gt=8,ln=9,jn=10,De=11,Is=12,Rm=13,zi=14,Bt=15,Jr=16,qi=17,Un=18,yc=19,Mm=20,gr=21,Id=22,vc=23,Qt=24,Gi=25,_c=26,Pe=27,lC=1,Tn=6,Bn=7,Ec=8,Wi=9,mt=10;function Yt(t){return Array.isArray(t)&&typeof t[lC]=="object"}function Zt(t){return Array.isArray(t)&&t[lC]===!0}function Nm(t){return(t.flags&4)!==0}function vr(t){return t.componentOffset>-1}function wd(t){return(t.flags&1)===1}function $n(t){return!!t.template}function Ki(t){return(t[Y]&512)!==0}function Xr(t){return(t[Y]&256)===256}var dC="svg",hC="math";function Jt(t){for(;Array.isArray(t);)t=t[xt];return t}function Pm(t,e){return Jt(e[t])}function dn(t,e){return Jt(e[t.index])}function Qi(t,e){return t.data[e]}function hn(t,e){let n=e[t];return Yt(n)?n:n[xt]}function fC(t){return(t[Y]&4)===4}function Td(t){return(t[Y]&128)===128}function pC(t){return Zt(t[$e])}function ei(t,e){return e==null?null:t[e]}function Om(t){t[qi]=0}function xm(t){t[Y]&1024||(t[Y]|=1024,Td(t)&&ws(t))}function gC(t,e){for(;t>0;)e=e[zi],t--;return e}function Ic(t){return!!(t[Y]&9216||t[Qt]?.dirty)}function bd(t){t[jn].changeDetectionScheduler?.notify(8),t[Y]&64&&(t[Y]|=1024),Ic(t)&&ws(t)}function ws(t){t[jn].changeDetectionScheduler?.notify(0);let e=Yr(t);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Td(e)));)e=Yr(e)}function km(t,e){if(Xr(t))throw new F(911,!1);t[gr]===null&&(t[gr]=[]),t[gr].push(e)}function mC(t,e){if(t[gr]===null)return;let n=t[gr].indexOf(e);n!==-1&&t[gr].splice(n,1)}function Yr(t){let e=t[$e];return Zt(e)?e[$e]:e}function Fm(t){return t[Es]??=[]}function Lm(t){return t.cleanup??=[]}function yC(t,e,n,r){let i=Fm(e);i.push(n),t.firstCreatePass&&Lm(t).push(r,i.length-1)}var oe={lFrame:PC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var am=!1;function vC(){return oe.lFrame.elementDepthCount}function _C(){oe.lFrame.elementDepthCount++}function Vm(){oe.lFrame.elementDepthCount--}function EC(){return oe.bindingsEnabled}function jm(){return oe.skipHydrationRootTNode!==null}function Um(t){return oe.skipHydrationRootTNode===t}function IC(t){oe.skipHydrationRootTNode=t}function Bm(){oe.skipHydrationRootTNode=null}function de(){return oe.lFrame.lView}function St(){return oe.lFrame.tView}function Yi(t){return oe.lFrame.contextLView=t,t[gt]}function Zi(t){return oe.lFrame.contextLView=null,t}function st(){let t=$m();for(;t!==null&&t.type===64;)t=t.parent;return t}function $m(){return oe.lFrame.currentTNode}function wC(){let t=oe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Ts(t,e){let n=oe.lFrame;n.currentTNode=t,n.isParent=e}function Hm(){return oe.lFrame.isParent}function TC(){oe.lFrame.isParent=!1}function zm(){return am}function qm(t){let e=am;return am=t,e}function bC(){let t=oe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function CC(t){return oe.lFrame.bindingIndex=t}function bs(){return oe.lFrame.bindingIndex++}function DC(t){let e=oe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function SC(){return oe.lFrame.inI18n}function AC(t,e){let n=oe.lFrame;n.bindingIndex=n.bindingRootIndex=t,Cd(e)}function RC(){return oe.lFrame.currentDirectiveIndex}function Cd(t){oe.lFrame.currentDirectiveIndex=t}function MC(t){let e=oe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Gm(){return oe.lFrame.currentQueryIndex}function Dd(t){oe.lFrame.currentQueryIndex=t}function Yk(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[un]:null}function Wm(t,e,n){if(n&4){let i=e,o=t;for(;i=i.parent,i===null&&!(n&1);)if(i=Yk(o),i===null||(o=o[zi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=oe.lFrame=NC();return r.currentTNode=e,r.lView=t,!0}function Sd(t){let e=NC(),n=t[$];oe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function NC(){let t=oe.lFrame,e=t===null?null:t.child;return e===null?PC(t):e}function PC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function OC(){let t=oe.lFrame;return oe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Km=OC;function Ad(){let t=OC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xC(t){return(oe.lFrame.contextLView=gC(t,oe.lFrame.contextLView))[gt]}function Ji(){return oe.lFrame.selectedIndex}function ti(t){oe.lFrame.selectedIndex=t}function Rd(){let t=oe.lFrame;return Qi(t.tView,t.selectedIndex)}function Qm(){return oe.lFrame.currentNamespace}var kC=!0;function Md(){return kC}function _r(t){kC=t}function cm(t,e=null,n=null,r){let i=Ym(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ym(t,e=null,n=null,r,i=new Set){let o=[n||Wt,oC(t)];return r=r||(typeof t=="object"?void 0:mr(t)),new $i(o,e||mc(),r||null,i)}var Ve=class t{static THROW_IF_NOT_FOUND=Vi;static NULL=new dc;static create(e,n){if(Array.isArray(e))return cm({name:""},n,e,"");{let r=e.name??"";return cm({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:t,providedIn:"any",factory:()=>J(Tm)});static __NG_ELEMENT_ID__=-1},nt=new L(""),bn=(()=>{class t{static __NG_ELEMENT_ID__=Zk;static __NG_ENV_ID__=n=>n}return t})(),um=class extends bn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Xr(this._lView)}onDestroy(e){let n=this._lView;return km(n,e),()=>mC(n,e)}};function Zk(){return new um(de())}var In=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new L("",{providedIn:"root",factory:()=>{let t=S(Be),e;return n=>{t.destroyed&&!e?setTimeout(()=>{throw n}):(e??=t.get(In),e.handleError(n))}}}),FC={provide:an,useValue:()=>void S(In),multi:!0},Jk=new L("",{providedIn:"root",factory:()=>{let t=S(nt).defaultView;if(!t)return;let e=S($t),n=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{t.addEventListener("unhandledrejection",n),t.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),S(bn).onDestroy(()=>{t.removeEventListener("error",r),t.removeEventListener("unhandledrejection",n)})}});function Zm(){return ot([iC(()=>void S(Jk))])}function Jm(t){return typeof t=="function"&&t[Dt]!==void 0}function Oe(t,e){let[n,r,i]=Fg(t,e?.equal),o=n,s=o[Dt];return o.set=r,o.update=i,o.asReadonly=LC.bind(o),o}function LC(){let t=this[Dt];if(t.readonlyFn===void 0){let e=()=>this();e[Dt]=t,t.readonlyFn=e}return t.readonlyFn}function Xm(t){return Jm(t)&&typeof t.set=="function"}var Nd=(()=>{class t{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=Xk}return t})();function Xk(){return new Nd(de(),st())}var Fn=class{},Cs=new L("",{providedIn:"root",factory:()=>!1});var ey=new L(""),Pd=new L(""),Cn=(()=>{class t{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ft(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),ni=(()=>{class t{internalPendingTasks=S(Cn);scheduler=S(Fn);errorHandler=S($t);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})();function wc(...t){}var ty=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>new lm})}return t})(),lm=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[n,r]of this.queues)n===null?e||=this.flushQueue(r):e||=n.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let n=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};var Od={JSACTION:"jsaction"};function Ls(t){return{toString:t}.toString()}var xd="__parameters__";function c1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function u1(t,e,n){return Ls(()=>{let r=c1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(xd)?u[xd]:Object.defineProperty(u,xd,{value:[]})[xd];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var zn=Xb(u1("Optional"),8);function l1(t){return typeof t=="function"}var Hd=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function bD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var qn=(()=>{let t=()=>CD;return t.ngInherit=!0,t})();function CD(t){return t.type.prototype.ngOnChanges&&(t.setInput=h1),d1}function d1(){let t=SD(this),e=t?.current;if(e){let n=t.previous;if(n===Zr)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function h1(t,e,n,r,i){let o=this.declaredInputs[r],s=SD(t)||f1(t,{previous:Zr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Hd(l&&l.currentValue,n,u===Zr),bD(t,e,i,n)}var DD="__ngSimpleChanges__";function SD(t){return t[DD]||null}function f1(t,e){return t[DD]=e}var VC=[];var ye=function(t,e=null,n){for(let r=0;r<VC.length;r++){let i=VC[r];i(t,e,n)}};function p1(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=CD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function g1(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ld(t,e,n){AD(t,e,3,n)}function Vd(t,e,n,r){(t[Y]&3)===n&&AD(t,e,n,r)}function ny(t,e){let n=t[Y];(n&3)===e&&(n&=16383,n+=1,t[Y]=n)}function AD(t,e,n,r){let i=r!==void 0?t[qi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[qi]+=65536),(a<o||o==-1)&&(m1(t,n,e,u),t[qi]=(t[qi]&4294901760)+u+2),u++}function jC(t,e){ye(4,t,e);let n=ne(null);try{e.call(t)}finally{ne(n),ye(5,t,e)}}function m1(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[Y]>>14<t[qi]>>16&&(t[Y]&3)===e&&(t[Y]+=16384,jC(a,o)):jC(a,o)}var Ss=-1,to=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function y1(t){return(t.flags&8)!==0}function v1(t){return(t.flags&16)!==0}function _1(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];E1(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function RD(t){return t===3||t===4||t===6}function E1(t){return t.charCodeAt(0)===64}function Ms(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?UC(t,n,i,null,e[++r]):UC(t,n,i,null,null))}}return t}function UC(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){i!==null&&(t[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i)}function MD(t){return t!==Ss}function zd(t){return t&32767}function I1(t){return t>>16}function qd(t,e){let n=I1(t),r=e;for(;n>0;)r=r[zi],n--;return r}var gy=!0;function BC(t){let e=gy;return gy=t,e}var w1=256,ND=w1-1,PD=5,T1=0,Hn={};function b1(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),r==null&&(r=n[Hi]=T1++);let i=r&ND,o=1<<i;e.data[t+(i>>PD)]|=o}function Gd(t,e){let n=OD(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,ry(r.data,t),ry(e,null),ry(r.blueprint,null));let i=By(t,e),o=t.injectorIndex;if(MD(i)){let s=zd(i),a=qd(i,e),u=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function ry(t,e){t.push(0,0,0,0,0,0,0,0,e)}function OD(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function By(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=VD(i),r===null)return Ss;if(n++,i=i[zi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ss}function my(t,e,n){b1(t,e,n)}function C1(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(RD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function xD(t,e,n){if(n&8||t!==void 0)return t;md(e,"NodeInjector")}function kD(t,e,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=t[ln],o=Gt(void 0);try{return i?i.get(e,r,n&8):Im(e,r,n&8)}finally{Gt(o)}}return xD(r,e,n)}function FD(t,e,n,r=0,i){if(t!==null){if(e[Y]&2048&&!(r&2)){let s=R1(t,e,n,r,Hn);if(s!==Hn)return s}let o=LD(t,e,n,r,Hn);if(o!==Hn)return o}return kD(e,n,r,i)}function LD(t,e,n,r,i){let o=S1(n);if(typeof o=="function"){if(!Wm(e,t,r))return r&1?xD(i,n,r):kD(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&8))md(n);else return s}finally{Km()}}else if(typeof o=="number"){let s=null,a=OD(t,e),u=Ss,l=r&1?e[Bt][un]:null;for((a===-1||r&4)&&(u=a===-1?By(t,e):e[a+8],u===Ss||!HC(r,!1)?a=-1:(s=e[$],a=zd(u),e=qd(u,e)));a!==-1;){let h=e[$];if($C(o,a,h.data)){let p=D1(a,e,n,s,r,l);if(p!==Hn)return p}u=e[a+8],u!==Ss&&HC(r,e[$].data[a+8]===l)&&$C(o,a,e)?(s=h,a=zd(u),e=qd(u,e)):a=-1}}return i}function D1(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],u=r==null?vr(a)&&gy:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=jd(a,s,n,u,l);return h!==null?Cc(e,s,h,a,i):Hn}function jd(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=s[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=s[u];if(y&&$n(y)&&y.type===n)return u}return null}function Cc(t,e,n,r,i){let o=t[n],s=e.data;if(o instanceof to){let a=o;if(a.resolving){let y=Qb(s[n]);throw Em(y)}let u=BC(a.canSeeViewProviders);a.resolving=!0;let l=s[n].type||s[n],h,p=a.injectImpl?Gt(a.injectImpl):null,m=Wm(t,r,0);try{o=t[n]=a.factory(void 0,i,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&p1(n,s[n],e)}finally{p!==null&&Gt(p),BC(u),a.resolving=!1,Km()}}return o}function S1(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hi)?t[Hi]:void 0;return typeof e=="number"?e>=0?e&ND:A1:e}function $C(t,e,n){let r=1<<t;return!!(n[e+(t>>PD)]&r)}function HC(t,e){return!(t&2)&&!(t&1&&e)}var eo=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return FD(this._tNode,this._lView,e,ji(r),n)}};function A1(){return new eo(st(),de())}function ii(t){return Ls(()=>{let e=t.prototype.constructor,n=e[lc]||yy(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[lc]||yy(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function yy(t){return fm(t)?()=>{let e=yy(pt(t));return e&&e()}:Ui(t)}function R1(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!Ki(s);){let a=LD(o,s,n,r|2,Hn);if(a!==Hn)return a;let u=o.parent;if(!u){let l=s[Mm];if(l){let h=l.get(n,Hn,r);if(h!==Hn)return h}u=VD(s),s=s[zi]}o=u}return i}function VD(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[un]:null}function Nc(t){return C1(st(),t)}function M1(){return Vs(st(),de())}function Vs(t,e){return new fn(dn(t,e))}var fn=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=M1}return t})();function N1(t){return t instanceof fn?t.nativeElement:t}function P1(){return this._results[Symbol.iterator]()}var Wd=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ne}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=tC(e);(this._changesDetected=!eC(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=P1},jD="ngSkipHydration",O1="ngskiphydration";function UD(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===O1)return!0}return!1}function BD(t){return t.hasAttribute(jD)}function Kd(t){return(t.flags&128)===128}function $D(t){if(Kd(t))return!0;let e=t.parent;for(;e;){if(Kd(t)||UD(e))return!0;e=e.parent}return!1}var $y=(function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t})($y||{}),HD=new Map,x1=0;function k1(){return x1++}function F1(t){HD.set(t[yc],t)}function vy(t){HD.delete(t[yc])}var zC="__ngContext__";function Ns(t,e){Yt(e)?(t[zC]=e[yc],F1(e)):t[zC]=e}function zD(t){return GD(t[Is])}function qD(t){return GD(t[cn])}function GD(t){for(;t!==null&&!Zt(t);)t=t[cn];return t}var _y;function Hy(t){_y=t}function Pc(){if(_y!==void 0)return _y;if(typeof document<"u")return document;throw new F(210,!1)}var Gn=new L("",{providedIn:"root",factory:()=>L1}),L1="ng",uh=new L(""),wr=new L("",{providedIn:"platform",factory:()=>"unknown"});var lh=new L("",{providedIn:"root",factory:()=>Pc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function V1(){let t=new io;return t.store=j1(Pc(),S(Gn)),t}var io=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:V1});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function j1(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var WD="h",KD="b",U1="f",B1="n",QD="e",YD="t",dh="c",zy="x",Dc="r",ZD="i",JD="n",qy="d";var XD="di",eS="s",tS="p";var Oc=new L(""),nS=!1,Gy=new L("",{providedIn:"root",factory:()=>nS});var Wy=new L(""),rS=!1,iS=new L(""),Ky=new L("",{providedIn:"root",factory:()=>new Map});var xc="ngb";var oS=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},sS=(t,e)=>{let n=t,r=n.getAttribute(xc)??"",i=e.get(r)??new Set;i.has(n)||i.add(n),e.set(r,i)};var aS=t=>{t.removeAttribute(Od.JSACTION),t.removeAttribute(xc),t.__jsaction_fns=void 0},cS=new L("",{providedIn:"root",factory:()=>({})});function Qy(t,e){let n=e?.__jsaction_fns?.get(t.type);if(!(!n||!e?.isConnected))for(let r of n)r(t)}var Ey=new Map;function uS(t,e){return Ey.set(t,e),()=>Ey.delete(t)}var qC=!1,lS=(t,e,n,r)=>{};function $1(t,e,n,r){lS(t,e,n,r)}function dS(){qC||(lS=(t,e,n,r)=>{let i=t[ln].get(Gn);Ey.get(i)?.(e,n,r)},qC=!0)}var hh=new L("");function fh(t){return(t.flags&32)===32}var H1="__nghData__",Yy=H1,z1="__nghDeferData__",hS=z1;var Ud="ngh",fS="nghm",pS=()=>null;function q1(t,e,n=!1){let r=t.getAttribute(Ud);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,u={};if(r!==""){let h=e.get(io,null,{optional:!0});h!==null&&(u=h.get(Yy,[])[Number(r)])}let l={data:u,firstChild:t.firstChild??null};return n&&(l.firstChild=t,ph(l,0,t.nextSibling)),a?t.setAttribute(Ud,a):t.removeAttribute(Ud),l}function gS(){pS=q1}function mS(t,e,n=!1){return pS(t,e,n)}function yS(t){let e=t._lView;return e[$].type===2?null:(Ki(e)&&(e=e[Pe]),e)}function G1(t){return t.textContent?.replace(/\s/gm,"")}function W1(t){let e=Pc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=G1(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function ph(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Iy(t,e){return t.segmentHeads?.[e]??null}function vS(t){return t.get(iS,!1,{optional:!0})}function K1(t,e){let n=t.data,r=n[QD]?.[e]??null;return r===null&&n[dh]?.[e]&&(r=Zy(t,e)),r}function _S(t,e){return t.data[dh]?.[e]??null}function Zy(t,e){let n=_S(t,e)??[],r=0;for(let i of n)r+=i[Dc]*(i[zy]??1);return r}function Q1(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[qy];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function ES(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[qy];t.disconnectedNodes=n?new Set(n):null}return!!Q1(t)?.has(e)}function gh(t,e){let n=t[Kt];return n!==null&&!jm()&&!fh(e)&&!ES(n,e.index-Pe)}function Y1(t,e){let n=e.get(hh),i=e.get(io).get(hS,{}),o=!1,s=t,a=null,u=[];for(;!o&&s;){o=n.has(s);let l=n.hydrating.get(s);if(a===null&&l!=null){a=l.promise;break}u.unshift(s),s=i[s][tS]}return{parentBlockPromise:a,hydrationQueue:u}}function iy(t){return!!t&&t.nodeType===Node.COMMENT_NODE&&t.textContent?.trim()===fS}function GC(t){for(;t&&t.nodeType===Node.TEXT_NODE;)t=t.previousSibling;return t}function IS(t){for(let r of t.body.childNodes)if(iy(r))return;let e=GC(t.body.previousSibling);if(iy(e))return;let n=GC(t.head.lastChild);if(!iy(n))throw new F(-507,!1)}function wS(t,e){let n=t.contentQueries;if(n!==null){let r=ne(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Dd(o),a.contentQueries(2,e[s],s)}}}finally{ne(r)}}}function wy(t,e,n){Dd(0);let r=ne(null);try{e(t,n)}finally{ne(r)}}function TS(t,e,n){if(Nm(e)){let r=ne(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{ne(r)}}}var Er=(function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t})(Er||{});var kd;function Z1(){if(kd===void 0&&(kd=null,vs.trustedTypes))try{kd=vs.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return kd}function WC(t){return Z1()?.createScriptURL(t)||t}var Qd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pd})`}};function kc(t){return t instanceof Qd?t.changingThisBreaksApplicationSecurity:t}function mh(t,e){let n=bS(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pd})`)}return n===e}function bS(t){return t instanceof Qd&&t.getTypeName()||null}var J1=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jy(t){return t=String(t),t.match(J1)?t:"unsafe:"+t}var X1=/^>|^->|<!--|-->|--!>|<!-$/g,eF=/(<|>)/g,tF="\u200B$1\u200B";function nF(t){return t.replace(X1,e=>e.replace(eF,tF))}function CS(t,e){return t.createText(e)}function rF(t,e,n){t.setValue(e,n)}function DS(t,e){return t.createComment(nF(e))}function Xy(t,e,n){return t.createElement(e,n)}function Yd(t,e,n,r,i){t.insertBefore(e,n,r,i)}function SS(t,e,n){t.appendChild(e,n)}function KC(t,e,n,r,i){r!==null?Yd(t,e,n,r,i):SS(t,e,n)}function ev(t,e,n,r){t.removeChild(null,e,n,r)}function AS(t){t.textContent=""}function iF(t,e,n){t.setAttribute(e,"style",n)}function oF(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function RS(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&_1(t,e,r),i!==null&&oF(t,e,i),o!==null&&iF(t,e,o)}var Fc=(function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t})(Fc||{});function MS(t){let e=PS();return e?e.sanitize(Fc.URL,t)||"":mh(t,"URL")?kc(t):Jy(fc(t))}function NS(t){let e=PS();if(e)return WC(e.sanitize(Fc.RESOURCE_URL,t)||"");if(mh(t,"ResourceURL"))return WC(kc(t));throw new F(904,!1)}function sF(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?NS:MS}function tv(t,e,n){return sF(e,n)(t)}function PS(){let t=de();return t&&t[jn].sanitizer}function OS(t){return t.ownerDocument.body}function xS(t){return t instanceof Function?t():t}function aF(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var kS="ng-template";function cF(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aF(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nv(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function nv(t){return t.type===4&&t.value!==kS}function uF(t,e,n){let r=t.type===4&&!n?kS:t.value;return e===r}function lF(t,e,n){let r=4,i=t.attrs,o=i!==null?fF(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Dn(r)&&!Dn(u))return!1;if(s&&Dn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!uF(t,u,n)||u===""&&e.length===1){if(Dn(r))return!1;s=!0}}else if(r&8){if(i===null||!cF(t,i,u,n)){if(Dn(r))return!1;s=!0}}else{let l=e[++a],h=dF(u,i,nv(t),n);if(h===-1){if(Dn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(Dn(r))return!1;s=!0}}}}return Dn(r)||s}function Dn(t){return(t&1)===0}function dF(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return pF(e,t)}function hF(t,e,n=!1){for(let r=0;r<e.length;r++)if(lF(t,e[r],n))return!0;return!1}function fF(t){for(let e=0;e<t.length;e++){let n=t[e];if(RD(n))return e}return t.length}function pF(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function QC(t,e){return t?":not("+e.trim()+")":e}function gF(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Dn(s)&&(e+=QC(o,i),i=""),r=s,o=o||!Dn(r);n++}return i!==""&&(e+=QC(o,i)),e}function mF(t){return t.map(gF).join(",")}function yF(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Dn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Wn={};function rv(t,e,n,r,i,o,s,a,u,l,h){let p=Pe+r,m=p+i,y=vF(p,m),b=typeof l=="function"?l():l;return y[$]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function vF(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Wn);return n}function _F(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=rv(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function iv(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[xt]=i,p[Y]=r|4|128|8|64|1024,(l!==null||t&&t[Y]&2048)&&(p[Y]|=2048),Om(p),p[$e]=p[zi]=t,p[gt]=n,p[jn]=s||t&&t[jn],p[De]=a||t&&t[De],p[ln]=u||t&&t[ln]||null,p[un]=o,p[yc]=k1(),p[Kt]=h,p[Mm]=l,p[Bt]=e.type==2?t[Bt]:p,p}function EF(t,e,n){let r=dn(e,t),i=_F(n),o=t[jn].rendererFactory,s=ov(t,iv(t,i,null,FS(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function FS(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function LS(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ov(t,e){return t[Is]?t[Rm][cn]=e:t[Is]=e,t[Rm]=e,e}function Re(t=1){VS(St(),de(),Ji()+t,!1)}function VS(t,e,n,r){if(!r)if((e[Y]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Ld(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Vd(e,o,0,n)}ti(n)}var yh=(function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t})(yh||{});function Ty(t,e,n,r){let i=ne(null);try{let[o,s,a]=t.inputs[n],u=null;(s&yh.SignalBased)!==0&&(u=e[o][Dt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),t.setInput!==null?t.setInput(e,u,r,n,o):bD(e,u,o,r)}finally{ne(i)}}var Ir=(function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t})(Ir||{}),IF;function sv(t,e){return IF(t,e)}var Ps=new Set,vh=(function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t})(vh||{}),oo=new L(""),YC=new Set;function pn(t){YC.has(t)||(YC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}var jS=!1,by=class extends Ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uC()&&(this.destroyRef=S(bn,{optional:!0})??void 0,this.pendingTasks=S(Cn,{optional:!0})??void 0)}emit(e){let n=ne(null);try{super.next(e)}finally{ne(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Le&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},He=by;function US(t){let e,n;function r(){t=wc;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ZC(t){return queueMicrotask(()=>t()),()=>{t=wc}}var av="isAngularZone",Zd=av+"_ID",wF=0,ge=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new He(!1);onMicrotaskEmpty=new He(!1);onStable=new He(!1);onError=new He(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=jS}=e;if(typeof Zone>"u")throw new F(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,CF(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(av)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new F(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new F(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,TF,wc,wc);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},TF={};function cv(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function bF(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){US(()=>{t.callbackScheduled=!1,Cy(t),t.isCheckStableRunning=!0,cv(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Cy(t)}function CF(t){let e=()=>{bF(t)},n=wF++;t._inner=t._inner.fork({name:"angular",properties:{[av]:!0,[Zd]:n,[Zd+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(DF(u))return r.invokeTask(o,s,a,u);try{return JC(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),XC(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return JC(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!SF(u)&&e(),XC(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Cy(t),cv(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Cy(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function JC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function XC(t){t._nesting--,cv(t)}var Sc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new He;onMicrotaskEmpty=new He;onStable=new He;onError=new He;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function DF(t){return BS(t,"__ignore_ng_zone__")}function SF(t){return BS(t,"__scheduler_tick__")}function BS(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var uv=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),$S=[0,1,2,3],HS=(()=>{class t{ngZone=S(ge);scheduler=S(Fn);errorHandler=S(In,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){S(oo,{optional:!0})}execute(){let n=this.sequences.size>0;n&&ye(16),this.executing=!0;for(let r of $S)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&ye(17)}register(n){let{view:r}=n;r!==void 0?((r[Gi]??=[]).push(n),ws(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(vh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=U({token:t,providedIn:"root",factory:()=>new t})}return t})(),Jd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o,s=null){this.impl=e,this.hooks=n,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Gi];e&&(this.view[Gi]=e.filter(n=>n!==this))}};function _h(t,e){let n=e?.injector??S(Ve);return pn("NgAfterNextRender"),RF(t,n,e,!0)}function AF(t){return t instanceof Function?[void 0,void 0,t,void 0]:[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function RF(t,e,n,r){let i=e.get(uv);i.impl??=e.get(HS);let o=e.get(oo,null,{optional:!0}),s=n?.manualCleanup!==!0?e.get(bn):null,a=e.get(Nd,null,{optional:!0}),u=new Jd(i.impl,AF(t),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var MF=new L("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function zS(t,e,n){let r=t.get(MF);if(Array.isArray(e))for(let i of e)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),n?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(t)}function NF(t,e){for(let[n,r]of e)zS(t,r.animateFns)}function eD(t,e,n,r){let i=t?.[_c]?.enter;e!==null&&i&&i.has(n.index)&&NF(r,i)}function Ds(t,e,n,r,i,o,s,a){if(i!=null){let u,l=!1;Zt(i)?u=i:Yt(i)&&(l=!0,i=i[xt]);let h=Jt(i);t===0&&r!==null?(eD(a,r,o,n),s==null?SS(e,r,h):Yd(e,r,h,s||null,!0)):t===1&&r!==null?(eD(a,r,o,n),Yd(e,r,h,s||null,!0)):t===2?tD(a,o,n,p=>{ev(e,h,l,p)}):t===3&&tD(a,o,n,()=>{e.destroyNode(h)}),u!=null&&zF(e,t,n,u,o,r,s)}}function PF(t,e){qS(t,e),e[xt]=null,e[un]=null}function OF(t,e,n,r,i,o){r[xt]=i,r[un]=e,Eh(t,r,n,1,i,o)}function qS(t,e){e[jn].changeDetectionScheduler?.notify(9),Eh(t,e,e[De],2,null,null)}function xF(t){let e=t[Is];if(!e)return oy(t[$],t);for(;e;){let n=null;if(Yt(e))n=e[Is];else{let r=e[mt];r&&(n=r)}if(!n){for(;e&&!e[cn]&&e!==t;)Yt(e)&&oy(e[$],e),e=e[$e];e===null&&(e=t),Yt(e)&&oy(e[$],e),n=e&&e[cn]}e=n}}function lv(t,e){let n=t[Wi],r=n.indexOf(e);n.splice(r,1)}function dv(t,e){if(Xr(e))return;let n=e[De];n.destroyNode&&Eh(t,e,n,3,null,null),xF(e)}function oy(t,e){if(Xr(e))return;let n=ne(null);try{e[Y]&=-129,e[Y]|=256,e[Qt]&&oc(e[Qt]),LF(t,e),FF(t,e),e[$].type===1&&e[De].destroy();let r=e[Jr];if(r!==null&&Zt(e[$e])){r!==e[$e]&&lv(r,e);let i=e[Un];i!==null&&i.detachView(t)}vy(e)}finally{ne(n)}}function tD(t,e,n,r){let i=t?.[_c];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);t&&Ps.add(t),zS(n,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),kF(t,r)}else t&&Ps.delete(t),r(!1)},i)}function kF(t,e){let n=t[_c]?.running;if(n){n.then(()=>{t[_c].running=void 0,Ps.delete(t),e(!0)});return}e(!1)}function FF(t,e){let n=t.cleanup,r=e[Es];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[Es]=null);let i=e[gr];if(i!==null){e[gr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[vc];if(o!==null){e[vc]=null;for(let s of o)s.destroy()}}function LF(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof to)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];ye(4,a,u);try{u.call(a)}finally{ye(5,a,u)}}else{ye(4,i,o);try{o.call(i)}finally{ye(5,i,o)}}}}}function VF(t,e,n){return jF(t,e.parent,n)}function jF(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xt];if(vr(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Er.None||i===Er.Emulated)return null}return dn(r,n)}function UF(t,e,n){return $F(t,e,n)}function BF(t,e,n){return t.type&40?dn(t,n):null}var $F=BF,nD;function hv(t,e,n,r){let i=VF(t,r,e),o=e[De],s=r.parent||e[un],a=UF(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)KC(o,i,n[u],a,!1);else KC(o,i,n,a,!1);nD!==void 0&&nD(o,r,e,n,i)}function Tc(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return Dy(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Tc(t,r);{let i=t[e.index];return Zt(i)?Dy(-1,i):Jt(i)}}else{if(n&128)return Tc(t,e.next);if(n&32)return sv(e,t)()||Jt(t[e.index]);{let r=GS(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Yr(t[Bt]);return Tc(i,r)}else return Tc(t,e.next)}}}return null}function GS(t,e){if(e!==null){let r=t[Bt][un],i=e.projection;return r.projection[i]}return null}function Dy(t,e){let n=mt+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Tc(r,i)}return e[Bn]}function fv(t,e,n,r,i,o,s){for(;n!=null;){let a=r[ln];if(n.type===128){n=n.next;continue}let u=r[n.index],l=n.type;if(s&&e===0&&(u&&Ns(Jt(u),r),n.flags|=2),!fh(n))if(l&8)fv(t,e,n.child,r,i,o,!1),Ds(e,t,a,i,u,n,o,r);else if(l&32){let h=sv(n,r),p;for(;p=h();)Ds(e,t,a,i,p,n,o,r);Ds(e,t,a,i,u,n,o,r)}else l&16?HF(t,e,r,n,i,o):Ds(e,t,a,i,u,n,o,r);n=s?n.projectionNext:n.next}}function Eh(t,e,n,r,i,o){fv(n,r,t.firstChild,e,i,o,!1)}function HF(t,e,n,r,i,o){let s=n[Bt],u=s[un].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ds(e,t,n[ln],i,h,r,o,n)}else{let l=u,h=s[$e];Kd(r)&&(l.flags|=128),fv(t,e,l,h,i,o,!0)}}function zF(t,e,n,r,i,o,s){let a=r[Bn],u=Jt(r);a!==u&&Ds(e,t,n,o,a,i,s);for(let l=mt;l<r.length;l++){let h=r[l];Eh(h[$],h,t,e,o,a)}}function qF(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),t.setStyle(n,r,i,o))}}function WS(t,e,n,r,i){let o=Ji(),s=r&2;try{ti(-1),s&&e.length>Pe&&VS(t,e,Pe,!1),ye(s?2:0,i,n),n(r,i)}finally{ti(o),ye(s?3:1,i,n)}}function KS(t,e,n){JF(t,e,n),(n.flags&64)===64&&XF(t,e,n)}function pv(t,e,n=dn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function GF(t,e,n,r){let o=r.get(Gy,nS)||n===Er.ShadowDom,s=t.selectRootElement(e,o);return WF(s),s}function WF(t){QS(t)}var QS=()=>null;function KF(t){BD(t)?AS(t):W1(t)}function YS(){QS=KF}function QF(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function ZS(t,e,n,r,i,o){let s=e[$];if(mv(t,s,e,n,r)){vr(t)&&ZF(e,t.index);return}t.type&3&&(n=QF(n)),YF(t,e,n,r,i,o)}function YF(t,e,n,r,i,o){if(t.type&3){let s=dn(t,e);r=o!=null?o(r,t.value||"",n):r,i.setProperty(s,n,r)}else t.type&12}function ZF(t,e){let n=hn(e,t);n[Y]&16||(n[Y]|=64)}function JF(t,e,n){let r=n.directiveStart,i=n.directiveEnd;vr(n)&&EF(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Gd(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],u=Cc(e,t,s,n);if(Ns(u,e),o!==null&&iL(e,s-r,u,a,n,o),$n(a)){let l=hn(n.index,e);l[gt]=Cc(e,t,s,n)}}}function XF(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=RC();try{ti(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Cd(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&eL(u,l)}}finally{ti(-1),Cd(s)}}function eL(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function tL(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];hF(e,o.selectors,!1)&&(r??=[],$n(o)?r.unshift(o):r.push(o))}return r}function nL(t,e,n,r,i,o){let s=dn(t,e);rL(e[De],s,o,t.value,n,r,i)}function rL(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?fc(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function iL(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Ty(r,n,u,l)}}function JS(t,e,n,r,i){let o=Pe+n,s=e[$],a=i(s,e,t,r,n);e[o]=a,Ts(t,!0);let u=t.type===2;return u?(RS(e[De],a,t),(vC()===0||wd(t))&&Ns(a,e),_C()):Ns(a,e),Md()&&(!u||!fh(t))&&hv(s,e,a,t),t}function XS(t){let e=t;return Hm()?TC():(e=e.parent,Ts(e,!1)),e}function gv(t,e){let n=t[ln];if(!n)return;let r;try{r=n.get($t,null)}catch{r=null}r?.(e)}function mv(t,e,n,r,i){let o=t.inputs?.[r],s=t.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Ty(p,n[l],h,i),a=!0}if(o)for(let u of o){let l=n[u],h=e.data[u];Ty(h,l,r,i),a=!0}return a}function oL(t,e){let n=hn(e,t),r=n[$];sL(r,n);let i=n[xt];i!==null&&n[Kt]===null&&(n[Kt]=mS(i,n[ln])),ye(18),yv(r,n,n[gt]),ye(19,n[gt])}function sL(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function yv(t,e,n){Sd(e);try{let r=t.viewQuery;r!==null&&wy(1,r,n);let i=t.template;i!==null&&WS(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Un]?.finishViewCreation(t),t.staticContentQueries&&wS(t,e),t.staticViewQueries&&wy(2,t.viewQuery,n);let o=t.components;o!==null&&aL(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[Y]&=-5,Ad()}}function aL(t,e){for(let n=0;n<e.length;n++)oL(t,e[n])}function vv(t,e,n,r){let i=ne(null);try{let o=e.tView,a=t[Y]&4096?4096:16,u=iv(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Jr]=l;let h=t[Un];return h!==null&&(u[Un]=h.createEmbeddedView(o)),yv(o,u,n),u}finally{ne(i)}}function Xd(t,e){return!e||e.firstChild===null||Kd(t)}function Ac(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Jt(o)),Zt(o)&&eA(o,r);let s=n.type;if(s&8)Ac(t,e,n.child,r);else if(s&32){let a=sv(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=GS(e,n);if(Array.isArray(a))r.push(...a);else{let u=Yr(e[Bt]);Ac(u[$],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function eA(t,e){for(let n=mt;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&Ac(r[$],r,i,e)}t[Bn]!==t[xt]&&e.push(t[Bn])}function tA(t){if(t[Gi]!==null){for(let e of t[Gi])e.impl.addSequence(e);t[Gi].length=0}}var nA=[];function cL(t){return t[Qt]??uL(t)}function uL(t){let e=nA.pop()??Object.create(dL);return e.lView=t,e}function lL(t){t.lView[Qt]!==t&&(t.lView=null,nA.push(t))}var dL=Z(O({},Jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{ws(t.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function hL(t){let e=t[Qt]??Object.create(fL);return e.lView=t,e}var fL=Z(O({},Jo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Yr(t.lView);for(;e&&!rA(e[$]);)e=Yr(e);e&&xm(e)},consumerOnSignalRead(){this.lView[Qt]=this}});function rA(t){return t.type!==2}function iA(t){if(t[vc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[vc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[Y]&8192)}}var pL=100;function oA(t,e=0){let r=t[jn].rendererFactory,i=!1;i||r.begin?.();try{gL(t,e)}finally{i||r.end?.()}}function gL(t,e){let n=zm();try{qm(!0),Sy(t,e);let r=0;for(;Ic(t);){if(r===pL)throw new F(103,!1);r++,Sy(t,1)}}finally{qm(n)}}function mL(t,e,n,r){if(Xr(e))return;let i=e[Y],o=!1,s=!1;Sd(e);let a=!0,u=null,l=null;o||(rA(t)?(l=cL(e),u=es(l)):Nl()===null?(a=!1,l=hL(e),u=es(l)):e[Qt]&&(oc(e[Qt]),e[Qt]=null));try{Om(e),CC(t.bindingStartIndex),n!==null&&WS(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let y=t.preOrderCheckHooks;y!==null&&Ld(e,y,null)}else{let y=t.preOrderHooks;y!==null&&Vd(e,y,0,null),ny(e,0)}if(s||yL(e),iA(e),sA(e,0),t.contentQueries!==null&&wS(t,e),!o)if(h){let y=t.contentCheckHooks;y!==null&&Ld(e,y)}else{let y=t.contentHooks;y!==null&&Vd(e,y,1),ny(e,1)}_L(t,e);let p=t.components;p!==null&&cA(e,p,0);let m=t.viewQuery;if(m!==null&&wy(2,m,r),!o)if(h){let y=t.viewCheckHooks;y!==null&&Ld(e,y)}else{let y=t.viewHooks;y!==null&&Vd(e,y,2),ny(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Id]){for(let y of e[Id])y();e[Id]=null}o||(tA(e),e[Y]&=-73)}catch(h){throw o||ws(e),h}finally{l!==null&&(rc(l,u),a&&lL(l)),Ad()}}function sA(t,e){for(let n=zD(t);n!==null;n=qD(n))for(let r=mt;r<n.length;r++){let i=n[r];aA(i,e)}}function yL(t){for(let e=zD(t);e!==null;e=qD(e)){if(!(e[Y]&2))continue;let n=e[Wi];for(let r=0;r<n.length;r++){let i=n[r];xm(i)}}}function vL(t,e,n){ye(18);let r=hn(e,t);aA(r,n),ye(19,r[gt])}function aA(t,e){Td(t)&&Sy(t,e)}function Sy(t,e){let r=t[$],i=t[Y],o=t[Qt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ic(o)),s||=!1,o&&(o.dirty=!1),t[Y]&=-9217,s)mL(r,t,r.template,t[gt]);else if(i&8192){let a=ne(null);try{iA(t),sA(t,1);let u=r.components;u!==null&&cA(t,u,1),tA(t)}finally{ne(a)}}}function cA(t,e,n){for(let r=0;r<e.length;r++)vL(t,e[r],n)}function _L(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ti(~i);else{let o=i,s=n[++r],a=n[++r];AC(s,o);let u=e[o];ye(24,u),a(2,u),ye(25,u)}}}finally{ti(-1)}}function Ih(t,e){let n=zm()?64:1088;for(t[jn].changeDetectionScheduler?.notify(e);t;){t[Y]|=n;let r=Yr(t);if(Ki(t)&&!r)return t;t=r}return null}function uA(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function EL(t,e){let n=mt+e;if(n<t.length)return t[n]}function _v(t,e,n,r=!0){let i=e[$];if(IL(i,e,t,n),r){let s=Dy(n,t),a=e[De],u=a.parentNode(t[Bn]);u!==null&&OF(i,t[un],a,e,u,s)}let o=e[Kt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function lA(t,e){let n=eh(t,e);return n!==void 0&&dv(n[$],n),n}function eh(t,e){if(t.length<=mt)return;let n=mt+e,r=t[n];if(r){let i=r[Jr];i!==null&&i!==t&&lv(i,r),e>0&&(t[n-1][cn]=r[cn]);let o=pc(t,mt+e);PF(r[$],r);let s=o[Un];s!==null&&s.detachView(o[$]),r[$e]=null,r[cn]=null,r[Y]&=-129}return r}function IL(t,e,n,r){let i=mt+r,o=n.length;r>0&&(n[i-1][cn]=e),r<o-mt?(e[cn]=n[i],wm(n,mt+r,e)):(n.push(e),e[cn]=null),e[$e]=n;let s=e[Jr];s!==null&&n!==s&&dA(s,e);let a=e[Un];a!==null&&a.insertView(t),bd(e),e[Y]|=128}function dA(t,e){let n=t[Wi],r=e[$e];if(Yt(r))t[Y]|=2;else{let i=r[$e][Bt];e[Bt]!==i&&(t[Y]|=2)}n===null?t[Wi]=[e]:n.push(e)}var ri=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,n=e[$];return Ac(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return Xr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[$e];if(Zt(e)){let n=e[Ec],r=n?n.indexOf(this):-1;r>-1&&(eh(e,r),pc(n,r))}this._attachedToViewContainer=!1}dv(this._lView[$],this._lView)}onDestroy(e){km(this._lView,e)}markForCheck(){Ih(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){bd(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,oA(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new F(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ki(this._lView),n=this._lView[Jr];n!==null&&!e&&lv(n,this._lView),qS(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new F(902,!1);this._appRef=e;let n=Ki(this._lView),r=this._lView[Jr];r!==null&&!n&&dA(r,this._lView),bd(this._lView)}};var Os=(()=>{class t{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=wL;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=vv(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new ri(o)}}return t})();function wL(){return Ev(st(),de())}function Ev(t,e){return t.type&4?new Os(e,t,Vs(t,e)):null}function wh(t,e,n,r,i){let o=t.data[e];if(o===null)o=TL(t,e,n,r,i),SC()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=wC();o.injectorIndex=s===null?-1:s.injectorIndex}return Ts(o,!0),o}function TL(t,e,n,r,i){let o=$m(),s=Hm(),a=s?o:o&&o.parent,u=t.data[e]=CL(t,a,n,e,r,i);return bL(t,u,o,s),u}function bL(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function CL(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return jm()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var DL=new RegExp(`^(\\d+)*(${KD}|${WD})*(.*)`);function SL(t){let e=t.match(DL),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[u,l,h]of o.matchAll(/(f|n)(\d*)/g)){let p=parseInt(h,10)||1;a.push(l,p)}return[s,...a]}function AL(t){return!t.prev&&t.parent?.type===8}function sy(t){return t.index-Pe}function RL(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Th(t,e,n,r){let i=sy(r),o=RL(t,i);if(o===void 0){let s=t.data[JD];if(s?.[i])o=NL(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,u=r.prev??r.parent;if(AL(r)){let l=sy(r.parent);o=Iy(t,l)}else{let l=dn(u,n);if(a)o=l.firstChild;else{let h=sy(u),p=Iy(t,h);if(u.type===2&&p){let y=Zy(t,h)+1;o=bh(y,p)}else o=l.nextSibling}}}}return o}function bh(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function ML(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case U1:n=n.firstChild;break;case B1:n=n.nextSibling;break}}return n}function NL(t,e){let[n,...r]=SL(t),i;if(n===WD)i=e[Bt][xt];else if(n===KD)i=OS(e[Bt][xt]);else{let o=Number(n);i=Jt(e[o+Pe])}return ML(i,r)}var PL=!1;function hA(t){PL=t}function OL(t){let e=t[Kt];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[De];for(let o of r.values())xL(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function xL(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Pe);i&&ev(t,i,!1)}}function Iv(t){let e=t[Tn]??[],r=t[$e][De],i=[];for(let o of e)o.data[XD]!==void 0?i.push(o):fA(o,r);t[Tn]=i}function kL(t){let{lContainer:e}=t,n=e[Tn];if(n===null)return;let i=e[$e][De];for(let o of n)fA(o,i)}function fA(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Dc];for(;n<i;){let o=r.nextSibling;ev(e,r,!1),r=o,n++}}}function Ch(t){Iv(t);let e=t[xt];Yt(e)&&th(e);for(let n=mt;n<t.length;n++)th(t[n])}function th(t){OL(t);let e=t[$];for(let n=Pe;n<e.bindingStartIndex;n++)if(Zt(t[n])){let r=t[n];Ch(r)}else Yt(t[n])&&th(t[n])}function wv(t){let e=t._views;for(let n of e){let r=yS(n);r!==null&&r[xt]!==null&&(Yt(r)?th(r):Ch(r))}}function FL(t,e,n,r){t!==null&&(n.cleanup(e),Ch(t.lContainer),wv(r))}function LL(t,e){let n=[];for(let r of e)for(let i=0;i<(r[zy]??1);i++){let o={data:r,firstChild:null};r[Dc]>0&&(o.firstChild=t,t=bh(r[Dc],t)),n.push(o)}return[t,n]}var pA=()=>null,gA=()=>null;function mA(){pA=VL,gA=jL}function VL(t,e){return yA(t,e)?t[Tn].shift():(Iv(t),null)}function Ay(t,e){return pA(t,e)}function jL(t,e,n){if(e.tView.ssrId===null)return null;let r=Ay(t,e.tView.ssrId);return n[$].firstUpdatePass&&r===null&&BL(n,e),r}function UL(t,e,n){return gA(t,e,n)}function BL(t,e){let n=e;for(;n;){if(rD(t,n))return;if((n.flags&256)===256)break;n=n.prev}for(n=e.next;n&&(n.flags&512)===512;){if(rD(t,n))return;n=n.next}}function yA(t,e){let n=t[Tn];return!e||n===null||n.length===0?!1:n[0].data[ZD]===e}function rD(t,e){let n=e.tView?.ssrId;if(n==null)return!1;let r=t[e.index];return Zt(r)&&yA(r,n)?(Iv(r),!0):!1}var vA=class{},Dh=class{},Ry=class{resolveComponentFactory(e){throw new F(917,!1)}},Lc=class{static NULL=new Ry},no=class{},oi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>$L()}return t})();function $L(){let t=de(),e=st(),n=hn(e.index,t);return(Yt(n)?n:t)[De]}var _A=(()=>{class t{static \u0275prov=U({token:t,providedIn:"root",factory:()=>null})}return t})();var Bd={},As=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){let i=this.injector.get(e,Bd,r);return i!==Bd||n===Bd?i:this.parentInjector.get(e,n,r)}};function nh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=hm(i,a);else if(o==2){let u=a,l=e[++s];r=hm(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function fe(t,e=0){let n=de();if(n===null)return J(t,e);let r=st();return FD(r,n,pt(t),e)}function HL(t,e,n,r,i){let o=r===null?null:{"":-1},s=i(t,n);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}GL(t,e,n,a,o,u,l)}o!==null&&r!==null&&zL(n,r,o)}function zL(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new F(-301,!1);r.push(e[i],o)}}function qL(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function GL(t,e,n,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&$n(y)&&(u=!0,qL(t,n,m)),my(Gd(n,e),t,y.type)}JL(n,t.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=LS(t,e,a,null);a>0&&(n.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(n.mergedAttrs=Ms(n.mergedAttrs,y.hostAttrs),KL(t,n,e,p,y),ZL(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);n.directiveToIndex.set(y.type,[p,M+n.directiveStart,R+n.directiveStart])}else(o===null||!o.has(y))&&n.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(n.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(n.flags|=64);let b=y.type.prototype;!l&&(b.ngOnChanges||b.ngOnInit||b.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),l=!0),!h&&(b.ngOnChanges||b.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),h=!0),p++}WL(t,n,o)}function WL(t,e,n){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=t.data[r];if(n===null||!n.has(i))iD(0,e,i,r),iD(1,e,i,r),sD(e,r,!1);else{let o=n.get(i);oD(0,e,o,r),oD(1,e,o,r),sD(e,r,!0)}}}function iD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;t===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),EA(e,o)}}function oD(t,e,n,r){let i=t===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;t===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),EA(e,s)}}function EA(t,e){e==="class"?t.flags|=8:e==="style"&&(t.flags|=16)}function sD(t,e,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=t;if(r===null||!n&&i===null||n&&o===null||nv(t)){t.initialInputs??=[],t.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!n&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(n&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}t.initialInputs??=[],t.initialInputs.push(s)}function KL(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ui(i.type,!0)),s=new to(o,$n(i),fe,null);t.blueprint[r]=s,n[r]=s,QL(t,e,r,LS(t,n,i.hostVars,Wn),i)}function QL(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;YL(s)!=a&&s.push(a),s.push(n,r,o)}}function YL(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ZL(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$n(e)&&(n[""]=t)}}function JL(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IA(t,e,n,r,i,o,s,a){let u=e[$],l=u.consts,h=ei(l,s),p=wh(u,t,n,r,h);return o&&HL(u,e,p,ei(l,a),i),p.mergedAttrs=Ms(p.mergedAttrs,p.attrs),p.attrs!==null&&nh(p,p.attrs,!1),p.mergedAttrs!==null&&nh(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function wA(t,e){g1(t,e),Nm(e)&&t.queries.elementEnd(e)}function XL(t,e,n,r,i,o){let s=e.consts,a=ei(s,i),u=wh(e,t,n,r,a);if(u.mergedAttrs=Ms(u.mergedAttrs,u.attrs),o!=null){let l=ei(s,o);u.localNames=[];for(let h=0;h<l.length;h+=2)u.localNames.push(l[h],-1)}return u.attrs!==null&&nh(u,u.attrs,!1),u.mergedAttrs!==null&&nh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function eV(t,e,n){return t[e]=n}function tV(t,e){return t[e]}function js(t,e,n){if(n===Wn)return!1;let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ay(t,e,n){return function r(i){let o=vr(t)?hn(t.index,e):e;Ih(o,5);let s=e[gt],a=aD(e,s,n,i),u=r.__ngNextListenerFn__;for(;u;)a=aD(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function aD(t,e,n,r){let i=ne(null);try{return ye(6,e,n),n(r)!==!1}catch(o){return gv(t,o),!1}finally{ye(7,e,n),ne(i)}}function nV(t,e,n,r,i,o,s,a){let u=wd(t),l=!1,h=null;if(!r&&u&&(h=iV(e,n,o,t.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=dn(t,n),m=r?r(p):p;$1(n,m,o,a);let y=i.listen(m,o,a);if(!rV(o)){let b=r?M=>r(Jt(M[t.index])):t.index;TA(b,e,n,o,a,y,!1)}}return l}function rV(t){return t.startsWith("animation")||t.startsWith("transition")}function iV(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Es],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function TA(t,e,n,r,i,o,s){let a=e.firstCreatePass?Lm(e):null,u=Fm(n),l=u.length;u.push(i,o),a&&a.push(r,t,l,(l+1)*(s?-1:1))}function cD(t,e,n,r,i,o){let s=e[n],a=e[$],l=a.data[n].outputs[r],p=s[l].subscribe(o);TA(t.index,a,e,i,o,p,!0)}var My=Symbol("BINDING");var rh=class extends Lc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=yr(e);return new xs(n,this.ngModule)}};function oV(t){return Object.keys(t).map(e=>{let[n,r,i]=t[e],o={propName:n,templateName:e,isSignal:(r&yh.SignalBased)!==0};return i&&(o.transform=i),o})}function sV(t){return Object.keys(t).map(e=>({propName:t[e],templateName:e}))}function aV(t,e,n){let r=e instanceof Be?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new As(n,r):n}function cV(t){let e=t.get(no,null);if(e===null)throw new F(407,!1);let n=t.get(_A,null),r=t.get(Fn,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function uV(t,e){let n=bA(t);return Xy(e,n,n==="svg"?dC:n==="math"?hC:null)}function bA(t){return(t.selectors[0][0]||"div").toLowerCase()}var xs=class extends Dh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=oV(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=sV(this.componentDef.outputs),this.cachedOutputs}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=mF(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i,o,s){ye(22);let a=ne(null);try{let u=this.componentDef,l=lV(r,u,s,o),h=aV(u,i||this.ngModule,e),p=cV(h),m=p.rendererFactory.createRenderer(null,u),y=r?GF(m,r,u.encapsulation,h):uV(u,m),b=s?.some(uD)||o?.some(k=>typeof k!="function"&&k.bindings.some(uD)),M=iv(null,l,null,512|FS(u),null,null,p,m,h,null,mS(y,h,!0));M[Pe]=y,Sd(M);let R=null;try{let k=IA(Pe,M,2,"#host",()=>l.directiveRegistry,!0,0);RS(m,y,k),Ns(y,M),KS(l,M,k),TS(l,k,M),wA(l,k),n!==void 0&&hV(k,this.ngContentSelectors,n),R=hn(k.index,M),M[gt]=R[gt],yv(l,M,null)}catch(k){throw R!==null&&vy(R),vy(M),k}finally{ye(23),Ad()}return new ih(this.componentType,M,!!b)}finally{ne(a)}}};function lV(t,e,n,r){let i=t?["ng-version","20.3.15"]:yF(e.selectors[0]),o=null,s=null,a=0;if(n)for(let h of n)a+=h[My].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[My].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=_d(p);u.push(m)}return rv(0,null,dV(o,s),1,a,u,null,null,null,[i],null)}function dV(t,e){return!t&&!e?null:n=>{if(n&1&&t)for(let r of t)r.create();if(n&2&&e)for(let r of e)r.update()}}function uD(t){let e=t[My].kind;return e==="input"||e==="twoWay"}var ih=class extends vA{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Qi(n[$],Pe),this.location=Vs(this._tNode,n),this.instance=hn(this._tNode.index,n)[gt],this.hostView=this.changeDetectorRef=new ri(n,void 0),this.componentType=e}setInput(e,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let i=this._rootLView,o=mv(r,i[$],i,e,n);this.previousInputValues.set(e,n);let s=hn(r.index,i);Ih(s,1)}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function hV(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var so=(()=>{class t{static __NG_ELEMENT_ID__=fV}return t})();function fV(){let t=st();return DA(t,de())}var pV=so,CA=class extends pV{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Vs(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){let e=By(this._hostTNode,this._hostLView);if(MD(e)){let n=qd(e,this._hostLView),r=zd(e),i=n[$].data[r+8];return new eo(i,n)}else return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-mt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ay(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Xd(this._hostTNode,s)),a}createComponent(e,n,r,i,o,s,a){let u=e&&!l1(e),l;if(u)l=n;else{let R=n||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new xs(yr(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(Be,null);k&&(o=k)}let m=yr(h.componentType??{}),y=Ay(this._lContainer,m?.id??null),b=y?.firstChild??null,M=h.create(p,i,b,o,s,a);return this.insertImpl(M.hostView,l,Xd(this._hostTNode,y)),M}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(pC(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[$e],l=new CA(u,u[un],u[$e]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return _v(s,i,o,r),e.attachToViewContainerRef(),wm(cy(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=eh(this._lContainer,n);r&&(pc(cy(this._lContainer),n),dv(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=eh(this._lContainer,n);return r&&pc(cy(this._lContainer),n)!=null?new ri(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lD(t){return t[Ec]}function cy(t){return t[Ec]||(t[Ec]=[])}function DA(t,e){let n,r=e[t.index];return Zt(r)?n=r:(n=uA(r,e,null,t),e[t.index]=n,ov(e,n)),SA(n,e,t,r),new CA(n,t,e)}function gV(t,e){let n=t[De],r=n.createComment(""),i=dn(e,t),o=n.parentNode(i);return Yd(n,o,r,n.nextSibling(i),!1),r}var SA=AA,Tv=()=>!1;function mV(t,e,n){return Tv(t,e,n)}function AA(t,e,n,r){if(t[Bn])return;let i;n.type&8?i=Jt(r):i=gV(e,n),t[Bn]=i}function yV(t,e,n){if(t[Bn]&&t[Tn])return!0;let r=n[Kt],i=e.index-Pe;if(!r||$D(e)||ES(r,i))return!1;let s=Iy(r,i),a=r.data[dh]?.[i],[u,l]=LL(s,a);return t[Bn]=u,t[Tn]=l,!0}function vV(t,e,n,r){Tv(t,n,e)||AA(t,e,n,r)}function RA(){SA=vV,Tv=yV}var Ny=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Py=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)bv(e,n).matches!==null&&this.queries[n].setDirty()}},Oy=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DV(e):this.predicate=e}},xy=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},ky=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,_V(n,o)),this.matchTNodeWithReadOption(e,n,jd(n,e,o,!1,!1))}else r===Os?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,jd(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===fn||i===so||i===Os&&n.type&4)this.addMatch(n.index,-2);else{let o=jd(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function _V(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function EV(t,e){return t.type&11?Vs(t,e):t.type&4?Ev(t,e):null}function IV(t,e,n,r){return n===-1?EV(e,t):n===-2?wV(t,e,r):Cc(t,t[$],n,e)}function wV(t,e,n){if(n===fn)return Vs(e,t);if(n===Os)return Ev(e,t);if(n===so)return DA(e,t)}function MA(t,e,n,r){let i=e[Un].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push(IV(e,h,s[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Fy(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=MA(t,e,i,n);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=mt;p<h.length;p++){let m=h[p];m[Jr]===m[$e]&&Fy(m[$],m,l,r)}if(h[Wi]!==null){let p=h[Wi];for(let m=0;m<p.length;m++){let y=p[m];Fy(y[$],y,l,r)}}}}}return r}function TV(t,e){return t[Un].queries[e].queryList}function bV(t,e,n){let r=new Wd((n&4)===4);return yC(t,e,r,r.destroy),(e[Un]??=new Py).queries.push(new Ny(r))-1}function CV(t,e,n,r){let i=St();if(i.firstCreatePass){let o=st();SV(i,new Oy(e,n,r),o.index),AV(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return bV(i,de(),n)}function DV(t){return t.split(",").map(e=>e.trim())}function SV(t,e,n){t.queries===null&&(t.queries=new xy),t.queries.track(new ky(e,n))}function AV(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function bv(t,e){return t.queries.getByIndex(e)}function RV(t,e){let n=t[$],r=bv(n,e);return r.crossesNgTemplate?Fy(n,t,e,[]):MA(n,t,r,e)}var ks=class{},Sh=class{};var oh=class extends ks{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new rh(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Cm(e);this._bootstrapComponents=xS(o.bootstrap),this._r3Injector=Ym(e,n,[{provide:ks,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver},...r],mr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},sh=class extends Sh{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new oh(this.moduleType,e,[])}};var Rc=class extends ks{injector;componentFactoryResolver=new rh(this);instance=null;constructor(e){super();let n=new $i([...e.providers,{provide:ks,useValue:this},{provide:Lc,useValue:this.componentFactoryResolver}],e.parent||mc(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Us(t,e,n=null){return new Rc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var MV=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Ed(!1,n.type),i=r.length>0?Us([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t(J(Be))})}return t})();function yt(t){return Ls(()=>{let e=NA(t),n=Z(O({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===$y.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(MV).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Er.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&pn("NgStandalone"),PA(n);let r=t.dependencies;return n.directiveDefs=dD(r,NV),n.pipeDefs=dD(r,Dm),n.id=xV(n),n})}function NV(t){return yr(t)||_d(t)}function Kn(t){return Ls(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function PV(t,e){if(t==null)return Zr;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=yh.None,u=null),n[o]=[r,a,u],e[o]=s}return n}function OV(t){if(t==null)return Zr;let e={};for(let n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}function rt(t){return Ls(()=>{let e=NA(t);return PA(e),e})}function NA(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputConfig:t.inputs||Zr,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:PV(t.inputs,e),outputs:OV(t.outputs),debugInfo:null}}function PA(t){t.features?.forEach(e=>e(t))}function dD(t,e){return t?()=>{let n=typeof t=="function"?t():t,r=[];for(let i of n){let o=e(i);o!==null&&r.push(o)}return r}:null}function xV(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kV(t){return Object.getPrototypeOf(t.prototype).constructor}function Sn(t){let e=kV(t.type),n=!0,r=[t];for(;e;){let i;if($n(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new F(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=uy(t.inputs),s.declaredInputs=uy(t.declaredInputs),s.outputs=uy(t.outputs);let a=i.hostBindings;a&&UV(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&VV(t,u),l&&jV(t,l),FV(t,i),Kb(t.outputs,i.outputs),$n(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Sn&&(n=!1)}}e=Object.getPrototypeOf(e)}LV(r)}function FV(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n])}}function LV(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ms(i.hostAttrs,n=Ms(n,i.hostAttrs))}}function uy(t){return t===Zr?{}:t===Wt?[]:t}function VV(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function jV(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function UV(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function BV(t,e,n,r,i,o,s,a){if(n.firstCreatePass){t.mergedAttrs=Ms(t.mergedAttrs,t.attrs);let h=t.tView=rv(2,t,i,o,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,t),h.queries=n.queries.embeddedTView(t))}a&&(t.flags|=a),Ts(t,!1);let u=xA(n,e,t,r);Md()&&hv(n,e,u,t),Ns(u,e);let l=uA(u,e,u,t);e[r+Pe]=l,ov(e,l),mV(l,t,e)}function OA(t,e,n,r,i,o,s,a,u,l,h){let p=n+Pe,m;if(e.firstCreatePass){if(m=wh(e,p,4,s||null,a||null),l!=null){let y=ei(e.consts,l);m.localNames=[];for(let b=0;b<y.length;b+=2)m.localNames.push(y[b],-1)}}else m=e.data[p];return BV(m,t,e,n,r,i,o,u),l!=null&&pv(t,m,h),m}var xA=kA;function kA(t,e,n,r){return _r(!0),e[De].createComment("")}function $V(t,e,n,r){let i=!gh(e,n);_r(i);let o=e[Kt]?.data[YD]?.[r]??null;if(o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o),i)return kA(t,e);let s=e[Kt],a=Th(s,t,e,n);ph(s,r,a);let u=Zy(s,r);return bh(u,a)}function FA(){xA=$V}var Xt=(function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t})(Xt||{}),hD=0,HV=1,Qe=(function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t})(Qe||{});var zV=0,Vc=1;var qV=4,GV=5;var WV=7,Rs=8,KV=9,Cv=(function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t})(Cv||{});function $d(t,e){let n=YV(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function QV(t){$d(1,t),$d(0,t),$d(2,t)}function YV(t){let e=qV;return t===1?e=GV:t===2&&(e=KV),e}function LA(t){return t+1}function Bs(t,e){let n=t[$],r=LA(e.index);return t[r]}function jc(t,e){let n=LA(e.index);return t.data[n]}function ZV(t,e,n){let r=e[$],i=jc(r,n);switch(t){case Qe.Complete:return i.primaryTmplIndex;case Qe.Loading:return i.loadingTmplIndex;case Qe.Error:return i.errorTmplIndex;case Qe.Placeholder:return i.placeholderTmplIndex;default:return null}}function fD(t,e){return e===Qe.Placeholder?t.placeholderBlockConfig?.[hD]??null:e===Qe.Loading?t.loadingBlockConfig?.[hD]??null:null}function JV(t){return t.loadingBlockConfig?.[HV]??null}function pD(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function XV(t,e){let n=e.primaryTmplIndex+Pe;return Qi(t,n)}var ej=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Us(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:t,providedIn:"environment",factory:()=>new t})}return t})();var VA=new L("");function ly(t,e,n){return t.get(ej).getOrCreateInjector(e,t,n,"")}function tj(t,e,n){if(t instanceof As){let i=t.injector,o=t.parentInjector,s=ly(o,e,n);return new As(i,s)}let r=t.get(Be);if(r!==t){let i=ly(r,e,n);return new As(t,i)}return ly(t,e,n)}function Xi(t,e,n,r=!1){let i=n[$e],o=i[$];if(Xr(i))return;let s=Bs(i,e),a=s[Vc],u=s[WV];if(!(u!==null&&t<u)&&gD(a,t)&&gD(s[zV]??-1,t)){let l=jc(o,e),p=!r&&!0&&(JV(l)!==null||fD(l,Qe.Loading)!==null||fD(l,Qe.Placeholder))?ij:rj;try{p(t,s,n,e,i)}catch(m){gv(i,m)}}}function nj(t,e){let n=t[Tn]?.findIndex(i=>i.data[eS]===e[Vc])??-1;return{dehydratedView:n>-1?t[Tn][n]:null,dehydratedViewIx:n}}function rj(t,e,n,r,i){ye(20);let o=ZV(t,i,r);if(o!==null){e[Vc]=t;let s=i[$],a=o+Pe,u=Qi(s,a),l=0;lA(n,l);let h;if(t===Qe.Complete){let b=jc(s,r),M=b.providers;M&&M.length>0&&(h=tj(i[ln],b,M))}let{dehydratedView:p,dehydratedViewIx:m}=nj(n,e),y=vv(i,u,null,{injector:h,dehydratedView:p});if(_v(n,y,l,Xd(u,p)),Ih(y,2),m>-1&&n[Tn]?.splice(m,1),(t===Qe.Complete||t===Qe.Error)&&Array.isArray(e[Rs])){for(let b of e[Rs])b();e[Rs]=null}}ye(21)}function gD(t,e){return t<e}function mD(t,e,n){t.loadingPromise.then(()=>{t.loadingState===Xt.COMPLETE?Xi(Qe.Complete,e,n):t.loadingState===Xt.FAILED&&Xi(Qe.Error,e,n)})}var ij=null;var Ah=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var Dv=new L("");function ao(t){return!!t&&typeof t.then=="function"}function jA(t){return!!t&&typeof t.subscribe=="function"}var Sv=new L("");function Rh(t){return ot([{provide:Sv,multi:!0,useValue:t}])}var Av=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=S(Sv,{optional:!0})??[];injector=S(Ve);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Ke(this.injector,i);if(ao(o))n.push(o);else if(jA(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),si=new L("");function UA(){kg(()=>{let t="";throw new F(600,t)})}function BA(t){return t.isBoundToModule}var oj=10;var at=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=S($t);afterRenderManager=S(uv);zonelessEnabled=S(Cs);rootEffectScheduler=S(ty);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=S(Cn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(B(n=>!n))}constructor(){S(oo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=S(Be);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Ve.NULL){return this._injector.get(ge).run(()=>{ye(10);let s=n instanceof Dh;if(!this._injector.get(Av).done){let b="";throw new F(405,b)}let u;s?u=n:u=this._injector.get(Lc).resolveComponentFactory(n),this.componentTypes.push(u.componentType);let l=BA(u)?void 0:this._injector.get(ks),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Dv,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),bc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),ye(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ye(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(vh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new F(101,!1);let n=ne(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ne(n),this.afterTick.next(),ye(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(no,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<oj;)ye(14),this.synchronizeOnce(),ye(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ic(i))continue;let o=r&&!this.zonelessEnabled?0:1;oA(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ic(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;bc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(si,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>bc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new F(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bc(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function sj(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function $A(t,e,n){let r=e[ln],i=e[$];if(t.loadingState!==Xt.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Bs(e,n),s=XV(i,t);t.loadingState=Xt.IN_PROGRESS,$d(1,o);let a=t.dependencyResolverFn,u=r.get(ni).add();return a?(t.loadingPromise=Promise.allSettled(a()).then(l=>{let h=!1,p=[],m=[];for(let y of l)if(y.status==="fulfilled"){let b=y.value,M=yr(b)||_d(b);if(M)p.push(M);else{let R=Dm(b);R&&m.push(R)}}else{h=!0;break}if(h){if(t.loadingState=Xt.FAILED,t.errorTmplIndex===null){let b=new F(-750,!1);gv(e,b)}}else{t.loadingState=Xt.COMPLETE;let y=s.tView;if(p.length>0){y.directiveRegistry=pD(y.directiveRegistry,p);let b=p.map(R=>R.type),M=Ed(!1,...b);t.providers=M}m.length>0&&(y.pipeRegistry=pD(y.pipeRegistry,m))}}),t.loadingPromise.finally(()=>{t.loadingPromise=null,u()})):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=Xt.COMPLETE,u()}),t.loadingPromise)}function aj(t,e){return e[ln].get(VA,null,{optional:!0})?.behavior!==Cv.Manual}function cj(t,e,n){let r=e[$],i=e[n.index];if(!aj(t,e))return;let o=Bs(e,n),s=jc(r,n);switch(QV(o),s.loadingState){case Xt.NOT_STARTED:Xi(Qe.Loading,n,i),$A(s,e,n),s.loadingState===Xt.IN_PROGRESS&&mD(s,n,i);break;case Xt.IN_PROGRESS:Xi(Qe.Loading,n,i),mD(s,n,i);break;case Xt.COMPLETE:Xi(Qe.Complete,n,i);break;case Xt.FAILED:Xi(Qe.Error,n,i);break;default:}}async function HA(t,e,n){let r=t.get(hh);if(r.hydrating.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=Y1(e,t);if(s.length===0)return;o!==null&&s.shift(),dj(r,s),o!==null&&await o;let a=s[0];r.has(a)?await yD(t,s,n):r.awaitParentBlock(a,async()=>await yD(t,s,n))}async function yD(t,e,n){let r=t.get(hh),i=r.hydrating,o=t.get(Cn),s=o.add();for(let u=0;u<e.length;u++){let l=e[u],h=r.get(l);if(h!=null){if(await fj(h),await hj(t),uj(h)){kL(h),vD(e.slice(u),r);break}i.get(l).resolve()}else{lj(u,e,r),vD(e.slice(u),r);break}}let a=e[e.length-1];await i.get(a)?.promise,o.remove(s),n&&n(e),FL(r.get(a),e,r,t.get(at))}function uj(t){return Bs(t.lView,t.tNode)[Vc]===Qe.Error}function lj(t,e,n){let r=t-1,i=r>-1?n.get(e[r]):null;i&&Ch(i.lContainer)}function vD(t,e){let n=e.hydrating;for(let r in t)n.get(r)?.reject();e.cleanup(t)}function dj(t,e){for(let n of e)t.hydrating.set(n,sj())}function hj(t){return new Promise(e=>_h(e,{injector:t}))}async function fj(t){let{tNode:e,lView:n}=t,r=Bs(n,e);return new Promise(i=>{pj(r,i),cj(2,n,e)})}function pj(t,e){Array.isArray(t[Rs])||(t[Rs]=[]),t[Rs].push(e)}function co(t,e,n,r){let i=de(),o=bs();if(js(i,o,e)){let s=St(),a=Rd();nL(a,i,t,e,n,r)}return co}var dY=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Tr(t,e,n,r,i,o,s,a){pn("NgControlFlow");let u=de(),l=St(),h=ei(l.consts,o);return OA(u,l,t,e,n,r,i,h,256,s,a),Rv}function Rv(t,e,n,r,i,o,s,a){pn("NgControlFlow");let u=de(),l=St(),h=ei(l.consts,o);return OA(u,l,t,e,n,r,i,h,512,s,a),Rv}function br(t,e){pn("NgControlFlow");let n=de(),r=bs(),i=n[r]!==Wn?n[r]:-1,o=i!==-1?_D(n,Pe+i):void 0,s=0;if(js(n,r,t)){let a=ne(null);try{if(o!==void 0&&lA(o,s),t!==-1){let u=Pe+t,l=_D(n,u),h=gj(n[$],u),p=UL(l,h,n),m=vv(n,h,e,{dehydratedView:p});_v(l,m,s,Xd(h,p))}}finally{ne(a)}}else if(o!==void 0){let a=EL(o,s);a!==void 0&&(a[gt]=e)}}function _D(t,e){return t[e]}function gj(t,e){return Qi(t,e)}function Cr(t,e,n){let r=de(),i=bs();if(js(r,i,e)){let o=St(),s=Rd();ZS(s,r,t,e,r[De],n)}return Cr}function ED(t,e,n,r,i){mv(e,t,n,i?"class":"style",r)}function X(t,e,n,r){let i=de(),o=i[$],s=t+Pe,a=o.firstCreatePass?IA(s,i,2,e,tL,EC(),n,r):o.data[s];if(JS(a,i,t,e,Mv),wd(a)){let u=i[$];KS(u,i,a),TS(u,a,i)}return r!=null&&pv(i,a),X}function ve(){let t=St(),e=st(),n=XS(e);return t.firstCreatePass&&wA(t,n),Um(n)&&Bm(),Vm(),n.classesWithoutHost!=null&&y1(n)&&ED(t,n,de(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&v1(n)&&ED(t,n,de(),n.stylesWithoutHost,!1),ve}function Se(t,e,n,r){return X(t,e,n,r),ve(),Se}function ai(t,e,n,r){let i=de(),o=i[$],s=t+Pe,a=o.firstCreatePass?XL(s,o,2,e,n,r):o.data[s];return JS(a,i,t,e,Mv),r!=null&&pv(i,a),ai}function ci(){let t=st(),e=XS(t);return Um(e)&&Bm(),Vm(),ci}var Mv=(t,e,n,r,i)=>(_r(!0),Xy(e[De],r,Qm()));function mj(t,e,n,r,i){let o=!gh(e,n);if(_r(o),o)return Xy(e[De],r,Qm());let s=e[Kt],a=Th(s,t,e,n);return _S(s,i)&&ph(s,i,a.nextSibling),s&&(UD(n)||BD(a))&&vr(n)&&(IC(n),AS(a)),a}function zA(){Mv=mj}var yj=(t,e,n,r,i)=>(_r(!0),DS(e[De],""));function vj(t,e,n,r,i){let o,s=!gh(e,n);if(_r(s),s)return DS(e[De],"");let a=e[Kt],u=Th(a,t,e,n),l=K1(a,i);return ph(a,i,u),o=bh(l,u),o}function qA(){yj=vj}function Uc(){return de()}var Bc="en-US";var _j=Bc;function GA(t){typeof t=="string"&&(_j=t.toLowerCase().replace(/_/g,"-"))}function kt(t,e,n){let r=de(),i=St(),o=st();return WA(i,r,r[De],o,t,e,n),kt}function WA(t,e,n,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=ay(r,e,o),nV(r,t,e,s,n,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=ay(r,e,o),cD(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=ay(r,e,o),cD(r,e,p,i,i,u)}}function An(t=1){return xC(t)}function Nv(t,e,n,r){CV(t,e,n,r)}function Pv(t){let e=de(),n=St(),r=Gm();Dd(r+1);let i=bv(n,r);if(t.dirty&&fC(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=RV(e,r);t.reset(o,N1),t.notifyOnChanges()}return!0}return!1}function Ov(){return TV(de(),Gm())}function Fd(t,e){return t<<17|e<<2}function ro(t){return t>>17&32767}function Ej(t){return(t&2)==2}function Ij(t,e){return t&131071|e<<17}function Ly(t){return t|2}function Fs(t){return(t&131068)>>2}function dy(t,e){return t&-131069|e<<2}function wj(t){return(t&1)===1}function Vy(t){return t|1}function Tj(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ro(s),u=Fs(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||_s(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=ro(t[a+1]);t[r+1]=Fd(m,a),m!==0&&(t[m+1]=dy(t[m+1],r)),t[a+1]=Ij(t[a+1],r)}else t[r+1]=Fd(a,0),a!==0&&(t[a+1]=dy(t[a+1],r)),a=r;else t[r+1]=Fd(u,0),a===0?a=r:t[u+1]=dy(t[u+1],r),u=r;l&&(t[r+1]=Ly(t[r+1])),ID(t,h,r,!0),ID(t,h,r,!1),bj(e,h,t,r,o),s=Fd(a,u),o?e.classBindings=s:e.styleBindings=s}function bj(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&_s(o,e)>=0&&(n[r+1]=Vy(n[r+1]))}function ID(t,e,n,r){let i=t[n+1],o=e===null,s=r?ro(i):Fs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];Cj(u,e)&&(a=!0,t[s+1]=r?Vy(l):Ly(l)),s=r?ro(l):Fs(l)}a&&(t[n+1]=r?Ly(i):Vy(i))}function Cj(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?_s(t,e)>=0:!1}function Dr(t,e){return Dj(t,e,null,!0),Dr}function Dj(t,e,n,r){let i=de(),o=St(),s=DC(2);if(o.firstUpdatePass&&Aj(o,t,s,r),e!==Wn&&js(i,s,e)){let a=o.data[Ji()];Oj(o,a,i,i[De],t,i[s+1]=xj(e,n),r,s)}}function Sj(t,e){return e>=t.expandoStartIndex}function Aj(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ji()],s=Sj(t,n);kj(o,r)&&e===null&&!s&&(e=!1),e=Rj(i,o,e,r),Tj(i,o,e,n,s,r)}}function Rj(t,e,n,r){let i=MC(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hy(null,t,e,n,r),n=Mc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hy(i,t,e,n,r),o===null){let u=Mj(t,e,r);u!==void 0&&Array.isArray(u)&&(u=hy(null,t,e,u[1],r),u=Mc(u,e.attrs,r),Nj(t,e,r,u))}else o=Pj(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function Mj(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Fs(r)!==0)return t[ro(r)]}function Nj(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ro(i)]=r}function Pj(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Mc(r,s,n)}return Mc(r,e.attrs,n)}function hy(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Mc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Mc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rC(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Oj(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=wj(l)?wD(u,e,n,i,Fs(l),s):void 0;if(!ah(h)){ah(o)||Ej(l)&&(o=wD(u,null,n,i,a,s));let p=Pm(Ji(),n);qF(r,s,p,i,o)}}function wD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===Wn&&(m=p?Wt:void 0);let y=p?vd(m,r):h===r?m:void 0;if(l&&!ah(y)&&(y=vd(u,r)),ah(y)&&(a=y,s))return a;let b=t[i+1];i=s?ro(b):Fs(b)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=vd(u,r))}return a}function ah(t){return t!==void 0}function xj(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=mr(kc(t)))),t}function kj(t,e){return(t.flags&(e?8:16))!==0}function we(t,e=""){let n=de(),r=St(),i=t+Pe,o=r.firstCreatePass?wh(r,i,1,e,null):r.data[i],s=KA(r,n,o,e,t);n[i]=s,Md()&&hv(r,n,s,o),Ts(o,!1)}var KA=(t,e,n,r,i)=>(_r(!0),CS(e[De],r));function Fj(t,e,n,r,i){let o=!gh(e,n);if(_r(o),o)return CS(e[De],r);let s=e[Kt];return Th(s,t,e,n)}function QA(){KA=Fj}function Lj(t,e,n,r=""){return js(t,bs(),n)?e+fc(n)+r:Wn}function $c(t){return Qn("",t),$c}function Qn(t,e,n){let r=de(),i=Lj(r,t,e,n);return i!==Wn&&Vj(r,Ji(),i),Qn}function Vj(t,e,n){let r=Pm(e,t);rF(t[De],r,n)}function $s(t,e,n){Xm(e)&&(e=e());let r=de(),i=bs();if(js(r,i,e)){let o=St(),s=Rd();ZS(s,r,t,e,r[De],n)}return $s}function Hc(t,e){let n=Xm(t);return n&&t.set(e),n}function Hs(t,e){let n=de(),r=St(),i=st();return WA(r,n,n[De],i,t,e),Hs}function jj(t,e,n){let r=St();if(r.firstCreatePass){let i=$n(t);jy(n,r.data,r.blueprint,i,!0),jy(e,r.data,r.blueprint,i,!1)}}function jy(t,e,n,r,i){if(t=pt(t),Array.isArray(t))for(let o=0;o<t.length;o++)jy(t[o],e,n,r,i);else{let o=St(),s=de(),a=st(),u=Bi(t)?t:pt(t.provide),l=Am(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Bi(t)||!t.multi){let y=new to(l,i,fe,null),b=py(u,e,i?h:h+m,p);b===-1?(my(Gd(a,s),o,u),fy(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),s.push(y)):(n[b]=y,s[b]=y)}else{let y=py(u,e,h+m,p),b=py(u,e,h,h+m),M=y>=0&&n[y],R=b>=0&&n[b];if(i&&!R||!i&&!M){my(Gd(a,s),o,u);let k=$j(i?Bj:Uj,n.length,i,r,l,t);!i&&R&&(n[b].providerFactory=k),fy(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(k),s.push(k)}else{let k=YA(n[i?b:y],l,!i&&r);fy(o,t,y>-1?y:b,k)}!i&&r&&R&&n[b].componentProviders++}}}function fy(t,e,n,r){let i=Bi(e),o=cC(e);if(i||o){let u=(o?pt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function YA(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function py(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Uj(t,e,n,r,i){return Uy(this.multi,[])}function Bj(t,e,n,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=Cc(r,r[$],this.providerFactory.index,i);s=u.slice(0,a),Uy(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Uy(o,s);return s}function Uy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function $j(t,e,n,r,i,o){let s=new to(t,n,fe,null);return s.multi=[],s.index=e,s.componentProviders=0,YA(s,i,r&&!n),s}function uo(t,e=[]){return n=>{n.providersResolver=(r,i)=>jj(r,i?i(t):t,e)}}function zc(t,e,n){let r=bC()+t,i=de();return i[r]===Wn?eV(i,r,n?e.call(n):e()):tV(i,r)}var ch=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xv=(()=>{class t{compileModuleSync(n){return new sh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Cm(n),o=xS(i.declarations).reduce((s,a)=>{let u=yr(a);return u&&s.push(new xs(u)),s},[]);return new ch(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Hj=(()=>{class t{zone=S(ge);changeDetectionScheduler=S(Fn);applicationRef=S(at);applicationErrorHandler=S($t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZA({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new ge(Z(O({},JA()),{scheduleInRootZone:n})),[{provide:ge,useFactory:t},{provide:an,multi:!0,useFactory:()=>{let r=S(Hj,{optional:!0});return()=>r.initialize()}},{provide:an,multi:!0,useFactory:()=>{let r=S(zj);return()=>{r.initialize()}}},e===!0?{provide:ey,useValue:!0}:[],{provide:Pd,useValue:n??jS},{provide:$t,useFactory:()=>{let r=S(ge),i=S(Be),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(In),o.handleError(s))})}}}]}function JA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var zj=(()=>{class t{subscription=new Le;initialized=!1;zone=S(ge);pendingTasks=S(Cn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ge.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ge.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var kv=(()=>{class t{applicationErrorHandler=S($t);appRef=S(at);taskService=S(Cn);ngZone=S(ge);zonelessEnabled=S(Cs);tracing=S(oo,{optional:!0});disableScheduling=S(ey,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Le;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(S(Pd,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Sc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ZC:US;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ZC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fv(){return pn("NgZoneless"),ot([{provide:Fn,useExisting:kv},{provide:ge,useClass:Sc},{provide:Cs,useValue:!0},{provide:Pd,useValue:!1},[]])}function qj(){return typeof $localize<"u"&&$localize.locale||Bc}var Lv=new L("",{providedIn:"root",factory:()=>S(Lv,{optional:!0,skipSelf:!0})||qj()});function vt(t){return qb(t)}function lo(t,e){return kl(t,e?.equal)}var XA=class{[Dt];constructor(e){this[Dt]=e}destroy(){this[Dt].destroy()}};var $v={JSACTION:"__jsaction",OWNER:"__owner"},r0={};function Gj(t){return t[$v.JSACTION]}function e0(t,e){t[$v.JSACTION]=e}function Wj(t){return r0[t]}function Kj(t,e){r0[t]=e}var q={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},Qj=[q.MOUSEENTER,q.MOUSELEAVE,"pointerenter","pointerleave"],CY=[q.CLICK,q.DBLCLICK,q.FOCUSIN,q.FOCUSOUT,q.KEYDOWN,q.KEYUP,q.KEYPRESS,q.MOUSEOVER,q.MOUSEOUT,q.SUBMIT,q.TOUCHSTART,q.TOUCHEND,q.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],Yj=[q.FOCUS,q.BLUR,q.ERROR,q.LOAD,q.TOGGLE],Hv=t=>Yj.indexOf(t)>=0;function Zj(t){return t===q.MOUSEENTER?q.MOUSEOVER:t===q.MOUSELEAVE?q.MOUSEOUT:t===q.POINTERENTER?q.POINTEROVER:t===q.POINTERLEAVE?q.POINTEROUT:t}function Jj(t,e,n,r){let i=!1;Hv(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function Xj(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function e2(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var t0=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function t2(t){return t.which===2||t.which==null&&t.button===4}function n2(t){return t0&&t.metaKey||!t0&&t.ctrlKey||t2(t)||t.shiftKey}function r2(t,e,n){let r=t.relatedTarget;return(t.type===q.MOUSEOVER&&e===q.MOUSEENTER||t.type===q.MOUSEOUT&&e===q.MOUSELEAVE||t.type===q.POINTEROVER&&e===q.POINTERENTER||t.type===q.POINTEROUT&&e===q.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function i2(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===q.MOUSEOVER?n.type=q.MOUSEENTER:t.type===q.MOUSEOUT?n.type=q.MOUSELEAVE:t.type===q.POINTEROVER?n.type=q.POINTERENTER:n.type=q.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var o2=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Oh=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){o2&&(this.element.style.cursor="pointer"),this.handlerInfos.push(Jj(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)Xj(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},s2={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function ui(t){return t.eventType}function zv(t,e){t.eventType=e}function Nh(t){return t.event}function i0(t,e){t.event=e}function o0(t){return t.targetElement}function s0(t,e){t.targetElement=e}function a0(t){return t.eic}function a2(t,e){t.eic=e}function c2(t){return t.timeStamp}function u2(t,e){t.timeStamp=e}function Ph(t){return t.eia}function c0(t,e,n){t.eia=[e,n]}function Vv(t){t.eia=void 0}function Mh(t){return t[1]}function l2(t){return t.eirp}function u0(t,e){t.eirp=e}function l0(t){return t.eir}function d0(t,e){t.eir=e}function h0(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function d2(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var jv=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return ui(this.eventInfo)}setEventType(e){zv(this.eventInfo,e)}getEvent(){return Nh(this.eventInfo)}setEvent(e){i0(this.eventInfo,e)}getTargetElement(){return o0(this.eventInfo)}setTargetElement(e){s0(this.eventInfo,e)}getContainer(){return a0(this.eventInfo)}setContainer(e){a2(this.eventInfo,e)}getTimestamp(){return c2(this.eventInfo)}setTimestamp(e){u2(this.eventInfo,e)}getAction(){let e=Ph(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){Vv(this.eventInfo);return}c0(this.eventInfo,e.name,e.element)}getIsReplay(){return l2(this.eventInfo)}setIsReplay(e){u0(this.eventInfo,e)}getResolved(){return l0(this.eventInfo)}setResolved(e){d0(this.eventInfo,e)}clone(){return new t(h0(this.eventInfo))}},h2={},f2=/\s*;\s*/,p2=q.CLICK,Uv=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&ui(e)===q.CLICK&&n2(Nh(e))?zv(e,q.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){l0(e)||(this.populateAction(e,o0(e)),d0(e,!0))}resolveParentAction(e){let n=Ph(e),r=n&&Mh(n);Vv(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==a0(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Ph(e));)r=this.getParentNode(r);let i=Ph(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(ui(e)===q.MOUSEENTER||ui(e)===q.MOUSELEAVE||ui(e)===q.POINTERENTER||ui(e)===q.POINTERLEAVE)))if(r2(Nh(e),ui(e),Mh(i))){let o=i2(Nh(e),Mh(i));i0(e,o),s0(e,Mh(i))}else Vv(e)}getParentNode(e){let n=e[$v.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[ui(n)];i!==void 0&&c0(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=Gj(e);if(!n){let r=e.getAttribute(Od.JSACTION);if(!r)n=h2,e0(e,n);else{if(n=Wj(r),!n){n={};let i=r.split(f2);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(s2.EVENT_ACTION_SEPARATOR),u=a!==-1,l=u?s.substr(0,a).trim():p2,h=u?s.substr(a+1).trim():s;n[l]=h}Kj(r,n)}e0(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},f0=(function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t})(f0||{}),Bv=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new jv(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&g2(r.element,n)&&e2(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function g2(t,e){return t.tagName==="A"&&(e.getEventType()===q.CLICK||e.getEventType()===q.CLICKMOD)}var p0=Symbol.for("propagationStopped"),qv={REPLAY:101};var m2="`preventDefault` called during event replay.";var y2="`composedPath` called during event replay.",xh=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new Uv({clickModSupport:n}),this.dispatcher=new Bv(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&E2(e),v2(e);e.getAction();){if(I2(e),Hv(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),_2(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function v2(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[p0]=!0,n()};ho(e,"stopPropagation",r),ho(e,"stopImmediatePropagation",r)}function _2(t){return!!t.getEvent()[p0]}function E2(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);ho(e,"target",n),ho(e,"eventPhase",qv.REPLAY),ho(e,"preventDefault",()=>{throw r(),new Error(m2+"")}),ho(e,"composedPath",()=>{throw new Error(y2+"")})}function I2(t){let e=t.getEvent(),n=t.getAction()?.element;n&&ho(e,"currentTarget",n,{configurable:!0})}function ho(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function g0(t,e){t.ecrd(n=>{e.dispatch(n)},f0.I_AM_THE_JSACTION_FRAMEWORK)}function w2(t){return t?.q??[]}function T2(t){t&&(n0(t.c,t.et,t.h),n0(t.c,t.etc,t.h,!0))}function n0(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var b2=!1,m0=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=b2;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=d2(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){u0(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&Qj.indexOf(n)>=0)return;let o=(a,u,l)=>{this.handleEvent(a,u,l)};this.eventHandlers[n]=o;let s=Zj(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>u=>{o(n,u,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),T2(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=h0(i);zv(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function y0(t,e=window){return w2(e._ejsas?.[t])}function Gv(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var T0=Symbol("InputSignalNode#UNSET"),z2=Z(O({},Fl),{transformFn:void 0,applyValueToInputSignal(t,e){ns(t,e)}});function b0(t,e){let n=Object.create(z2);n.value=t,n.transformFn=e?.transform;function r(){if(Xo(n),n.value===T0){let i=null;throw new F(-950,i)}return n.value}return r[Dt]=n,r}var Vh=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Nc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},q2=new L("");q2.__NG_ELEMENT_ID__=t=>{let e=st();if(e===null)throw new F(204,!1);if(e.type&2)return e.value;if(t&8)return null;throw new F(204,!1)};function v0(t,e){return b0(t,e)}function G2(t){return b0(T0,t)}var C0=(v0.required=G2,v0);var Wv=new L(""),W2=new L("");function qc(t){return!t.moduleRef}function K2(t){let e=qc(t)?t.r3Injector:t.moduleRef.injector,n=e.get(ge);return n.run(()=>{qc(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get($t),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),qc(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Wv);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Wv);s.add(o),t.moduleRef.onDestroy(()=>{bc(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return Y2(r,n,()=>{let o=e.get(Cn),s=o.add(),a=e.get(Av);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Lv,Bc);if(GA(u||Bc),!e.get(W2,!0))return qc(t)?e.get(at):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(qc(t)){let h=e.get(at);return t.rootComponent!==void 0&&h.bootstrap(t.rootComponent),h}else return Q2?.(t.moduleRef,t.allPlatformModules),t.moduleRef}).finally(()=>void o.remove(s))})})}var Q2;function Y2(t,e,n){try{let r=n();return ao(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t(r)),r}}var Fh=null;function Z2(t=[],e){return Ve.create({name:e,providers:[{provide:gc,useValue:"platform"},{provide:Wv,useValue:new Set([()=>Fh=null])},...t]})}function J2(t=[]){if(Fh)return Fh;let e=Z2(t);return Fh=e,UA(),X2(e),e}function X2(t){let e=t.get(uh,null);Ke(t,()=>{e?.forEach(n=>n())})}function Gc(){return!1}var po=(()=>{class t{static __NG_ELEMENT_ID__=eU}return t})();function eU(t){return tU(st(),de(),(t&16)===16)}function tU(t,e,n){if(vr(t)&&!n){let r=hn(t.index,e);return new ri(r,r)}else if(t.type&175){let r=e[Bt];return new ri(r,e)}return null}function D0(t){let{rootComponent:e,appProviders:n,platformProviders:r,platformRef:i}=t;ye(8);try{let o=i?.injector??J2(r),s=[ZA({}),{provide:Fn,useExisting:kv},FC,...n||[]],a=new Rc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return K2({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{ye(9)}}var kh=new WeakSet,_0="",Lh=[];function E0(t){return t.get(Wy,rS)}function S0(){let t=[{provide:Wy,useFactory:()=>{let e=!0;{let n=S(Gn);e=!!window._ejsas?.[n]}return e&&pn("NgEventReplay"),e}}];return t.push({provide:an,useValue:()=>{let e=S(at),{injector:n}=e;if(!kh.has(e)){let r=S(Ky);if(E0(n)){dS();let i=n.get(Gn),o=uS(i,(s,a,u)=>{s.nodeType===Node.ELEMENT_NODE&&(oS(s,a,u),sS(s,r))});e.onDestroy(o)}}},multi:!0},{provide:si,useFactory:()=>{let e=S(at),{injector:n}=e;return()=>{if(!E0(n)||kh.has(e))return;kh.add(e);let r=n.get(Gn);e.onDestroy(()=>{kh.delete(e),Gv(r)}),e.whenStable().then(()=>{if(e.destroyed)return;let i=n.get(cS);nU(i,n);let o=n.get(Ky);o.get(_0)?.forEach(aS),o.delete(_0);let s=i.instance;vS(n)?e.onDestroy(()=>s.cleanUp()):s.cleanUp()})}},multi:!0}),t}var nU=(t,e)=>{let n=e.get(Gn),r=window._ejsas[n],i=t.instance=new m0(new Oh(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=y0(n);i.replayEarlyEventInfos(o),Gv(n);let s=new xh(a=>{rU(e,a,a.currentTarget)});g0(i,s)};function rU(t,e,n){let r=(n&&n.getAttribute(xc))??"";/d\d+/.test(r)?iU(r,t,e,n):e.eventPhase===qv.REPLAY&&Qy(e,n)}function iU(t,e,n,r){Lh.push({event:n,currentTarget:r}),HA(e,t,oU)}function oU(t){let e=[...Lh],n=new Set(t);Lh=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(xc);n.has(o)?Qy(r,i):Lh.push({event:r,currentTarget:i})}}var I0=!1;function sU(){I0||(I0=!0,gS(),zA(),QA(),qA(),FA(),RA(),mA(),YS())}function aU(t){return t.whenStable()}function A0(){let t=[{provide:Oc,useFactory:()=>{let e=!0;return e=!!S(io,{optional:!0})?.get(Yy,null),e&&pn("NgHydration"),e}},{provide:an,useValue:()=>{hA(!1),S(Oc)&&(IS(Pc()),sU())},multi:!0}];return t.push({provide:Gy,useFactory:()=>S(Oc)},{provide:si,useFactory:()=>{if(S(Oc)){let e=S(at);return()=>{aU(e).then(()=>{e.destroyed||wv(e)})}}return()=>{}},multi:!0}),ot(t)}function go(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var N0=null;function gn(){return N0}function Kv(t){N0??=t}var Wc=class{},Qv=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(P0),providedIn:"platform"})}return t})();var P0=(()=>{class t extends Qv{_location;_history;_doc=S(nt);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return gn().getBaseHref(this._doc)}onPopState(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=gn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function O0(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function R0(t){let e=t.search(/#|\?|$/);return t[e-1]==="/"?t.slice(0,e-1)+t.slice(e):t}function li(t){return t&&t[0]!=="?"?`?${t}`:t}var zs=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(k0),providedIn:"root"})}return t})(),x0=new L(""),k0=(()=>{class t extends zs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??S(nt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return O0(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+li(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+li(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+li(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(J(Qv),J(x0,8))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qs=(()=>{class t{_subject=new Ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=lU(R0(M0(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+li(r))}normalize(n){return t.stripTrailingSlash(uU(this._basePath,M0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+li(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+li(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=li;static joinWithSlash=O0;static stripTrailingSlash=R0;static \u0275fac=function(r){return new(r||t)(J(zs))};static \u0275prov=U({token:t,factory:()=>cU(),providedIn:"root"})}return t})();function cU(){return new qs(J(zs))}function uU(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function M0(t){return t.replace(/\/index.html$/,"")}function lU(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Yn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=wn({})}return t})();function Yv(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Kc=class{};var Zv="browser";function F0(t){return t===Zv}var Qc=class{_doc;constructor(e){this._doc=e}manager},jh=(()=>{class t extends Qc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(J(nt))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Bh=new L(""),n_=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(s=>{s.manager=this});let i=n.filter(s=>!(s instanceof jh));this._plugins=i.slice().reverse();let o=n.find(s=>s instanceof jh);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new F(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(J(Bh),J(ge))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Jv="ng-app-id";function L0(t){for(let e of t)e.remove()}function V0(t,e){let n=e.createElement("style");return n.textContent=t,n}function fU(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Jv}="${e}"],link[${Jv}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Jv),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function e_(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var r_=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,fU(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,V0);r?.forEach(i=>this.addUsage(i,this.external,e_))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(L0(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])L0(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,V0(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,e_(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(J(nt),J(Gn),J(lh,8),J(wr))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Xv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},i_=/%COMP%/g;var U0="%COMP%",pU=`_nghost-${U0}`,gU=`_ngcontent-${U0}`,mU=!0,yU=new L("",{providedIn:"root",factory:()=>mU});function vU(t){return gU.replace(i_,t)}function _U(t){return pU.replace(i_,t)}function B0(t,e){return e.map(n=>n.replace(i_,t))}var o_=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,u=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Yc(n,s,a,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Uh?i.applyToHost(n):i instanceof Zc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Er.Emulated:o=new Uh(u,l,r,this.appId,h,s,a,p,m);break;case Er.ShadowDom:return new t_(u,l,n,r,s,a,this.nonce,p,m);default:o=new Zc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(J(n_),J(r_),J(Gn),J(yU),J(nt),J(ge),J(lh),J(oo,8))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),Yc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Xv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(j0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(j0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new F(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Xv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Xv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ir.DashCase|Ir.Important)?e.style.setProperty(n,r,i&Ir.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ir.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=gn().getGlobalEventTarget(this.doc,e),!e))throw new F(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;e(n)===!1&&n.preventDefault()}}};function j0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var t_=class extends Yc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=B0(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=e_(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zc=class extends Yc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?B0(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ps.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Uh=class extends Zc{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,n,r,o,s,a,u,l,h),this.contentAttr=vU(h),this.hostAttr=_U(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}};var $h=class t extends Wc{supportsDOMEvents=!0;static makeCurrent(){Kv(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=EU();return n==null?null:IU(n)}resetBaseElement(){Jc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Yv(document.cookie,e)}},Jc=null;function EU(){return Jc=Jc||document.head.querySelector("base"),Jc?Jc.getAttribute("href"):null}function IU(t){return new URL(t,document.baseURI).pathname}var wU=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),$0=["alt","control","meta","shift"],TU={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bU={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},H0=(()=>{class t extends Qc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>gn().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),$0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=TU[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$0.forEach(s=>{if(s!==i){let a=bU[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(J(nt))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();function s_(t,e,n){let r=O({rootComponent:t,platformRef:n?.platformRef},CU(e));return D0(r)}function CU(t){return{appProviders:[...MU,...t?.providers??[]],platformProviders:RU}}function DU(){$h.makeCurrent()}function SU(){return new In}function AU(){return Hy(document),document}var RU=[{provide:wr,useValue:Zv},{provide:uh,useValue:DU,multi:!0},{provide:nt,useFactory:AU}];var MU=[{provide:gc,useValue:"root"},{provide:In,useFactory:SU},{provide:Bh,useClass:jh,multi:!0,deps:[nt]},{provide:Bh,useClass:H0,multi:!0,deps:[nt]},o_,r_,n_,{provide:no,useExisting:o_},{provide:Kc,useClass:wU},[]];var Xc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var NU="X-Request-URL",PU="text/plain",OU="application/json",Lre=`${OU}, ${PU}, */*`;var c_=(function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t})(c_||{}),a_=class{headers;status;statusText;url;ok;type;redirected;constructor(e,n=200,r="OK"){this.headers=e.headers||new Xc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var Hh=class t extends a_{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=c_.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};var z0=new L("");var Vre=RegExp(`^${NU}:`,"m");var xU=new L(""),kU="b",FU="h",LU="s",VU="st",jU="u",UU="rt",u_=new L(""),BU=["GET","HEAD"];function $U(t,e){let y=S(u_),{isCacheActive:n}=y,r=hb(y,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!BU.includes(o)||!r.includeRequestsWithAuthHeaders&&HU(t)||r.filter?.(t)===!1)return e(t);let s=S(io);if(S(xU,{optional:!0}))throw new F(2803,!1);let u=t.url,l=zU(t,u),h=s.get(l,null),p=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(p=i.includeHeaders),h){let{[kU]:b,[UU]:M,[FU]:R,[LU]:k,[VU]:W,[jU]:Q}=h,me=b;switch(M){case"arraybuffer":me=new TextEncoder().encode(b).buffer;break;case"blob":me=new Blob([b]);break}let dt=new Xc(R);return H(new Hh({body:me,headers:dt,status:k,statusText:W,url:Q}))}return e(t)}function HU(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function q0(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function zU(t,e){let{params:n,method:r,responseType:i}=t,o=q0(n),s=t.serializeBody();s instanceof URLSearchParams?s=q0(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),u=qU(a);return u}function qU(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function G0(t){return[{provide:u_,useFactory:()=>(pn("NgHttpTransferCache"),O({isCacheActive:!0},t))},{provide:z0,useValue:$U,multi:!0},{provide:si,multi:!0,useFactory:()=>{let e=S(at),n=S(u_);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var W0=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(J(nt))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var zh=(function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t})(zh||{});function GU(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function K0(){return GU(zh.EventReplay,S0())}function Q0(...t){let e=[],n=new Set;for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);let r=n.has(zh.HttpTransferCacheOptions);return ot([[],[],A0(),n.has(zh.NoHttpTransferCache)||r?[]:G0({}),e])}var ee="primary",pu=Symbol("RouteTitle"),p_=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function vo(t){return new p_(t)}function rR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function KU(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Zn(t[n],e[n]))return!1;return!0}function Zn(t,e){let n=t?g_(t):void 0,r=e?g_(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!iR(t[i],e[i]))return!1;return!0}function g_(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function iR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function oR(t){return t.length>0?t[t.length-1]:null}function Rr(t){return Yg(t)?t:ao(t)?Ce(Promise.resolve(t)):H(t)}var QU={exact:aR,subset:cR},sR={exact:YU,subset:ZU,ignored:()=>!0};function Y0(t,e,n){return QU[n.paths](t.root,e.root,n.matrixParams)&&sR[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function YU(t,e){return Zn(t,e)}function aR(t,e,n){if(!mo(t.segments,e.segments)||!Wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!aR(t.children[r],e.children[r],n))return!1;return!0}function ZU(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>iR(t[n],e[n]))}function cR(t,e,n){return uR(t,e,e.segments,n)}function uR(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!mo(i,n)||e.hasChildren()||!Wh(i,n,r))}else if(t.segments.length===n.length){if(!mo(t.segments,n)||!Wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!cR(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mo(t.segments,i)||!Wh(t.segments,i,r)||!t.children[ee]?!1:uR(t.children[ee],e,o,r)}}function Wh(t,e,n){return e.every((r,i)=>sR[n](t[i].parameters,r.parameters))}var Xn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){return eB.serialize(this)}},_e=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kh(this)}},di=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=vo(this.parameters),this._parameterMap}toString(){return dR(this)}};function JU(t,e){return mo(t,e)&&t.every((n,r)=>Zn(n.parameters,e[r].parameters))}function mo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function XU(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ee&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ee&&(n=n.concat(e(i,r)))}),n}var gu=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>new _o,providedIn:"root"})}return t})(),_o=class{parse(e){let n=new y_(e);return new Xn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${eu(e.root,!0)}`,r=rB(e.queryParams),i=typeof e.fragment=="string"?`#${tB(e.fragment)}`:"";return`${n}${r}${i}`}},eB=new _o;function Kh(t){return t.segments.map(e=>dR(e)).join("/")}function eu(t,e){if(!t.hasChildren())return Kh(t);if(e){let n=t.children[ee]?eu(t.children[ee],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ee&&r.push(`${i}:${eu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=XU(t,(r,i)=>i===ee?[eu(t.children[ee],!1)]:[`${i}:${eu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ee]!=null?`${Kh(t)}/${n[0]}`:`${Kh(t)}/(${n.join("//")})`}}function lR(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qh(t){return lR(t).replace(/%3B/gi,";")}function tB(t){return encodeURI(t)}function m_(t){return lR(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qh(t){return decodeURIComponent(t)}function Z0(t){return Qh(t.replace(/\+/g,"%20"))}function dR(t){return`${m_(t.path)}${nB(t.parameters)}`}function nB(t){return Object.entries(t).map(([e,n])=>`;${m_(e)}=${m_(n)}`).join("")}function rB(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qh(n)}=${qh(i)}`).join("&"):`${qh(n)}=${qh(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var iB=/^[^\/()?;#]+/;function l_(t){let e=t.match(iB);return e?e[0]:""}var oB=/^[^\/()?;=#]+/;function sB(t){let e=t.match(oB);return e?e[0]:""}var aB=/^[^=?&#]+/;function cB(t){let e=t.match(aB);return e?e[0]:""}var uB=/^[^&#]+/;function lB(t){let e=t.match(uB);return e?e[0]:""}var y_=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ee]=new _e(e,n)),r}parseSegment(){let e=l_(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new F(4009,!1);return this.capture(e),new di(Qh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=sB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=l_(this.remaining);i&&(r=i,this.capture(r))}e[Qh(n)]=Qh(r)}parseQueryParam(e){let n=cB(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=lB(this.remaining);s&&(r=s,this.capture(r))}let i=Z0(n),o=Z0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=l_(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new F(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ee);let s=this.parseChildren();n[o??ee]=Object.keys(s).length===1&&s[ee]?s[ee]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new F(4011,!1)}};function hR(t){return t.segments.length>0?new _e([],{[ee]:t}):t}function fR(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=fR(i);if(r===ee&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return dB(n)}function dB(t){if(t.numberOfChildren===1&&t.children[ee]){let e=t.children[ee];return new _e(t.segments.concat(e.segments),e.children)}return t}function hi(t){return t instanceof Xn}function pR(t,e,n=null,r=null){let i=gR(t);return mR(i,e,n,r)}function gR(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new _e(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=hR(r);return e??i}function mR(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return d_(i,i,i,n,r);let o=hB(e);if(o.toRoot())return d_(i,i,new _e([],{}),n,r);let s=fB(o,i,t),a=s.processChildren?nu(s.segmentGroup,s.index,o.commands):vR(s.segmentGroup,s.index,o.commands);return d_(i,s.segmentGroup,a,n,r)}function Yh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ou(t){return typeof t=="object"&&t!=null&&t.outlets}function d_(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=yR(t,e,n);let a=hR(fR(s));return new Xn(a,o,i)}function yR(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=yR(o,e,n)}),new _e(t.segments,r)}var Zh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Yh(r[0]))throw new F(4003,!1);let i=r.find(ou);if(i&&i!==oR(r))throw new F(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hB(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Zh(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Zh(n,e,r)}var Ks=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function fB(t,e,n){if(t.isAbsolute)return new Ks(e,!0,0);if(!n)return new Ks(e,!1,NaN);if(n.parent===null)return new Ks(n,!0,0);let r=Yh(t.commands[0])?0:1,i=n.segments.length-1+r;return pB(n,i,t.numberOfDoubleDots)}function pB(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new F(4005,!1);i=r.segments.length}return new Ks(r,!1,i-o)}function gB(t){return ou(t[0])?t[0].outlets:{[ee]:t}}function vR(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return nu(t,e,n);let r=mB(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[ee]=new _e(t.segments.slice(r.pathIndex),t.children),nu(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?v_(t,e,n):r.match?nu(t,0,i):v_(t,e,n)}function nu(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=gB(n),i={};if(Object.keys(r).some(o=>o!==ee)&&t.children[ee]&&t.numberOfChildren===1&&t.children[ee].segments.length===0){let o=nu(t.children[ee],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=vR(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function mB(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ou(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!X0(u,l,s))return o;r+=2}else{if(!X0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function v_(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ou(o)){let u=yB(o.outlets);return new _e(r,u)}if(i===0&&Yh(n[0])){let u=t.segments[e];r.push(new di(u.path,J0(n[0]))),i++;continue}let s=ou(o)?o.outlets[ee]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Yh(a)?(r.push(new di(s,J0(a))),i+=2):(r.push(new di(s,{})),i++)}return new _e(r,{})}function yB(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=v_(new _e([],{}),0,r))}),e}function J0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function X0(t,e,n){return t==n.path&&Zn(e,n.parameters)}var ru="imperative",ct=(function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t})(ct||{}),tn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Eo=class extends tn{type=ct.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends tn{urlAfterRedirects;type=ct.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ft=(function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t[t.Aborted=4]="Aborted",t})(Ft||{}),su=(function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t})(su||{}),Jn=class extends tn{reason;code;type=ct.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Sr=class extends tn{reason;code;type=ct.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ys=class extends tn{error;target;type=ct.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},au=class extends tn{urlAfterRedirects;state;type=ct.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jh=class extends tn{urlAfterRedirects;state;type=ct.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xh=class extends tn{urlAfterRedirects;state;shouldActivate;type=ct.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ef=class extends tn{urlAfterRedirects;state;type=ct.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tf=class extends tn{urlAfterRedirects;state;type=ct.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nf=class{route;type=ct.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},rf=class{route;type=ct.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},of=class{snapshot;type=ct.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sf=class{snapshot;type=ct.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},af=class{snapshot;type=ct.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cf=class{snapshot;type=ct.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var cu=class{},Zs=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function vB(t){return!(t instanceof cu)&&!(t instanceof Zs)}function _B(t,e){return t.providers&&!t._injector&&(t._injector=Us(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rn(t){return t.outlet||ee}function EB(t,e){let n=t.filter(r=>Rn(r)===e);return n.push(...t.filter(r=>Rn(r)!==e)),n}function ea(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var uf=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return ea(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new ta(this.rootInjector)}},ta=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new uf(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(J(Be))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),lf=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=__(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=__(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=E_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return E_(e,this._root).map(n=>n.value)}};function __(t,e){if(t===e.value)return e;for(let n of e.children){let r=__(t,n);if(r)return r}return null}function E_(t,e){if(t===e.value)return[e];for(let n of e.children){let r=E_(t,n);if(r.length)return r.unshift(e),r}return[]}var en=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var uu=class extends lf{snapshot;constructor(e,n){super(e),this.snapshot=n,A_(this,e)}toString(){return this.snapshot.toString()}};function _R(t){let e=IB(t),n=new ft([new di("",{})]),r=new ft({}),i=new ft({}),o=new ft({}),s=new ft(""),a=new Ar(n,r,o,s,i,ee,t,e.root);return a.snapshot=e.root,new uu(new en(a,[]),e)}function IB(t){let e={},n={},r={},o=new yo([],e,r,"",n,ee,t,null,{});return new lu("",new en(o,[]))}var Ar=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(B(l=>l[pu]))??H(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>vo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>vo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function df(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:O(O({},e.params),t.params),data:O(O({},e.data),t.data),resolve:O(O(O(O({},t.data),e.data),i?.data),t._resolvedData)}:r={params:O({},t.params),data:O({},t.data),resolve:O(O({},t.data),t._resolvedData??{})},i&&IR(i)&&(r.resolve[pu]=i.title),r}var yo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[pu]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lu=class extends lf{url;constructor(e,n){super(n),this.url=e,A_(this,n)}toString(){return ER(this._root)}};function A_(t,e){e.value._routerState=t,e.children.forEach(n=>A_(t,n))}function ER(t){let e=t.children.length>0?` { ${t.children.map(ER).join(", ")} } `:"";return`${t.value}${e}`}function h_(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Zn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Zn(e.params,n.params)||t.paramsSubject.next(n.params),KU(e.url,n.url)||t.urlSubject.next(n.url),Zn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function I_(t,e){let n=Zn(t.params,e.params)&&JU(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||I_(t.parent,e.parent))}function IR(t){return typeof t.title=="string"||t.title===null}var wR=new L(""),mu=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ee;activateEvents=new He;deactivateEvents=new He;attachEvents=new He;detachEvents=new He;routerOutletData=C0();parentContexts=S(ta);location=S(so);changeDetector=S(po);inputBinder=S(gf,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new F(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new F(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new F(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new F(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new w_(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rt({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qn]})}return t})(),w_=class{route;childContexts;parent;outletData;constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ar?this.route:e===ta?this.childContexts:e===wR?this.outletData:this.parent.get(e,n)}},gf=new L("");var R_=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=yt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Se(0,"router-outlet")},dependencies:[mu],encapsulation:2})}return t})();function M_(t){let e=t.children&&t.children.map(M_),n=e?Z(O({},t),{children:e}):O({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ee&&(n.component=R_),n}function wB(t,e,n){let r=du(t,e._root,n?n._root:void 0);return new uu(r,e)}function du(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=TB(t,e,n);return new en(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>du(t,a)),s}}let r=bB(e.value),i=e.children.map(o=>du(t,o));return new en(r,i)}}function TB(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return du(t,r,i);return du(t,r)})}function bB(t){return new Ar(new ft(t.url),new ft(t.params),new ft(t.queryParams),new ft(t.fragment),new ft(t.data),t.outlet,t.component,t)}var Js=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},TR="ngNavigationCancelingError";function hf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=bR(!1,Ft.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function bR(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[TR]=!0,n.cancellationCode=e,n}function CB(t){return CR(t)&&hi(t.url)}function CR(t){return!!t&&t[TR]}var DB=(t,e,n,r)=>B(i=>(new T_(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),T_=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),h_(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ws(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new sf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(h_(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),h_(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},ff=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qs=class{component;route;constructor(e,n){this.component=e,this.route=n}};function SB(t,e,n){let r=t._root,i=e?e._root:null;return tu(r,i,n,[r.value])}function AB(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function na(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!pm(t)?t:e.get(t):r}function tu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ws(e);return t.children.forEach(s=>{RB(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>iu(a,n.getContext(s),i)),i}function RB(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=MB(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new ff(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?tu(t,e,a?a.children:null,r,i):tu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qs(a.outlet.component,s))}else s&&iu(e,a,i),i.canActivateChecks.push(new ff(r)),o.component?tu(t,null,a?a.children:null,r,i):tu(t,null,n,r,i);return i}function MB(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(t.url,e.url)||!Zn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!I_(t,e)||!Zn(t.queryParams,e.queryParams);case"paramsChange":default:return!I_(t,e)}}function iu(t,e,n){let r=Ws(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?iu(s,e.children.getContext(o),n):iu(s,null,n):iu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qs(e.outlet.component,i)):n.canDeactivateChecks.push(new Qs(null,i)):n.canDeactivateChecks.push(new Qs(null,i))}function yu(t){return typeof t=="function"}function NB(t){return typeof t=="boolean"}function PB(t){return t&&yu(t.canLoad)}function OB(t){return t&&yu(t.canActivate)}function xB(t){return t&&yu(t.canActivateChild)}function kB(t){return t&&yu(t.canDeactivate)}function FB(t){return t&&yu(t.canMatch)}function DR(t){return t instanceof hr||t?.name==="EmptyError"}var Gh=Symbol("INITIAL_VALUE");function Xs(){return tt(t=>sd(t.map(e=>e.pipe(Ot(1),ud(Gh)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===Gh)return Gh;if(n===!1||LB(n))return n}return!0}),We(e=>e!==Gh),Ot(1)))}function LB(t){return hi(t)||t instanceof Js}function VB(t,e){return Ge(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?H(Z(O({},n),{guardsResult:!0})):jB(s,r,i,t).pipe(Ge(a=>a&&NB(a)?UB(r,o,t,e):H(a)),B(a=>Z(O({},n),{guardsResult:a})))})}function jB(t,e,n,r){return Ce(t).pipe(Ge(i=>qB(i.component,i.route,n,e,r)),pr(i=>i!==!0,!0))}function UB(t,e,n,r){return Ce(e).pipe(Li(i=>gs($B(i.route.parent,r),BB(i.route,r),zB(t,i.path,n),HB(t,i.route,n))),pr(i=>i!==!0,!0))}function BB(t,e){return t!==null&&e&&e(new af(t)),H(!0)}function $B(t,e){return t!==null&&e&&e(new of(t)),H(!0)}function HB(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return H(!0);let i=r.map(o=>ac(()=>{let s=ea(e)??n,a=na(o,s),u=OB(a)?a.canActivate(e,t):Ke(s,()=>a(e,t));return Rr(u).pipe(pr())}));return H(i).pipe(Xs())}function zB(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AB(s)).filter(s=>s!==null).map(s=>ac(()=>{let a=s.guards.map(u=>{let l=ea(s.node)??n,h=na(u,l),p=xB(h)?h.canActivateChild(r,t):Ke(l,()=>h(r,t));return Rr(p).pipe(pr())});return H(a).pipe(Xs())}));return H(o).pipe(Xs())}function qB(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return H(!0);let s=o.map(a=>{let u=ea(e)??i,l=na(a,u),h=kB(l)?l.canDeactivate(t,e,n,r):Ke(u,()=>l(t,e,n,r));return Rr(h).pipe(pr())});return H(s).pipe(Xs())}function GB(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return H(!0);let o=i.map(s=>{let a=na(s,t),u=PB(a)?a.canLoad(e,n):Ke(t,()=>a(e,n));return Rr(u)});return H(o).pipe(Xs(),SR(r))}function SR(t){return Bl(Ue(e=>{if(typeof e!="boolean")throw hf(t,e)}),B(e=>e===!0))}function WB(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return H(!0);let o=i.map(s=>{let a=na(s,t),u=FB(a)?a.canMatch(e,n):Ke(t,()=>a(e,n));return Rr(u)});return H(o).pipe(Xs(),SR(r))}var hu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},fu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Gs(t){return fs(new hu(t))}function KB(t){return fs(new F(4e3,!1))}function QB(t){return fs(bR(!1,Ft.GuardRejected))}var b_=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return H(r);if(i.numberOfChildren>1||!i.children[ee])return KB(`${e.redirectTo}`);i=i.children[ee]}}applyRedirectCommands(e,n,r,i,o){return YB(n,i,o).pipe(B(s=>{if(s instanceof Xn)throw new fu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new fu(a);return a}))}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Xn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new F(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}};function YB(t,e,n){if(typeof t=="string")return H(t);let r=t,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return Rr(Ke(n,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var C_={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZB(t,e,n,r,i){let o=AR(t,e,n);return o.matched?(r=_B(e,r),WB(r,e,n,i).pipe(B(s=>s===!0?o:O({},C_)))):H(o)}function AR(t,e,n){if(e.path==="**")return JB(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?O({},C_):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||rR)(n,t,e);if(!i)return O({},C_);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?O(O({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function JB(t){return{matched:!0,parameters:t.length>0?oR(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eR(t,e,n,r){return n.length>0&&t$(t,n,r)?{segmentGroup:new _e(e,e$(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&n$(t,n,r)?{segmentGroup:new _e(t.segments,XB(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function XB(t,e,n,r){let i={};for(let o of n)if(mf(t,e,o)&&!r[Rn(o)]){let s=new _e([],{});i[Rn(o)]=s}return O(O({},r),i)}function e$(t,e){let n={};n[ee]=e;for(let r of t)if(r.path===""&&Rn(r)!==ee){let i=new _e([],{});n[Rn(r)]=i}return n}function t$(t,e,n){return n.some(r=>mf(t,e,r)&&Rn(r)!==ee)}function n$(t,e,n){return n.some(r=>mf(t,e,r))}function mf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function r$(t,e,n){return e.length===0&&!t.children[n]}var D_=class{};function i$(t,e,n,r,i,o,s="emptyOnly"){return new S_(t,e,n,r,i,s,o).recognize()}var o$=31,S_=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new b_(this.urlSerializer,this.urlTree)}noMatchError(e){return new F(4002,`'${e.segmentGroup}'`)}recognize(){let e=eR(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(({children:n,rootSnapshot:r})=>{let i=new en(r,n),o=new lu("",i),s=pR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new yo([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ee,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ee,n).pipe(B(r=>({children:r,rootSnapshot:n})),Ut(r=>{if(r instanceof fu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof hu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(B(s=>s instanceof en?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ce(o).pipe(Li(s=>{let a=r.children[s],u=EB(n,s);return this.processSegmentGroup(e,u,a,s,i)}),cd((s,a)=>(s.push(...a),s)),Kr(null),Jg(),Ge(s=>{if(s===null)return Gs(r);let a=RR(s);return s$(a),H(a)}))}processSegment(e,n,r,i,o,s,a){return Ce(n).pipe(Li(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Ut(l=>{if(l instanceof hu)return H(null);throw l}))),pr(u=>!!u),Ut(u=>{if(DR(u))return r$(r,i,o)?H(new D_):Gs(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return Rn(r)!==s&&(s===ee||!mf(i,o,r))?Gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Gs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=AR(n,i,o);if(!u)return Gs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>o$&&(this.allowRedirects=!1));let y=new yo(o,l,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,tR(i),Rn(i),i.component??i._loadedComponent??null,i,nR(i)),b=df(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(b.params),y.data=Object.freeze(b.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(tt(R=>this.applyRedirects.lineralizeSegments(i,R)),Ge(R=>this.processSegment(e,r,n,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=ZB(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(tt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(tt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new yo(m,p,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,tR(r),Rn(r),r.component??r._loadedComponent??null,r,nR(r)),M=df(b,s,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:k}=eR(n,m,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,b).pipe(B(Q=>new en(b,Q)));if(l.length===0&&k.length===0)return H(new en(b,[]));let W=Rn(r)===o;return this.processSegment(h,l,R,k,W?ee:o,!0,b).pipe(B(Q=>new en(b,Q instanceof en?[Q]:[])))}))):Gs(n)))}getChildConfig(e,n,r){return n.children?H({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?H({routes:n._loadedRoutes,injector:n._loadedInjector}):GB(e,n,r,this.urlSerializer).pipe(Ge(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):QB(n))):H({routes:[],injector:e})}};function s$(t){t.sort((e,n)=>e.value.outlet===ee?-1:n.value.outlet===ee?1:e.value.outlet.localeCompare(n.value.outlet))}function a$(t){let e=t.value.routeConfig;return e&&e.path===""}function RR(t){let e=[],n=new Set;for(let r of t){if(!a$(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=RR(r.children);e.push(new en(r.value,i))}return e.filter(r=>!n.has(r))}function tR(t){return t.data||{}}function nR(t){return t.resolve||{}}function c$(t,e,n,r,i,o){return Ge(s=>i$(t,e,n,r,s.extractedUrl,i,o).pipe(B(({state:a,tree:u})=>Z(O({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function u$(t,e){return Ge(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return H(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of MR(u))s.add(l);let a=0;return Ce(s).pipe(Li(u=>o.has(u)?l$(u,r,t,e):(u.data=df(u,u.parent,t).resolve,H(void 0))),Ue(()=>a++),ms(1),Ge(u=>a===s.size?H(n):Vt))})}function MR(t){let e=t.children.map(n=>MR(n)).flat();return[t,...e]}function l$(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!IR(i)&&(o[pu]=i.title),ac(()=>(t.data=df(t,t.parent,n).resolve,d$(o,t,e,r).pipe(B(s=>(t._resolvedData=s,t.data=O(O({},t.data),s),null)))))}function d$(t,e,n,r){let i=g_(t);if(i.length===0)return H({});let o={};return Ce(i).pipe(Ge(s=>h$(t[s],e,n,r).pipe(pr(),Ue(a=>{if(a instanceof Js)throw hf(new _o,a);o[s]=a}))),ms(1),B(()=>o),Ut(s=>DR(s)?Vt:fs(s)))}function h$(t,e,n,r){let i=ea(e)??r,o=na(t,i),s=o.resolve?o.resolve(e,n):Ke(i,()=>o(e,n));return Rr(s)}function f_(t){return tt(e=>{let n=t(e);return n?Ce(n).pipe(B(()=>e)):H(e)})}var N_=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ee);return r}getResolvedTitleForRoute(n){return n.data[pu]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(NR),providedIn:"root"})}return t})(),NR=(()=>{class t extends N_{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(J(W0))};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ra=new L("",{providedIn:"root",factory:()=>({})}),vu=new L(""),PR=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=S(xv);loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return H(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Rr(Ke(n,()=>r.loadComponent())).pipe(B(xR),tt(kR),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),cc(()=>{this.componentLoaders.delete(r)})),o=new us(i,()=>new Ne).pipe(cs());return this.componentLoaders.set(r,o),o}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return H({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=OR(r,this.compiler,n,this.onLoadEndListener).pipe(cc(()=>{this.childrenLoaders.delete(r)})),s=new us(o,()=>new Ne).pipe(cs());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function OR(t,e,n,r){return Rr(Ke(n,()=>t.loadChildren())).pipe(B(xR),tt(kR),Ge(i=>i instanceof Sh||Array.isArray(i)?H(i):Ce(e.compileModuleAsync(i))),B(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(M_),injector:o}}))}function f$(t){return t&&typeof t=="object"&&"default"in t}function xR(t){return f$(t)?t.default:t}function kR(t){return H(t)}var yf=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(p$),providedIn:"root"})}return t})(),p$=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),FR=new L("");var LR=new L(""),VR=(()=>{class t{currentNavigation=Oe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ne;transitionAbortWithErrorSubject=new Ne;configLoader=S(PR);environmentInjector=S(Be);destroyRef=S(bn);urlSerializer=S(gu);rootContexts=S(ta);location=S(qs);inputBindingEnabled=S(gf,{optional:!0})!==null;titleStrategy=S(N_);options=S(ra,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=S(yf);createViewTransition=S(FR,{optional:!0});navigationErrorHandler=S(LR,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>H(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new nf(i)),r=i=>this.events.next(new rf(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;vt(()=>{this.transitions?.next(Z(O({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(n){return this.transitions=new ft(null),this.transitions.pipe(We(r=>r!==null),tt(r=>{let i=!1;return H(r).pipe(tt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),Vt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?Z(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Sr(o.id,this.urlSerializer.serialize(o.rawUrl),"",su.IgnoredSameUrlNavigation)),o.resolve(!1),Vt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return H(o).pipe(tt(u=>(this.events.next(new Eo(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Vt:Promise.resolve(u))),c$(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new au(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new Eo(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let b=_R(this.rootComponentType).snapshot;return this.currentTransition=r=Z(O({},o),{targetSnapshot:b,urlAfterRedirects:l,extras:Z(O({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),H(r)}else return this.events.next(new Sr(o.id,this.urlSerializer.serialize(o.extractedUrl),"",su.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Vt}),Ue(o=>{let s=new Jh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),B(o=>(this.currentTransition=r=Z(O({},o),{guards:SB(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),VB(this.environmentInjector,o=>this.events.next(o)),Ue(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw hf(this.urlSerializer,o.guardsResult);let s=new Xh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),We(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ft.GuardRejected),!1)),f_(o=>{if(o.guards.canActivateChecks.length!==0)return H(o).pipe(Ue(s=>{let a=new ef(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),tt(s=>{let a=!1;return H(s).pipe(u$(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Ft.NoDataFromResolver)}}))}),Ue(s=>{let a=new tf(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),f_(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=ea(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(Ue(h=>{a.component=h}),B(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return sd(s(o.targetSnapshot.root)).pipe(Kr(null),Ot(1))}),f_(()=>this.afterPreactivation()),tt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ce(a).pipe(B(()=>r)):H(r)}),B(o=>{let s=wB(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=Z(O({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),Ue(()=>{this.events.next(new cu)}),DB(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ot(1),ld(new K(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(We(()=>!i&&!r.targetRouterState),Ue(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ft.Aborted)}))),Ue({next:o=>{i=!0,this.lastSuccessfulNavigation=vt(this.currentNavigation),this.events.next(new nn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),ld(this.transitionAbortWithErrorSubject.pipe(Ue(o=>{throw o}))),cc(()=>{i||this.cancelNavigationTransition(r,"",Ft.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ut(o=>{if(this.destroyed)return r.resolve(!1),Vt;if(i=!0,CR(o))this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),CB(o)?this.events.next(new Zs(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Ys(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ke(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof Js){let{message:u,cancellationCode:l}=hf(this.urlSerializer,a);this.events.next(new Jn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Zs(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Vt}))}))}cancelNavigationTransition(n,r,i){let o=new Jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=vt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function g$(t){return t!==ru}var jR=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(m$),providedIn:"root"})}return t})(),pf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},m$=(()=>{class t extends pf{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ii(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),UR=(()=>{class t{urlSerializer=S(gu);options=S(ra,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=S(qs);urlHandlingStrategy=S(yf);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Xn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,s=i??o;return s instanceof Xn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=_R(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:()=>S(y$),providedIn:"root"})}return t})(),y$=(()=>{class t extends UR{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Eo?this.updateStateMemento():n instanceof Sr?this.commitTransition(r):n instanceof au?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof cu?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Jn&&n.code!==Ft.SupersededByNewNavigation&&n.code!==Ft.Redirect?this.restoreHistory(r):n instanceof Ys?this.restoreHistory(r,!0):n instanceof nn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(n)||o){let a=this.browserPageId,u=O(O({},s),this.generateNgRouterState(i,a));this.location.replaceState(n,"",u)}else{let a=O(O({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",a)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ii(t)))(i||t)}})();static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function P_(t,e){t.events.pipe(We(n=>n instanceof nn||n instanceof Jn||n instanceof Ys||n instanceof Sr),B(n=>n instanceof nn||n instanceof Sr?0:(n instanceof Jn?n.code===Ft.Redirect||n.code===Ft.SupersededByNewNavigation:!1)?2:1),We(n=>n!==2),Ot(1)).subscribe(()=>{e()})}var v$={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_$={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ht=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=S(Ah);stateManager=S(UR);options=S(ra,{optional:!0})||{};pendingTasks=S(Cn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=S(VR);urlSerializer=S(gu);location=S(qs);urlHandlingStrategy=S(yf);injector=S(Be);_events=new Ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=S(jR);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=S(vu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!S(gf,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Le;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=vt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Jn&&r.code!==Ft.Redirect&&r.code!==Ft.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nn)this.navigated=!0;else if(r instanceof Zs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=O({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g$(i.source)},s);this.scheduleNavigation(a,ru,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}vB(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ru,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=O({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get($t)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return vt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(M_),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=O(O({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=gR(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return mR(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=hi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ru,null,r)}navigate(n,r={skipLocationChange:!1}){return E$(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Ln(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=O({},v$):r===!1?i=O({},_$):i=r,hi(n))return Y0(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Y0(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return P_(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function E$(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new F(4008,!1)}var fi=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Oe(null);get href(){return vt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ne;applicationErrorHandler=S($t);options=S(ra,{optional:!0});constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(S(new Vh("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof nn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(fe(Ht),fe(Ar),Nc("tabindex"),fe(oi),fe(fn),fe(zs))};static \u0275dir=rt({type:t,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&kt("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&co("href",i.reactiveHref(),tv)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",go],skipLocationChange:[2,"skipLocationChange","skipLocationChange",go],replaceUrl:[2,"replaceUrl","replaceUrl",go],routerLink:"routerLink"},features:[qn]})}return t})(),_u=(()=>{class t{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new He;constructor(n,r,i,o,s){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof nn&&this.update()})}ngAfterContentInit(){H(this.links.changes,H(null)).pipe(ps()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ce(n).pipe(ps()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=w$(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?n.isActive(o,r):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||t)(fe(Ht),fe(fn),fe(oi),fe(po),fe(fi,8))};static \u0275dir=rt({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Nv(o,fi,5),r&2){let s;Pv(s=Ov())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[qn]})}return t})();function w$(t){return!!t.paths}var T$=new L("");function O_(t,...e){return ot([{provide:vu,multi:!0,useValue:t},[],{provide:Ar,useFactory:b$,deps:[Ht]},{provide:si,multi:!0,useFactory:C$},e.map(n=>n.\u0275providers)])}function b$(t){return t.routerState.root}function C$(){let t=S(Ve);return e=>{let n=t.get(at);if(e!==n.components[0])return;let r=t.get(Ht),i=t.get(D$);t.get(S$)===1&&r.initialNavigation(),t.get(A$,null,{optional:!0})?.setUpPreloading(),t.get(T$,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var D$=new L("",{factory:()=>new Ne}),S$=new L("",{providedIn:"root",factory:()=>1});var A$=new L("");var vf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-homepage"]],decls:2,vars:0,template:function(n,r){n&1&&(ai(0,"p"),we(1,"homepage works!"),ci())},encapsulation:2})};var _f=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-elenco-auto"]],decls:2,vars:0,template:function(n,r){n&1&&(ai(0,"p"),we(1,"elenco-auto works!"),ci())},encapsulation:2})};var Ef=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-nuova-auto"]],decls:2,vars:0,template:function(n,r){n&1&&(ai(0,"p"),we(1,"nuova-auto works!"),ci())},encapsulation:2})};var QR=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(fe(oi),fe(fn))};static \u0275dir=rt({type:t})}return t})(),R$=(()=>{class t extends QR{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ii(t)))(i||t)}})();static \u0275dir=rt({type:t,features:[Sn]})}return t})(),YR=new L("");var M$={provide:YR,useExisting:Vn(()=>Rf),multi:!0};function N$(){let t=gn()?gn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var P$=new L(""),Rf=(()=>{class t extends QR{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!N$())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(fe(oi),fe(fn),fe(P$,8))};static \u0275dir=rt({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&kt("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[uo([M$]),Sn]})}return t})();function O$(t){return t==null||ZR(t)===0}function ZR(t){return t==null?null:Array.isArray(t)||typeof t=="string"?t.length:t instanceof Set?t.size:null}var Mf=new L(""),JR=new L("");function x$(t){return O$(t.value)?{required:!0}:null}function k$(t){return e=>{let n=e.value?.length??ZR(e.value);return n!==null&&n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}function BR(t){return null}function XR(t){return t!=null}function eM(t){return ao(t)?Ce(t):t}function tM(t){let e={};return t.forEach(n=>{e=n!=null?O(O({},e),n):e}),Object.keys(e).length===0?null:e}function nM(t,e){return e.map(n=>n(t))}function F$(t){return!t.validate}function rM(t){return t.map(e=>F$(e)?e:n=>e.validate(n))}function L$(t){if(!t)return null;let e=t.filter(XR);return e.length==0?null:function(n){return tM(nM(n,e))}}function F_(t){return t!=null?L$(rM(t)):null}function V$(t){if(!t)return null;let e=t.filter(XR);return e.length==0?null:function(n){let r=nM(n,e).map(eM);return Zg(r).pipe(B(tM))}}function L_(t){return t!=null?V$(rM(t)):null}function $R(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function j$(t){return t._rawValidators}function U$(t){return t._rawAsyncValidators}function x_(t){return t?Array.isArray(t)?t:[t]:[]}function wf(t,e){return Array.isArray(t)?t.includes(e):t===e}function HR(t,e){let n=x_(e);return x_(t).forEach(i=>{wf(n,i)||n.push(i)}),n}function zR(t,e){return x_(e).filter(n=>!wf(t,n))}var Tf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=F_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=L_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},sa=class extends Tf{name;get formDirective(){return null}get path(){return null}},Cu=class extends Tf{_parent=null;name=null;valueAccessor=null},bf=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},B$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ooe=Z(O({},B$),{"[class.ng-submitted]":"isSubmitted"}),iM=(()=>{class t extends bf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(fe(Cu,2))};static \u0275dir=rt({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Sn]})}return t})(),oM=(()=>{class t extends bf{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(fe(sa,10))};static \u0275dir=rt({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Dr("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Sn]})}return t})();var Eu="VALID",If="INVALID",ia="PENDING",Iu="DISABLED",pi=class{},Cf=class extends pi{value;source;constructor(e,n){super(),this.value=e,this.source=n}},Tu=class extends pi{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},bu=class extends pi{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},oa=class extends pi{status;source;constructor(e,n){super(),this.status=e,this.source=n}},k_=class extends pi{source;constructor(e){super(),this.source=e}},Df=class extends pi{source;constructor(e){super(),this.source=e}};function sM(t){return(Nf(t)?t.validators:t)||null}function $$(t){return Array.isArray(t)?F_(t):t||null}function aM(t,e){return(Nf(e)?e.asyncValidators:t)||null}function H$(t){return Array.isArray(t)?L_(t):t||null}function Nf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function z$(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new F(1e3,"");if(!r[n])throw new F(1001,"")}function q$(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new F(1002,"")})}var Sf=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return vt(this.statusReactive)}set status(e){vt(()=>this.statusReactive.set(e))}_status=lo(()=>this.statusReactive());statusReactive=Oe(void 0);get valid(){return this.status===Eu}get invalid(){return this.status===If}get pending(){return this.status==ia}get disabled(){return this.status===Iu}get enabled(){return this.status!==Iu}errors;get pristine(){return vt(this.pristineReactive)}set pristine(e){vt(()=>this.pristineReactive.set(e))}_pristine=lo(()=>this.pristineReactive());pristineReactive=Oe(!0);get dirty(){return!this.pristine}get touched(){return vt(this.touchedReactive)}set touched(e){vt(()=>this.touchedReactive.set(e))}_touched=lo(()=>this.touchedReactive());touchedReactive=Oe(!1);get untouched(){return!this.touched}_events=new Ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(HR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(HR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zR(e,this._rawAsyncValidators))}hasValidator(e){return wf(this._rawValidators,e)}hasAsyncValidator(e){return wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Z(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new bu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new bu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Z(O({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Tu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Tu(!0,r))}markAsPending(e={}){this.status=ia;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oa(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Z(O({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Iu,this.errors=null,this._forEachChild(i=>{i.disable(Z(O({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,r)),this._events.next(new oa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Z(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Eu,this._forEachChild(r=>{r.enable(Z(O({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Z(O({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Eu||this.status===ia)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Cf(this.value,n)),this._events.next(new oa(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Z(O({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Iu:Eu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ia,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:e!==!1};let r=eM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oa(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?Iu:this.errors?If:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ia)?ia:this._anyControlsHaveStatus(If)?If:Eu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Tu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new bu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Nf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=$$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=H$(this._rawAsyncValidators)}},Af=class extends Sf{constructor(e,n,r){super(sM(n),aM(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){q$(this,!0,e),Object.keys(e).forEach(r=>{z$(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Df(this))}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var V_=new L("",{providedIn:"root",factory:()=>j_}),j_="always";function G$(t,e){return[...e.path,t]}function cM(t,e,n=j_){uM(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),K$(t,e),Y$(t,e),Q$(t,e),W$(t,e)}function qR(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function W$(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function uM(t,e){let n=j$(t);e.validator!==null?t.setValidators($R(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=U$(t);e.asyncValidator!==null?t.setAsyncValidators($R(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();qR(e._rawValidators,i),qR(e._rawAsyncValidators,i)}function K$(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&lM(t,e)})}function Q$(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&lM(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function lM(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Y$(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Z$(t,e){t==null,uM(t,e)}function J$(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function X$(t){return Object.getPrototypeOf(t.constructor)===R$}function eH(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function tH(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Rf?n=o:X$(o)?r=o:i=o}),i||r||n||null}var nH={provide:sa,useExisting:Vn(()=>U_)},wu=Promise.resolve(),U_=(()=>{class t extends sa{callSetDisabledState;get submitted(){return vt(this.submittedReactive)}_submitted=lo(()=>this.submittedReactive());submittedReactive=Oe(!1);_directives=new Set;form;ngSubmit=new He;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Af({},F_(n),L_(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){wu.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),cM(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){wu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){wu.then(()=>{let r=this._findContainer(n.path),i=new Af({});Z$(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){wu.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){wu.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),eH(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new k_(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||t)(fe(Mf,10),fe(JR,10),fe(V_,8))};static \u0275dir=rt({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&kt("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[uo([nH]),Sn]})}return t})();function GR(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WR(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var rH=class extends Sf{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(sM(n),aM(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Nf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(WR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Df(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var iH={provide:Cu,useExisting:Vn(()=>B_)},KR=Promise.resolve(),B_=(()=>{class t extends Cu{_changeDetectorRef;callSetDisabledState;control=new rH;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new He;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=tH(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),J$(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){cM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){KR.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&go(r);KR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?G$(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(fe(sa,9),fe(Mf,10),fe(JR,10),fe(YR,10),fe(po,8),fe(V_,8))};static \u0275dir=rt({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[uo([iH]),Sn,qn]})}return t})();var dM=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275dir=rt({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return t})();function oH(t){return typeof t=="number"?t:parseInt(t,10)}var hM=(()=>{class t{_validator=BR;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):BR,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=rt({type:t,features:[qn]})}return t})();var sH={provide:Mf,useExisting:Vn(()=>$_),multi:!0};var $_=(()=>{class t extends hM{required;inputName="required";normalizeInput=go;createValidator=n=>x$;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ii(t)))(i||t)}})();static \u0275dir=rt({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&co("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[uo([sH]),Sn]})}return t})();var aH={provide:Mf,useExisting:Vn(()=>H_),multi:!0},H_=(()=>{class t extends hM{maxlength;inputName="maxlength";normalizeInput=n=>oH(n);createValidator=n=>k$(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=ii(t)))(i||t)}})();static \u0275dir=rt({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&co("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[uo([aH]),Sn]})}return t})();var cH=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=wn({})}return t})();var fM=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:V_,useValue:n.callSetDisabledState??j_}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Kn({type:t});static \u0275inj=wn({imports:[cH]})}return t})();var pM=()=>{};var yM=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lH=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Pf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yM(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new q_;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},q_=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dH=function(t){let e=yM(t);return Pf.encodeByteArray(e,!0)},Su=function(t){return dH(t).replace(/\./g,"")},Of=function(t){try{return Pf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function W_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var hH=()=>W_().__FIREBASE_DEFAULTS__,fH=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Of(t[1]);return e&&JSON.parse(e)},xf=()=>{try{return pM()||hH()||fH()||pH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vM=t=>{var e,n;return(n=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_M=t=>{let e=vM(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K_=()=>{var t;return(t=xf())===null||t===void 0?void 0:t.config},EM=t=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${t}`]};var Io=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function wo(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Q_(t){return(await fetch(t,{credentials:"include"})).ok}function IM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Su(JSON.stringify(n)),Su(JSON.stringify(s)),""].join(".")}var Du={};function gH(){let t={prod:[],emulator:[]};for(let e of Object.keys(Du))Du[e]?t.emulator.push(e):t.prod.push(e);return t}function mH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}var gM=!1;function Y_(t,e){if(typeof window>"u"||typeof document>"u"||!wo(window.location.host)||Du[t]===e||Du[t]||gM)return;Du[t]=e;function n(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=gH().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{gM=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=mH(r),y=n("text"),b=document.getElementById(y)||document.createElement("span"),M=n("learnmore"),R=document.getElementById(M)||document.createElement("a"),k=n("preprendIcon"),W=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(R,M);let me=l();u(W,k),Q.append(W,b,R,me),document.body.appendChild(Q)}o?(b.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function yH(){var t;let e=(t=xf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function bM(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function CM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DM(){return!yH()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Au(){try{return typeof indexedDB=="object"}catch{return!1}}function SM(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var vH="FirebaseError",mn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=vH,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mn.prototype.create)}},Mn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?_H(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mn(i,a,r)}};function _H(t,e){return t.replace(EH,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var EH=/\{\$([^}]+)}/g;function To(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(mM(o)&&mM(s)){if(!To(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function mM(t){return t!==null&&typeof t=="object"}function Z_(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AM(t,e){let n=new G_(t,e);return n.subscribe.bind(n)}var G_=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");IH(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=z_),i.error===void 0&&(i.error=z_),i.complete===void 0&&(i.complete=z_);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function IH(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function z_(){}var Voe=14400*1e3;function _t(t){return t&&t._delegate?t._delegate:t}var Lt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bo="[DEFAULT]";var J_=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Io;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TH(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wH(t){return t===bo?void 0:t}function TH(t){return t.instantiationMode==="EAGER"}var kf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new J_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var bH=[],ae=(function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t})(ae||{}),CH={debug:ae.DEBUG,verbose:ae.VERBOSE,info:ae.INFO,warn:ae.WARN,error:ae.ERROR,silent:ae.SILENT},DH=ae.INFO,SH={[ae.DEBUG]:"log",[ae.VERBOSE]:"log",[ae.INFO]:"info",[ae.WARN]:"warn",[ae.ERROR]:"error"},AH=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=SH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},er=class{constructor(e){this.name=e,this._logLevel=DH,this._logHandler=AH,this._userLogHandler=null,bH.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ae))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CH[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ae.DEBUG,...e),this._logHandler(this,ae.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ae.VERBOSE,...e),this._logHandler(this,ae.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ae.INFO,...e),this._logHandler(this,ae.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ae.WARN,...e),this._logHandler(this,ae.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ae.ERROR,...e),this._logHandler(this,ae.ERROR,...e)}};var RH=(t,e)=>e.some(n=>t instanceof n),RM,MM;function MH(){return RM||(RM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NH(){return MM||(MM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var NM=new WeakMap,eE=new WeakMap,PM=new WeakMap,X_=new WeakMap,nE=new WeakMap;function PH(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(tr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NM.set(n,t)}).catch(()=>{}),nE.set(e,t),e}function OH(t){if(eE.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});eE.set(t,e)}var tE={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eE.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PM.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OM(t){tE=t(tE)}function xH(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ff(this),e,...n);return PM.set(r,e.sort?e.sort():[e]),tr(r)}:NH().includes(t)?function(...e){return t.apply(Ff(this),e),tr(NM.get(this))}:function(...e){return tr(t.apply(Ff(this),e))}}function kH(t){return typeof t=="function"?xH(t):(t instanceof IDBTransaction&&OH(t),RH(t,MH())?new Proxy(t,tE):t)}function tr(t){if(t instanceof IDBRequest)return PH(t);if(X_.has(t))return X_.get(t);let e=kH(t);return e!==t&&(X_.set(t,e),nE.set(e,t)),e}var Ff=t=>nE.get(t);function kM(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(tr(s.result),u.oldVersion,u.newVersion,tr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var FH=["get","getKey","getAll","getAllKeys","count"],LH=["put","add","delete","clear"],rE=new Map;function xM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rE.get(e))return rE.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=LH.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||FH.includes(n)))return;let o=async function(s,...a){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),i&&u.done]))[0]};return rE.set(e,o),o}OM(t=>Z(O({},t),{get:(e,n,r)=>xM(e,n)||t.get(e,n,r),has:(e,n)=>!!xM(e,n)||t.has(e,n)}));var oE=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VH(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function VH(t){let e=t.getComponent();return e?.type==="VERSION"}var sE="@firebase/app",FM="0.13.2";var Mr=new er("@firebase/app"),jH="@firebase/app-compat",UH="@firebase/analytics-compat",BH="@firebase/analytics",$H="@firebase/app-check-compat",HH="@firebase/app-check",zH="@firebase/auth",qH="@firebase/auth-compat",GH="@firebase/database",WH="@firebase/data-connect",KH="@firebase/database-compat",QH="@firebase/functions",YH="@firebase/functions-compat",ZH="@firebase/installations",JH="@firebase/installations-compat",XH="@firebase/messaging",e4="@firebase/messaging-compat",t4="@firebase/performance",n4="@firebase/performance-compat",r4="@firebase/remote-config",i4="@firebase/remote-config-compat",o4="@firebase/storage",s4="@firebase/storage-compat",a4="@firebase/firestore",c4="@firebase/ai",u4="@firebase/firestore-compat",l4="firebase",d4="11.10.0";var aE="[DEFAULT]",h4={[sE]:"fire-core",[jH]:"fire-core-compat",[BH]:"fire-analytics",[UH]:"fire-analytics-compat",[HH]:"fire-app-check",[$H]:"fire-app-check-compat",[zH]:"fire-auth",[qH]:"fire-auth-compat",[GH]:"fire-rtdb",[WH]:"fire-data-connect",[KH]:"fire-rtdb-compat",[QH]:"fire-fn",[YH]:"fire-fn-compat",[ZH]:"fire-iid",[JH]:"fire-iid-compat",[XH]:"fire-fcm",[e4]:"fire-fcm-compat",[t4]:"fire-perf",[n4]:"fire-perf-compat",[r4]:"fire-rc",[i4]:"fire-rc-compat",[o4]:"fire-gcs",[s4]:"fire-gcs-compat",[a4]:"fire-fst",[u4]:"fire-fst-compat",[c4]:"fire-vertex","fire-js":"fire-js",[l4]:"fire-js-all"};var Ru=new Map,f4=new Map,cE=new Map;function LM(t,e){try{t.container.addComponent(e)}catch(n){Mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Nn(t){let e=t.name;if(cE.has(e))return Mr.debug(`There were multiple attempts to register component ${e}.`),!1;cE.set(e,t);for(let n of Ru.values())LM(n,t);for(let n of f4.values())LM(n,t);return!0}function Lf(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Nr(t){return t==null?!1:t.settings!==void 0}var p4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},gi=new Mn("app","Firebase",p4);var uE=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw gi.create("app-deleted",{appName:this._name})}};var aa=d4;function hE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:aE,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw gi.create("bad-app-name",{appName:String(i)});if(n||(n=K_()),!n)throw gi.create("no-options");let o=Ru.get(i);if(o){if(To(n,o.options)&&To(r,o.config))return o;throw gi.create("duplicate-app",{appName:i})}let s=new kf(i);for(let u of cE.values())s.addComponent(u);let a=new uE(n,r,s);return Ru.set(i,a),a}function ca(t=aE){let e=Ru.get(t);if(!e&&t===aE&&K_())return hE();if(!e)throw gi.create("no-app",{appName:t});return e}function Vf(){return Array.from(Ru.values())}function ze(t,e,n){var r;let i=(r=h4[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mr.warn(a.join(" "));return}Nn(new Lt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var g4="firebase-heartbeat-database",m4=1,Mu="firebase-heartbeat-store",iE=null;function BM(){return iE||(iE=kM(g4,m4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Mu)}catch(n){console.warn(n)}}}}).catch(t=>{throw gi.create("idb-open",{originalErrorMessage:t.message})})),iE}async function y4(t){try{let n=(await BM()).transaction(Mu),r=await n.objectStore(Mu).get($M(t));return await n.done,r}catch(e){if(e instanceof mn)Mr.warn(e.message);else{let n=gi.create("idb-get",{originalErrorMessage:e?.message});Mr.warn(n.message)}}}async function VM(t,e){try{let r=(await BM()).transaction(Mu,"readwrite");await r.objectStore(Mu).put(e,$M(t)),await r.done}catch(n){if(n instanceof mn)Mr.warn(n.message);else{let r=gi.create("idb-set",{originalErrorMessage:n?.message});Mr.warn(r.message)}}}function $M(t){return`${t.name}!${t.options.appId}`}var v4=1024,_4=30,lE=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=jM();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>_4){let s=I4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=jM(),{heartbeatsToSend:r,unsentEntries:i}=E4(this._heartbeatsCache.heartbeats),o=Su(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Mr.warn(n),""}}};function jM(){return new Date().toISOString().substring(0,10)}function E4(t,e=v4){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),UM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),UM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dE=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Au()?SM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let n=await y4(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return VM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){let i=await this.read();return VM(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function UM(t){return Su(JSON.stringify({version:2,heartbeats:t})).length}function I4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function w4(t){Nn(new Lt("platform-logger",e=>new oE(e),"PRIVATE")),Nn(new Lt("heartbeat",e=>new lE(e),"PRIVATE")),ze(sE,FM,t),ze(sE,FM,"esm2017"),ze("fire-js","")}w4("");var T4="firebase",b4="11.10.0";ze(T4,b4,"app");function HM(t){t===void 0&&(t=S(Ve));let e=t.get(ni);return n=>new K(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=n.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Do=new Qr("ANGULARFIRE2_VERSION");function Uf(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var la=(t,e)=>{let n=e?[e]:Vf(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ua=(function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t})(ua||{}),zM=Gc()&&typeof Zone<"u"?ua.WARN:ua.SILENT;var jf=class{zone;delegate;constructor(e,n=Kg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,n,r)}},So=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=S(ge);this.outsideAngular=n.runOutsideAngular(()=>new jf(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new jf(typeof Zone>"u"?void 0:Zone.current,Wg))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qM=!1;function C4(t,e){!qM&&(zM>ua.SILENT||Gc())&&(qM=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),zM>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function D4(t){let e=S(ge,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Co(t){let e=S(ge,{optional:!0});return e?e.run(()=>t()):t()}var S4=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Ke(n,()=>Co(()=>t.apply(void 0,r)))),At=(t,e,n)=>(n||=e?ua.WARN:ua.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=S(So),s=S(ni),a=S(Be)}catch{return C4(t,n),t.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=Co(()=>s.add())),i[l]=S4(i[l],r,a));let u=D4(()=>t.apply(this,i));return e?u instanceof K?u.pipe(Wr(o.outsideAngular),Gr(o.insideAngular),HM(a)):u instanceof Promise?Co(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ke(a,()=>Co(()=>h(m))),m=>Ke(a,()=>Co(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:Co(()=>u):u instanceof K?u.pipe(Wr(o.outsideAngular),Gr(o.insideAngular)):Co(()=>u)});var Ao=class{constructor(e){return e}},Nu=class{constructor(){return Vf()}};function A4(t){return t&&t.length===1?t[0]:new Ao(ca())}var fE=new L("angularfire2._apps"),R4={provide:Ao,useFactory:A4,deps:[[new zn,fE]]},M4={provide:Nu,deps:[[new zn,fE]]};function N4(t){return(e,n)=>{let r=n.get(wr);ze("angularfire",Do.full,"core"),ze("angularfire",Do.full,"app"),ze("angular",dm.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ao(i)}}function GM(t,...e){return ot([R4,M4,{provide:fE,useFactory:N4(t),multi:!0,deps:[ge,Ve,So,...e]}])}var WM=At(hE,!0);var P4=new Map,O4={activated:!1,tokenObservers:[]},x4={initialized:!1,enabled:!1};function Pn(t){return P4.get(t)||Object.assign({},O4)}function ZM(){return x4}var k4="https://content-firebaseappcheck.googleapis.com/v1";var F4="exchangeDebugToken",KM={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Vse=1440*60*1e3;var mE=class{constructor(e,n,r,i,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new Io,this.pending.promise.catch(n=>{}),await L4(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new Io,this.pending.promise.catch(n=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function L4(t){return new Promise(e=>{setTimeout(e,t)})}var V4={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},mi=new Mn("appCheck","AppCheck",V4);function JM(t){if(!Pn(t).activated)throw mi.create("use-before-activation",{appName:t.name})}async function XM({url:t,body:e},n){let r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){let p=await i.getHeartbeatsHeader();p&&(r["X-Firebase-Client"]=p)}let o={method:"POST",body:JSON.stringify(e),headers:r},s;try{s=await fetch(t,o)}catch(p){throw mi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(s.status!==200)throw mi.create("fetch-status-error",{httpStatus:s.status});let a;try{a=await s.json()}catch(p){throw mi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let l=Number(u[1])*1e3,h=Date.now();return{token:a.token,expireTimeMillis:h+l,issuedAtTimeMillis:h}}function eN(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${k4}/projects/${n}/apps/${r}:${F4}?key=${i}`,body:{debug_token:e}}}var j4="firebase-app-check-database",U4=1,yE="firebase-app-check-store";var Bf=null;function B4(){return Bf||(Bf=new Promise((t,e)=>{try{let n=indexedDB.open(j4,U4);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(mi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(yE,{keyPath:"compositeKey"})}}}catch(n){e(mi.create("storage-open",{originalErrorMessage:n?.message}))}}),Bf)}function $4(t,e){return H4(z4(t),e)}async function H4(t,e){let r=(await B4()).transaction(yE,"readwrite"),o=r.objectStore(yE).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(mi.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})}function z4(t){return`${t.options.appId}-${t.name}`}var Pu=new er("@firebase/app-check");function pE(t,e){return Au()?$4(t,e).catch(n=>{Pu.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function tN(){return ZM().enabled}async function nN(){let t=ZM();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var q4={error:"UNKNOWN_ERROR"};function G4(t){return Pf.encodeString(JSON.stringify(t),!1)}async function vE(t,e=!1,n=!1){let r=t.app;JM(r);let i=Pn(r),o=i.token,s;if(o&&!Ou(o)&&(i.token=void 0,o=void 0),!o){let l=await i.cachedTokenPromise;l&&(Ou(l)?o=l:await pE(r,void 0))}if(!e&&o&&Ou(o))return{token:o.token};let a=!1;if(tN())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=XM(eN(r,await nN()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=await i.exchangeTokenPromise;return await pE(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Pu.warn(l.message):n&&Pu.error(l),gE(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=await Pn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Pu.warn(l.message):n&&Pu.error(l),s=l}let u;return o?s?Ou(o)?u={token:o.token,internalError:s}:u=gE(s):(u={token:o.token},i.token=o,await pE(r,o)):u=gE(s),a&&Y4(r,u),u}async function W4(t){let e=t.app;JM(e);let{provider:n}=Pn(e);if(tN()){let r=await nN(),{token:i}=await XM(eN(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await n.getToken();return{token:r}}}function K4(t,e,n,r){let{app:i}=t,o=Pn(i),s={next:n,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ou(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),QM(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>QM(t))}function rN(t,e){let n=Pn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function QM(t){let{app:e}=t,n=Pn(e),r=n.tokenRefresher;r||(r=Q4(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Q4(t){let{app:e}=t;return new mE(async()=>{let n=Pn(e),r;if(n.token?r=await vE(t,!0):r=await vE(t),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let n=Pn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},KM.RETRIAL_MIN_WAIT,KM.RETRIAL_MAX_WAIT)}function Y4(t,e){let n=Pn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Ou(t){return t.expireTimeMillis-Date.now()>0}function gE(t){return{token:G4(q4),error:t}}var _E=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Pn(this.app);for(let n of e)rN(this.app,n.next);return Promise.resolve()}};function Z4(t,e){return new _E(t,e)}function J4(t){return{getToken:e=>vE(t,e),getLimitedUseToken:()=>W4(t),addTokenListener:e=>K4(t,"INTERNAL",e),removeTokenListener:e=>rN(t.app,e)}}var X4="@firebase/app-check",ez="0.10.1";var tz="app-check",YM="app-check-internal";function nz(){Nn(new Lt(tz,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Z4(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(YM).initialize()})),Nn(new Lt(YM,t=>{let e=t.getProvider("app-check").getImmediate();return J4(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),ze(X4,ez)}nz();var rz="app-check";var $f=class{constructor(){return la(rz)}};var iz=["localhost","0.0.0.0","127.0.0.1"],Yse=typeof window<"u"&&iz.includes(window.location.hostname);function dN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var hN=dN,fN=new Mn("auth","Firebase",dN());var Gf=new er("@firebase/auth");function oz(t,...e){Gf.logLevel<=ae.WARN&&Gf.warn(`Auth (${aa}): ${t}`,...e)}function zf(t,...e){Gf.logLevel<=ae.ERROR&&Gf.error(`Auth (${aa}): ${t}`,...e)}function iN(t,...e){throw NE(t,...e)}function ME(t,...e){return NE(t,...e)}function pN(t,e,n){let r=Object.assign(Object.assign({},hN()),{[e]:n});return new Mn("auth","Firebase",r).create(e,{appName:t.name})}function qf(t){return pN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NE(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return fN.create(t,...e)}function Ee(t,e,...n){if(!t)throw NE(e,...n)}function xu(t){let e="INTERNAL ASSERTION FAILED: "+t;throw zf(e),new Error(e)}function Wf(t,e){t||xu(e)}function sz(){return oN()==="http:"||oN()==="https:"}function oN(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function az(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sz()||bM()||"connection"in navigator)?navigator.onLine:!0}function cz(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var No=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wf(n>e,"Short delay should be less than long delay!"),this.isMobile=wM()||CM()}get(){return az()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function uz(t,e){Wf(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Kf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var lz={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var dz=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hz=new No(3e4,6e4);function gN(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Xf(t,e,n,r,i={}){return mN(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});let a=Z_(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);let l=Object.assign({method:e,headers:u},o);return TM()||(l.referrerPolicy="no-referrer"),t.emulatorConfig&&wo(t.emulatorConfig.host)&&(l.credentials="include"),Kf.fetch()(await yN(t,t.config.apiHost,n,a),l)})}async function mN(t,e,n){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},lz),e);try{let i=new wE(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=await o.json();if("needConfirmation"in s)throw Hf(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hf(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Hf(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Hf(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw pN(t,h,l);iN(t,h)}}catch(i){if(i instanceof mn)throw i;iN(t,"network-request-failed",{message:String(i)})}}async function yN(t,e,n,r){let i=`${e}${n}?${r}`,o=t,s=o.config.emulator?uz(t.config,i):`${t.config.apiScheme}://${i}`;return dz.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}var wE=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ME(this.auth,"network-request-failed")),hz.get())})}};function Hf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ME(t,e,r);return i.customData._tokenResponse=n,i}async function fz(t,e){return Xf(t,"POST","/v1/accounts:delete",e)}async function Qf(t,e){return Xf(t,"POST","/v1/accounts:lookup",e)}function ku(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PE(t,e=!1){let n=_t(t),r=await n.getIdToken(e),i=vN(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ku(EE(i.auth_time)),issuedAtTime:ku(EE(i.iat)),expirationTime:ku(EE(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}}function EE(t){return Number(t)*1e3}function vN(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return zf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Of(n);return i?JSON.parse(i):(zf("Failed to decode base64 JWT payload"),null)}catch(i){return zf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sN(t){let e=vN(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function TE(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mn&&pz(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pz({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var bE=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Lu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ku(this.lastLoginAt),this.creationTime=ku(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Yf(t){var e;let n=t.auth,r=await t.getIdToken(),i=await TE(t,Qf(n,{idToken:r}));Ee(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_N(o.providerUserInfo):[],a=gz(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Lu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function OE(t){let e=_t(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gz(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _N(t){return t.map(e=>{var{providerId:n}=e,r=Qg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function mz(t,e){let n=await mN(t,{},async()=>{let r=Z_({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await yN(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return t.emulatorConfig&&wo(t.emulatorConfig.host)&&(u.credentials="include"),Kf.fetch()(s,u)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function yz(t,e){return Xf(t,"POST","/v2/accounts:revokeToken",gN(t,e))}var Fu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");let n=sN(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){let{accessToken:r,refreshToken:i,expiresIn:o}=await mz(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ee(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return xu("not implemented")}};function yi(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ro=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Lu(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){let n=await TE(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PE(this,e)}reload(){return OE(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Nr(this.auth.app))return Promise.reject(qf(this.auth));let e=await this.getIdToken();return await TE(this,fz(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(s=n.photoURL)!==null&&s!==void 0?s:void 0,M=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:me,isAnonymous:dt,providerData:be,stsTokenManager:w}=n;Ee(Q&&w,e,"internal-error");let v=Fu.fromJSON(this.name,w);Ee(typeof Q=="string",e,"internal-error"),yi(p,e.name),yi(m,e.name),Ee(typeof me=="boolean",e,"internal-error"),Ee(typeof dt=="boolean",e,"internal-error"),yi(y,e.name),yi(b,e.name),yi(M,e.name),yi(R,e.name),yi(k,e.name),yi(W,e.name);let E=new t({uid:Q,auth:e,email:m,emailVerified:me,displayName:p,isAnonymous:dt,photoURL:b,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:k,lastLoginAt:W});return be&&Array.isArray(be)&&(E.providerData=be.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static async _fromIdTokenResponse(e,n,r=!1){let i=new Fu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(o),o}static async _fromGetAccountInfoResponse(e,n,r){let i=n.users[0];Ee(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?_N(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Fu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Lu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u}};var aN=new Map;function Mo(t){Wf(t instanceof Function,"Expected a class definition");let e=aN.get(t);return e?(Wf(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aN.set(t,e),e)}var vz=(()=>{class t{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(n,r){this.storage[n]=r}async _get(n){let r=this.storage[n];return r===void 0?null:r}async _remove(n){delete this.storage[n]}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),CE=vz;function IE(t,e,n){return`firebase:${t}:${e}:${n}`}var Zf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=IE(this.userKey,i.apiKey,o),this.fullPersistenceKey=IE("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let n=await Qf(this.auth,{idToken:e}).catch(()=>{});return n?Ro._fromGetAccountInfoResponse(this.auth,n,e):null}return Ro._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new t(Mo(CE),e,r);let i=(await Promise.all(n.map(async l=>{if(await l._isAvailable())return l}))).filter(l=>l),o=i[0]||Mo(CE),s=IE(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=await l._get(s);if(h){let p;if(typeof h=="string"){let m=await Qf(e,{idToken:h}).catch(()=>{});if(!m)break;p=await Ro._fromGetAccountInfoResponse(e,m,h)}else p=Ro._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async l=>{if(l!==o)try{await l._remove(s)}catch{}})),new t(o,e,r))}};function cN(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_z(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bz(e))return"Blackberry";if(Cz(e))return"Webos";if(Ez(e))return"Safari";if((e.includes("chrome/")||Iz(e))&&!e.includes("edge/"))return"Chrome";if(Tz(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function _z(t=rn()){return/firefox\//i.test(t)}function Ez(t=rn()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Iz(t=rn()){return/crios\//i.test(t)}function wz(t=rn()){return/iemobile/i.test(t)}function Tz(t=rn()){return/android/i.test(t)}function bz(t=rn()){return/blackberry/i.test(t)}function Cz(t=rn()){return/webos/i.test(t)}function EN(t,e=[]){let n;switch(t){case"Browser":n=cN(rn());break;case"Worker":n=`${cN(rn())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${aa}/${r}`}var DE=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function Dz(t,e={}){return Xf(t,"GET","/v2/passwordPolicy",gN(t,e))}var Sz=6,SE=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Sz,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var AE=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jf(this),this.idTokenSubscription=new Jf(this),this.beforeStateQueue=new DE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Mo(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Zf.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let n=await Qf(this,{idToken:e}),r=await Ro._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Nr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=cz()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Nr(this.app))return Promise.reject(qf(this));let n=e?_t(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Nr(this.app)?Promise.reject(qf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Nr(this.app)?Promise.reject(qf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Mo(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await Dz(this),n=new SE(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Mn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){let n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await yz(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){let r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let n=e&&Mo(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await Zf.create(this,[Mo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=EN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Nr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&oz(`Error while retrieving App Check token: ${n.error}`),n?.token}};function Az(t){return _t(t)}var Jf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=AM(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Rz={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mz(t){Rz=t}function Nz(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Pz(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mo);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var cae=Nz("rcb"),uae=new No(3e4,6e4);var lae=new No(2e3,1e4);var dae=600*1e3;var hae=new No(3e4,6e4);var fae=new No(5e3,15e3);var pae=encodeURIComponent("fac");var uN="@firebase/auth",lN="1.10.8";var RE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Oz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function xz(t){Nn(new Lt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ee(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:EN(t)},l=new AE(r,i,o,u);return Pz(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Nn(new Lt("auth-internal",e=>{let n=Az(e.getProvider("auth").getImmediate());return(r=>new RE(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ze(uN,lN,Oz(t)),ze(uN,lN,"esm2017")}var kz=300,gae=EM("authIdTokenMaxAge")||kz;function Fz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Mz({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=ME("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Fz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});xz("Browser");var xq="auth";var ep=class{constructor(){return la(xq)}};var IN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wN={};var Pr,xE;(function(){var t;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,T,D){for(var _=Array(arguments.length-2),ur=2;ur<arguments.length;ur++)_[ur-2]=arguments[ur];return v.prototype[T].apply(I,_)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)I[T]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(T=0;16>T;++T)I[T]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],T=w.g[2];var D=w.g[3],_=v+(D^E&(T^D))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=D+(T^v&(E^T))+I[1]+3905402710&4294967295,D=v+(_<<12&4294967295|_>>>20),_=T+(E^D&(v^E))+I[2]+606105819&4294967295,T=D+(_<<17&4294967295|_>>>15),_=E+(v^T&(D^v))+I[3]+3250441966&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(D^E&(T^D))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(T^v&(E^T))+I[5]+1200080426&4294967295,D=v+(_<<12&4294967295|_>>>20),_=T+(E^D&(v^E))+I[6]+2821735955&4294967295,T=D+(_<<17&4294967295|_>>>15),_=E+(v^T&(D^v))+I[7]+4249261313&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(D^E&(T^D))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(T^v&(E^T))+I[9]+2336552879&4294967295,D=v+(_<<12&4294967295|_>>>20),_=T+(E^D&(v^E))+I[10]+4294925233&4294967295,T=D+(_<<17&4294967295|_>>>15),_=E+(v^T&(D^v))+I[11]+2304563134&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(D^E&(T^D))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=D+(T^v&(E^T))+I[13]+4254626195&4294967295,D=v+(_<<12&4294967295|_>>>20),_=T+(E^D&(v^E))+I[14]+2792965006&4294967295,T=D+(_<<17&4294967295|_>>>15),_=E+(v^T&(D^v))+I[15]+1236535329&4294967295,E=T+(_<<22&4294967295|_>>>10),_=v+(T^D&(E^T))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^T&(v^E))+I[6]+3225465664&4294967295,D=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(D^v))+I[11]+643717713&4294967295,T=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(T^D))+I[0]+3921069994&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^D&(E^T))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^T&(v^E))+I[10]+38016083&4294967295,D=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(D^v))+I[15]+3634488961&4294967295,T=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(T^D))+I[4]+3889429448&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^D&(E^T))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^T&(v^E))+I[14]+3275163606&4294967295,D=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(D^v))+I[3]+4107603335&4294967295,T=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(T^D))+I[8]+1163531501&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(T^D&(E^T))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=D+(E^T&(v^E))+I[2]+4243563512&4294967295,D=v+(_<<9&4294967295|_>>>23),_=T+(v^E&(D^v))+I[7]+1735328473&4294967295,T=D+(_<<14&4294967295|_>>>18),_=E+(D^v&(T^D))+I[12]+2368359562&4294967295,E=T+(_<<20&4294967295|_>>>12),_=v+(E^T^D)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^T)+I[8]+2272392833&4294967295,D=v+(_<<11&4294967295|_>>>21),_=T+(D^v^E)+I[11]+1839030562&4294967295,T=D+(_<<16&4294967295|_>>>16),_=E+(T^D^v)+I[14]+4259657740&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^D)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^T)+I[4]+1272893353&4294967295,D=v+(_<<11&4294967295|_>>>21),_=T+(D^v^E)+I[7]+4139469664&4294967295,T=D+(_<<16&4294967295|_>>>16),_=E+(T^D^v)+I[10]+3200236656&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^D)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^T)+I[0]+3936430074&4294967295,D=v+(_<<11&4294967295|_>>>21),_=T+(D^v^E)+I[3]+3572445317&4294967295,T=D+(_<<16&4294967295|_>>>16),_=E+(T^D^v)+I[6]+76029189&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(E^T^D)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=D+(v^E^T)+I[12]+3873151461&4294967295,D=v+(_<<11&4294967295|_>>>21),_=T+(D^v^E)+I[15]+530742520&4294967295,T=D+(_<<16&4294967295|_>>>16),_=E+(T^D^v)+I[2]+3299628645&4294967295,E=T+(_<<23&4294967295|_>>>9),_=v+(T^(E|~D))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~T))+I[7]+1126891415&4294967295,D=v+(_<<10&4294967295|_>>>22),_=T+(v^(D|~E))+I[14]+2878612391&4294967295,T=D+(_<<15&4294967295|_>>>17),_=E+(D^(T|~v))+I[5]+4237533241&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~D))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~T))+I[3]+2399980690&4294967295,D=v+(_<<10&4294967295|_>>>22),_=T+(v^(D|~E))+I[10]+4293915773&4294967295,T=D+(_<<15&4294967295|_>>>17),_=E+(D^(T|~v))+I[1]+2240044497&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~D))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~T))+I[15]+4264355552&4294967295,D=v+(_<<10&4294967295|_>>>22),_=T+(v^(D|~E))+I[6]+2734768916&4294967295,T=D+(_<<15&4294967295|_>>>17),_=E+(D^(T|~v))+I[13]+1309151649&4294967295,E=T+(_<<21&4294967295|_>>>11),_=v+(T^(E|~D))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=D+(E^(v|~T))+I[11]+3174756917&4294967295,D=v+(_<<10&4294967295|_>>>22),_=T+(v^(D|~E))+I[2]+718787259&4294967295,T=D+(_<<15&4294967295|_>>>17),_=E+(D^(T|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(T+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+T&4294967295,w.g[3]=w.g[3]+D&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,T=this.h,D=0;D<v;){if(T==0)for(;D<=E;)i(this,w,D),D+=this.blockSize;if(typeof w=="string"){for(;D<v;)if(I[T++]=w.charCodeAt(D++),T==this.blockSize){i(this,I),T=0;break}}else for(;D<v;)if(I[T++]=w[D++],T==this.blockSize){i(this,I),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,T=w.length-1;0<=T;T--){var D=w[T]|0;I&&D==v||(E[T]=D,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,T=0;T<w.length;T+=8){var D=Math.min(8,w.length-T),_=parseInt(w.substring(T,T+D),v);8>D?(D=l(Math.pow(v,D)),I=I.j(D).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);t=s.prototype,t.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var T=me(E,v).g;E=k(E,T.j(v));var D=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=T,b(E))return D+I;for(;6>D.length;)D="0"+D;I=D+I}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function b(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}t.l=function(w){return w=k(this,w),M(w)?-1:b(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}t.abs=function(){return M(this)?R(this):this},t.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,T=0;T<=v;T++){var D=I+(this.i(T)&65535)+(w.i(T)&65535),_=(D>>>16)+(this.i(T)>>>16)+(w.i(T)>>>16);I=_>>>16,D&=65535,_&=65535,E[T]=_<<16|D}return new s(E,E[E.length-1]&-2147483648?-1:0)};function k(w,v){return w.add(R(v))}t.j=function(w){if(b(this)||b(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var T=0;T<w.g.length;T++){var D=this.i(I)>>>16,_=this.i(I)&65535,ur=w.i(T)>>>16,La=w.i(T)&65535;E[2*I+2*T]+=_*La,W(E,2*I+2*T),E[2*I+2*T+1]+=D*La,W(E,2*I+2*T+1),E[2*I+2*T+1]+=_*ur,W(E,2*I+2*T+1),E[2*I+2*T+2]+=D*ur,W(E,2*I+2*T+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function W(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Q(w,v){this.g=w,this.h=v}function me(w,v){if(b(v))throw Error("division by zero");if(b(w))return new Q(p,p);if(M(w))return v=me(R(w),v),new Q(R(v.g),R(v.h));if(M(v))return v=me(w,R(v)),new Q(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=dt(E),I=dt(I);var T=be(E,1),D=be(I,1);for(I=be(I,2),E=be(E,2);!b(I);){var _=D.add(I);0>=_.l(w)&&(T=T.add(E),D=_),I=be(I,1),E=be(E,1)}return v=k(w,T.j(v)),new Q(T,v)}for(T=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),D=l(E),_=D.j(v);M(_)||0<_.l(w);)E-=I,D=l(E),_=D.j(v);b(D)&&(D=m),T=T.add(D),w=k(w,_)}return new Q(T,w)}t.A=function(w){return me(this,w).h},t.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},t.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},t.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function dt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function be(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,T=[],D=0;D<I;D++)T[D]=0<v?w.i(D+E)>>>v|w.i(D+E+1)<<32-v:w.i(D+E);return new s(T,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xE=wN.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,Pr=wN.Integer=s}).apply(typeof IN<"u"?IN:typeof self<"u"?self:typeof window<"u"?window:{});var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Or={};var kE,kq,da,FE,Vu,np,LE,VE,jE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tp=="object"&&tp];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,A){for(var x=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)x[Ae-2]=arguments[Ae];return d.prototype[C].apply(g,x)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,A=g.length||0;c.length=C+A;for(let x=0;x<A;x++)c[C+x]=g[x]}else c.push(g)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var dt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function be(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function D(c){a.setTimeout(()=>{throw c},0)}function _(){var c=og;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class ur{constructor(){this.h=this.g=null}add(d,f){let g=La.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var La=new k(()=>new _x,c=>c.reset());class _x{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Va,ja=!1,og=new ur,cT=()=>{let c=a.Promise.resolve(void 0);Va=()=>{c.then(Ex)}};var Ex=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){D(f)}var d=La;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ja=!1};function Br(){this.s=this.s,this.C=this.C}Br.prototype.s=!1,Br.prototype.ma=function(){this.s||(this.s=!0,this.N())},Br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function It(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}It.prototype.h=function(){this.defaultPrevented=!0};var Ix=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function Ua(c,d){if(It.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(dt){e:{try{me(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:wx[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ua.aa.h.call(this)}}b(Ua,It);var wx={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ba="closure_listenable_"+(1e6*Math.random()|0),Tx=0;function bx(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++Tx,this.da=this.fa=!1}function cl(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ul(c){this.src=c,this.g={},this.h=0}ul.prototype.add=function(c,d,f,g,C){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var x=ag(c,d,g,C);return-1<x?(d=c[x],f||(d.fa=!1)):(d=new bx(d,this.src,A,!!g,C),d.fa=f,c.push(d)),d};function sg(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=C)&&Array.prototype.splice.call(g,C,1),A&&(cl(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function ag(c,d,f,g){for(var C=0;C<c.length;++C){var A=c[C];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return C}return-1}var cg="closure_lm_"+(1e6*Math.random()|0),ug={};function uT(c,d,f,g,C){if(g&&g.once)return dT(c,d,f,g,C);if(Array.isArray(d)){for(var A=0;A<d.length;A++)uT(c,d[A],f,g,C);return null}return f=fg(f),c&&c[Ba]?c.K(d,f,l(g)?!!g.capture:!!g,C):lT(c,d,f,!1,g,C)}function lT(c,d,f,g,C,A){if(!d)throw Error("Invalid event type");var x=l(C)?!!C.capture:!!C,Ae=dg(c);if(Ae||(c[cg]=Ae=new ul(c)),f=Ae.add(d,f,g,x,A),f.proxy)return f;if(g=Cx(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)Ix||(C=x),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(fT(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Cx(){function c(f){return d.call(c.src,c.listener,f)}let d=Dx;return c}function dT(c,d,f,g,C){if(Array.isArray(d)){for(var A=0;A<d.length;A++)dT(c,d[A],f,g,C);return null}return f=fg(f),c&&c[Ba]?c.L(d,f,l(g)?!!g.capture:!!g,C):lT(c,d,f,!0,g,C)}function hT(c,d,f,g,C){if(Array.isArray(d))for(var A=0;A<d.length;A++)hT(c,d[A],f,g,C);else g=l(g)?!!g.capture:!!g,f=fg(f),c&&c[Ba]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=ag(A,f,g,C),-1<f&&(cl(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=dg(c))&&(d=c.g[d.toString()],c=-1,d&&(c=ag(d,f,g,C)),(f=-1<c?d[c]:null)&&lg(f))}function lg(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ba])sg(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(fT(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=dg(d))?(sg(f,c),f.h==0&&(f.src=null,d[cg]=null)):cl(c)}}}function fT(c){return c in ug?ug[c]:ug[c]="on"+c}function Dx(c,d){if(c.da)c=!0;else{d=new Ua(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&lg(c),c=f.call(g,d)}return c}function dg(c){return c=c[cg],c instanceof ul?c:null}var hg="__closure_events_fn_"+(1e9*Math.random()>>>0);function fg(c){return typeof c=="function"?c:(c[hg]||(c[hg]=function(d){return c.handleEvent(d)}),c[hg])}function wt(){Br.call(this),this.i=new ul(this),this.M=this,this.F=null}b(wt,Br),wt.prototype[Ba]=!0,wt.prototype.removeEventListener=function(c,d,f,g){hT(this,c,d,f,g)};function Nt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new It(d,c);else if(d instanceof It)d.target=d.target||c;else{var C=d;d=new It(g,c),I(d,C)}if(C=!0,f)for(var A=f.length-1;0<=A;A--){var x=d.g=f[A];C=ll(x,g,!0,d)&&C}if(x=d.g=c,C=ll(x,g,!0,d)&&C,C=ll(x,g,!1,d)&&C,f)for(A=0;A<f.length;A++)x=d.g=f[A],C=ll(x,g,!1,d)&&C}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)cl(f[g]);delete c.g[d],c.h--}}this.F=null},wt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},wt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function ll(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,A=0;A<d.length;++A){var x=d[A];if(x&&!x.da&&x.capture==f){var Ae=x.listener,ht=x.ha||x.src;x.fa&&sg(c.i,x),C=Ae.call(ht,g)!==!1&&C}}return C&&!g.defaultPrevented}function pT(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function gT(c){c.g=pT(()=>{c.g=null,c.i&&(c.i=!1,gT(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class Sx extends Br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $a(c){Br.call(this),this.h=c,this.g={}}b($a,Br);var mT=[];function yT(c){be(c.g,function(d,f){this.g.hasOwnProperty(f)&&lg(d)},c),c.g={}}$a.prototype.N=function(){$a.aa.N.call(this),yT(this)},$a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pg=a.JSON.stringify,Ax=a.JSON.parse,Rx=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function gg(){}gg.prototype.h=null;function vT(c){return c.h||(c.h=c.i())}function _T(){}var Ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mg(){It.call(this,"d")}b(mg,It);function yg(){It.call(this,"c")}b(yg,It);var Ai={},ET=null;function dl(){return ET=ET||new wt}Ai.La="serverreachability";function IT(c){It.call(this,Ai.La,c)}b(IT,It);function za(c){let d=dl();Nt(d,new IT(d))}Ai.STAT_EVENT="statevent";function wT(c,d){It.call(this,Ai.STAT_EVENT,c),this.stat=d}b(wT,It);function Pt(c){let d=dl();Nt(d,new wT(d,c))}Ai.Ma="timingevent";function TT(c,d){It.call(this,Ai.Ma,c),this.size=d}b(TT,It);function qa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ga(){this.g=!0}Ga.prototype.xa=function(){this.g=!1};function Mx(c,d,f,g,C,A){c.info(function(){if(c.g)if(A)for(var x="",Ae=A.split("&"),ht=0;ht<Ae.length;ht++){var pe=Ae[ht].split("=");if(1<pe.length){var Tt=pe[0];pe=pe[1];var bt=Tt.split("_");x=2<=bt.length&&bt[1]=="type"?x+(Tt+"="+pe+"&"):x+(Tt+"=redacted&")}}else x=null;else x=A;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+x})}function Nx(c,d,f,g,C,A,x){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+A+" "+x})}function Wo(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+Ox(c,f)+(g?" "+g:"")})}function Px(c,d){c.info(function(){return"TIMEOUT: "+d})}Ga.prototype.info=function(){};function Ox(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var A=C[0];if(A!="noop"&&A!="stop"&&A!="close")for(var x=1;x<C.length;x++)C[x]=""}}}}return pg(f)}catch{return d}}var hl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bT={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vg;function fl(){}b(fl,gg),fl.prototype.g=function(){return new XMLHttpRequest},fl.prototype.i=function(){return{}},vg=new fl;function $r(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new $a(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new CT}function CT(){this.i=null,this.g="",this.h=!1}var DT={},_g={};function Eg(c,d,f){c.L=1,c.v=yl(lr(d)),c.m=f,c.P=!0,ST(c,null)}function ST(c,d){c.F=Date.now(),pl(c),c.A=lr(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),BT(f.i,"t",g),c.C=0,f=c.j.J,c.h=new CT,c.g=ob(c.j,f?d:null,!c.m),0<c.O&&(c.M=new Sx(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(mT[0]=C.toString()),C=mT);for(var A=0;A<C.length;A++){var x=uT(f,C[A],g||d.handleEvent,!1,d.h||d);if(!x)break;d.g[x.key]=x}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),za(),Mx(c.i,c.u,c.A,c.l,c.R,c.m)}$r.prototype.ca=function(c){c=c.target;let d=this.M;d&&dr(c)==3?d.j():this.Y(c)},$r.prototype.Y=function(c){try{if(c==this.g)e:{let bt=dr(this.g);var d=this.g.Ba();let Yo=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||KT(this.g)))){this.J||bt!=4||d==7||(d==8||0>=Yo?za(3):za(2)),Ig(this);var f=this.g.Z();this.X=f;t:if(AT(this)){var g=KT(this.g);c="";var C=g.length,A=dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ri(this),Wa(this);var x="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,x=this.h.g}else x=this.g.oa();if(this.o=f==200,Nx(this.i,this.u,this.A,this.l,this.R,bt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,ht=this.g;if((Ae=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ae)){var pe=Ae;break t}}pe=null}if(f=pe)Wo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wg(this,f);else{this.o=!1,this.s=3,Pt(12),Ri(this),Wa(this);break e}}if(this.P){f=!0;let _n;for(;!this.J&&this.C<x.length;)if(_n=xx(this,x),_n==_g){bt==4&&(this.s=4,Pt(14),f=!1),Wo(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==DT){this.s=4,Pt(15),Wo(this.i,this.l,x,"[Invalid Chunk]"),f=!1;break}else Wo(this.i,this.l,_n,null),wg(this,_n);if(AT(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||x.length!=0||this.h.h||(this.s=1,Pt(16),f=!1),this.o=this.o&&f,!f)Wo(this.i,this.l,x,"[Invalid Chunked Response]"),Ri(this),Wa(this);else if(0<x.length&&!this.W){this.W=!0;var Tt=this.j;Tt.g==this&&Tt.ba&&!Tt.M&&(Tt.j.info("Great, no buffering proxy detected. Bytes received: "+x.length),Ag(Tt),Tt.M=!0,Pt(11))}}else Wo(this.i,this.l,x,null),wg(this,x);bt==4&&Ri(this),this.o&&!this.J&&(bt==4?tb(this.j,this):(this.o=!1,pl(this)))}else Zx(this.g),f==400&&0<x.indexOf("Unknown SID")?(this.s=3,Pt(12)):(this.s=0,Pt(13)),Ri(this),Wa(this)}}}catch{}finally{}};function AT(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function xx(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?_g:(f=Number(d.substring(f,g)),isNaN(f)?DT:(g+=1,g+f>d.length?_g:(d=d.slice(g,g+f),c.C=g+f,d)))}$r.prototype.cancel=function(){this.J=!0,Ri(this)};function pl(c){c.S=Date.now()+c.I,RT(c,c.I)}function RT(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=qa(m(c.ba,c),d)}function Ig(c){c.B&&(a.clearTimeout(c.B),c.B=null)}$r.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Px(this.i,this.A),this.L!=2&&(za(),Pt(17)),Ri(this),this.s=2,Wa(this)):RT(this,this.S-c)};function Wa(c){c.j.G==0||c.J||tb(c.j,c)}function Ri(c){Ig(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,yT(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function wg(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Tg(f.h,c))){if(!c.K&&Tg(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)wl(f),El(f);else break e;Sg(f),Pt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=qa(m(f.Za,f),6e3));if(1>=PT(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ni(f,11)}else if((c.K||f.g==c)&&wl(f),!W(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let pe=C[d];if(f.T=pe[0],pe=pe[1],f.G==2)if(pe[0]=="c"){f.K=pe[1],f.ia=pe[2];let Tt=pe[3];Tt!=null&&(f.la=Tt,f.j.info("VER="+f.la));let bt=pe[4];bt!=null&&(f.Aa=bt,f.j.info("SVER="+f.Aa));let Yo=pe[5];Yo!=null&&typeof Yo=="number"&&0<Yo&&(g=1.5*Yo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let _n=c.g;if(_n){let bl=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bl){var A=g.h;A.g||bl.indexOf("spdy")==-1&&bl.indexOf("quic")==-1&&bl.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(bg(A,A.h),A.h=null))}if(g.D){let Rg=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Rg&&(g.ya=Rg,Me(g.I,g.D,Rg))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var x=c;if(g.qa=ib(g,g.J?g.ia:null,g.W),x.K){OT(g.h,x);var Ae=x,ht=g.L;ht&&(Ae.I=ht),Ae.B&&(Ig(Ae),pl(Ae)),g.g=x}else XT(g);0<f.i.length&&Il(f)}else pe[0]!="stop"&&pe[0]!="close"||Ni(f,7);else f.G==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Ni(f,7):Dg(f):pe[0]!="noop"&&f.l&&f.l.ta(pe),f.v=0)}}za(4)}catch{}}var kx=class{constructor(c,d){this.g=c,this.map=d}};function MT(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function NT(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function PT(c){return c.h?1:c.g?c.g.size:0}function Tg(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function bg(c,d){c.g?c.g.add(d):c.h=d}function OT(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}MT.prototype.cancel=function(){if(this.i=xT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function xT(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function Fx(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function Lx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function kT(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=Lx(c),g=Fx(c),C=g.length,A=0;A<C;A++)d.call(void 0,g[A],f&&f[A],c)}var FT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vx(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var A=c[f].substring(0,g);C=c[f].substring(g+1)}else A=c[f];d(A,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mi){this.h=c.h,gl(this,c.j),this.o=c.o,this.g=c.g,ml(this,c.s),this.l=c.l;var d=c.i,f=new Ya;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),LT(this,f),this.m=c.m}else c&&(d=String(c).match(FT))?(this.h=!1,gl(this,d[1]||"",!0),this.o=Ka(d[2]||""),this.g=Ka(d[3]||"",!0),ml(this,d[4]),this.l=Ka(d[5]||"",!0),LT(this,d[6]||"",!0),this.m=Ka(d[7]||"")):(this.h=!1,this.i=new Ya(null,this.h))}Mi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Qa(d,VT,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Qa(d,VT,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Qa(f,f.charAt(0)=="/"?Bx:Ux,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Qa(f,Hx)),c.join("")};function lr(c){return new Mi(c)}function gl(c,d,f){c.j=f?Ka(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ml(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function LT(c,d,f){d instanceof Ya?(c.i=d,zx(c.i,c.h)):(f||(d=Qa(d,$x)),c.i=new Ya(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function yl(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ka(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,jx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var VT=/[#\/\?@]/g,Ux=/[#\?:]/g,Bx=/[#\?]/g,$x=/[#\?@]/g,Hx=/#/g;function Ya(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Hr(c){c.g||(c.g=new Map,c.h=0,c.i&&Vx(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Ya.prototype,t.add=function(c,d){Hr(this),this.i=null,c=Ko(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function jT(c,d){Hr(c),d=Ko(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function UT(c,d){return Hr(c),d=Ko(c,d),c.g.has(d)}t.forEach=function(c,d){Hr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){Hr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let A=0;A<C.length;A++)f.push(d[g])}return f},t.V=function(c){Hr(this);let d=[];if(typeof c=="string")UT(this,c)&&(d=d.concat(this.g.get(Ko(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Hr(this),this.i=null,c=Ko(this,c),UT(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function BT(c,d,f){jT(c,d),0<f.length&&(c.i=null,c.g.set(Ko(c,d),M(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),x=this.V(g);for(g=0;g<x.length;g++){var C=A;x[g]!==""&&(C+="="+encodeURIComponent(String(x[g]))),c.push(C)}}return this.i=c.join("&")};function Ko(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function zx(c,d){d&&!c.j&&(Hr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(jT(this,g),BT(this,C,f))},c)),c.j=d}function qx(c,d){let f=new Ga;if(a.Image){let g=new Image;g.onload=y(zr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(zr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(zr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(zr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function Gx(c,d){let f=new Ga,g=new AbortController,C=setTimeout(()=>{g.abort(),zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(C),A.ok?zr(f,"TestPingServer: ok",!0,d):zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),zr(f,"TestPingServer: error",!1,d)})}function zr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function Wx(){this.g=new Rx}function Kx(c,d,f){let g=f||"";try{kT(c,function(C,A){let x=C;l(C)&&(x=pg(C)),d.push(g+A+"="+encodeURIComponent(x))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Za(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Za,gg),Za.prototype.g=function(){return new vl(this.l,this.j)},Za.prototype.i=(function(c){return function(){return c}})({});function vl(c,d){wt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(vl,wt),t=vl.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Xa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ja(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xa(this)),this.g&&(this.readyState=3,Xa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$T(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function $T(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ja(this):Xa(this),this.readyState==3&&$T(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Ja(this))},t.Qa=function(c){this.g&&(this.response=c,Ja(this))},t.ga=function(){this.g&&Ja(this)};function Ja(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Xa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Xa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function HT(c){let d="";return be(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Cg(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=HT(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Fe(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Fe,wt);var Qx=/^https?$/i,Yx=["POST","PUT"];t=Fe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vg.g(),this.v=this.o?vT(this.o):vT(vg),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){zT(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Yx,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,x]of f)this.g.setRequestHeader(A,x);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{WT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){zT(this,A)}};function zT(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,qT(c),_l(c)}function qT(c){c.A||(c.A=!0,Nt(c,"complete"),Nt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Nt(this,"complete"),Nt(this,"abort"),_l(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_l(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?GT(this):this.bb())},t.bb=function(){GT(this)};function GT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||dr(c)!=4||c.Z()!=2)){if(c.u&&dr(c)==4)pT(c.Ea,0,c);else if(Nt(c,"readystatechange"),dr(c)==4){c.h=!1;try{let x=c.Z();e:switch(x){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=x===0){var C=String(c.D).match(FT)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!Qx.test(C?C.toLowerCase():"")}f=g}if(f)Nt(c,"complete"),Nt(c,"success");else{c.m=6;try{var A=2<dr(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",qT(c)}}finally{_l(c)}}}}function _l(c,d){if(c.g){WT(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Nt(c,"ready");try{f.onreadystatechange=g}catch{}}}function WT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function dr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),Ax(d)}};function KT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Zx(c){let d={};c=(c.g&&2<=dr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(W(c[g]))continue;var f=T(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[C]||[];d[C]=A,A.push(f)}w(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ec(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function QT(c){this.Aa=0,this.i=[],this.j=new Ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ec("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ec("baseRetryDelayMs",5e3,c),this.cb=ec("retryDelaySeedMs",1e4,c),this.Wa=ec("forwardChannelMaxRetries",2,c),this.wa=ec("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new MT(c&&c.concurrentRequestLimit),this.Da=new Wx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=QT.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){Pt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=ib(this,null,this.W),Il(this)};function Dg(c){if(YT(c),c.G==3){var d=c.U++,f=lr(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),tc(c,f),d=new $r(c,c.j,d),d.L=2,d.v=yl(lr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=ob(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pl(d)}rb(c)}function El(c){c.g&&(Ag(c),c.g.cancel(),c.g=null)}function YT(c){El(c),c.u&&(a.clearTimeout(c.u),c.u=null),wl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Il(c){if(!NT(c.h)&&!c.s){c.s=!0;var d=c.Ga;Va||cT(),ja||(Va(),ja=!0),og.add(d,c),c.B=0}}function Jx(c,d){return PT(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=qa(m(c.Ga,c,d),nb(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new $r(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(C.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=JT(this,C,d),f=lr(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),tc(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(HT(A)))+"&"+d:this.m&&Cg(f,this.m,A)),bg(this.h,C),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),C.T=!0,Eg(C,f,null)):Eg(C,f,d),this.G=2}}else this.G==3&&(c?ZT(this,c):this.i.length==0||NT(this.h)||ZT(this))};function ZT(c,d){var f;d?f=d.l:f=c.U++;let g=lr(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),tc(c,g),c.m&&c.o&&Cg(g,c.m,c.o),f=new $r(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=JT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),bg(c.h,f),Eg(f,g,d)}function tc(c,d){c.H&&be(c.H,function(f,g){Me(d,g,f)}),c.l&&kT({},function(f,g){Me(d,g,f)})}function JT(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let A=-1;for(;;){let x=["count="+f];A==-1?0<f?(A=C[0].g,x.push("ofs="+A)):A=0:x.push("ofs="+A);let Ae=!0;for(let ht=0;ht<f;ht++){let pe=C[ht].g,Tt=C[ht].map;if(pe-=A,0>pe)A=Math.max(0,C[ht].g-100),Ae=!1;else try{Kx(Tt,x,"req"+pe+"_")}catch{g&&g(Tt)}}if(Ae){g=x.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function XT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Va||cT(),ja||(Va(),ja=!0),og.add(d,c),c.v=0}}function Sg(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=qa(m(c.Fa,c),nb(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,eb(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=qa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pt(10),El(this),eb(this))};function Ag(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function eb(c){c.g=new $r(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=lr(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),tc(c,d),c.m&&c.o&&Cg(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=yl(lr(d)),f.m=null,f.P=!0,ST(f,c)}t.Za=function(){this.C!=null&&(this.C=null,El(this),Sg(this),Pt(19))};function wl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function tb(c,d){var f=null;if(c.g==d){wl(c),Ag(c),c.g=null;var g=2}else if(Tg(c.h,d))f=d.D,OT(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=dl(),Nt(g,new TT(g,f)),Il(c)}else XT(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&Jx(c,d)||g==2&&Sg(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function nb(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ni(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Mi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gl(g,"https"),yl(g),C?qx(g.toString(),f):Gx(g.toString(),f)}else Pt(2);c.G=0,c.l&&c.l.sa(d),rb(c),YT(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function rb(c){if(c.G=0,c.ka=[],c.l){let d=xT(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function ib(c,d,f){var g=f instanceof Mi?lr(f):new Mi(f);if(g.g!="")d&&(g.g=d+"."+g.g),ml(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var A=new Mi(null);g&&gl(A,g),d&&(A.g=d),C&&ml(A,C),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),tc(c,g),g}function ob(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Fe(new Za({eb:f})):new Fe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sb(){}t=sb.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tl(){}Tl.prototype.g=function(c,d){return new zt(c,d)};function zt(c,d){wt.call(this),this.g=new QT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Qo(this)}b(zt,wt),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){Dg(this.g)},zt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=pg(c),c=f);d.i.push(new kx(d.Ya++,c)),d.G==3&&Il(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,Dg(this.g),delete this.g,zt.aa.N.call(this)};function ab(c){mg.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b(ab,mg);function cb(){yg.call(this),this.status=1}b(cb,yg);function Qo(c){this.g=c}b(Qo,sb),Qo.prototype.ua=function(){Nt(this.g,"a")},Qo.prototype.ta=function(c){Nt(this.g,new ab(c))},Qo.prototype.sa=function(c){Nt(this.g,new cb)},Qo.prototype.ra=function(){Nt(this.g,"b")},Tl.prototype.createWebChannel=Tl.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,jE=Or.createWebChannelTransport=function(){return new Tl},VE=Or.getStatEventTarget=function(){return dl()},LE=Or.Event=Ai,np=Or.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hl.NO_ERROR=0,hl.TIMEOUT=8,hl.HTTP_ERROR=6,Vu=Or.ErrorCode=hl,bT.COMPLETE="complete",FE=Or.EventType=bT,_T.EventType=Ha,Ha.OPEN="a",Ha.CLOSE="b",Ha.ERROR="c",Ha.MESSAGE="d",wt.prototype.listen=wt.prototype.K,da=Or.WebChannel=_T,kq=Or.FetchXmlHttpFactory=Za,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,kE=Or.XhrIo=Fe}).apply(typeof tp<"u"?tp:typeof self<"u"?self:typeof window<"u"?window:{});var TN="@firebase/firestore",bN="4.8.0";var ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");var Pa="11.10.0";var Lo=new er("@firebase/firestore");function ha(){return Lo.logLevel}function j(t,...e){if(Lo.logLevel<=ae.DEBUG){let n=e.map(Aw);Lo.debug(`Firestore (${Pa}): ${t}`,...n)}}function kr(t,...e){if(Lo.logLevel<=ae.ERROR){let n=e.map(Aw);Lo.error(`Firestore (${Pa}): ${t}`,...n)}}function wi(t,...e){if(Lo.logLevel<=ae.WARN){let n=e.map(Aw);Lo.warn(`Firestore (${Pa}): ${t}`,...n)}}function Aw(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}function G(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,mP(t,r,n)}function mP(t,e,n){let r=`FIRESTORE (${Pa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||mP(e,i,r)}function te(t,e){return t}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},V=class extends mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var nr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var up=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},zE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}},qE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},GE=class{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new nr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new nr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new nr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new up(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new ut(e)}},WE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},KE=class{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new WE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},lp=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},QE=class{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Nr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);let r=o=>{o.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,j("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new lp(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new lp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Fq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}function yP(){return new TextEncoder}var zu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=Fq(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}};function se(t,e){return t<e?-1:t>e?1:0}function YE(t,e){let n=0;for(;n<t.length&&n<e.length;){let r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return se(r,i);{let o=yP(),s=Lq(o.encode(CN(t,n)),o.encode(CN(e,n)));return s!==0?s:se(r,i)}}n+=r>65535?2:1}return se(t.length,e.length)}function CN(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Lq(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return se(t[n],e[n]);return se(t.length,e.length)}function _a(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var DN="__name__",dp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&G(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&G(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=t.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return se(e.length,n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):YE(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Pr.fromString(e.substring(4,e.length-2))}},ke=class t extends dp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new V(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},Vq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,sn=class t extends dp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return Vq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DN}static keyField(){return new t([DN])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new V(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new V(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new V(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var z=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};function vP(t,e,n){if(!n)throw new V(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function jq(t,e,n,r){if(e===!0&&r===!0)throw new V(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function SN(t){if(!z.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AN(t){if(z.isDocumentKey(t))throw new V(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function _P(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Hp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":G(12329,{type:typeof t})}function rr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new V(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Hp(t);throw new V(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Xe(t,e){let n={typeString:t};return e&&(n.value=e),n}function rl(t,e){if(!_P(t))throw new V(N.INVALID_ARGUMENT,"JSON must be an object");let n;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}let s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new V(N.INVALID_ARGUMENT,n);return!0}var RN=-62135596800,MN=1e6,et=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*MN);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new V(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<RN)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new V(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/MN}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:t._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(rl(e,t._jsonSchema))return new t(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-RN;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};et._jsonSchemaVersion="firestore/timestamp/1.0",et._jsonSchema={type:Xe("string",et._jsonSchemaVersion),seconds:Xe("number"),nanoseconds:Xe("number")};var ie=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new et(0,0))}static max(){return new t(new et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var qu=-1,ZE=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ZE.UNKNOWN_ID=-1;function Uq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new et(n+1,0):new et(n,r));return new Vo(i,z.empty(),e)}function Bq(t){return new Vo(t.readTime,t.key,qu)}var Vo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),z.empty(),qu)}static max(){return new t(ie.max(),z.empty(),qu)}};function $q(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=z.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}var Hq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",JE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Oa(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==Hq)throw t;j("LocalStore","Unexpectedly lost primary lease")}var P=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&G(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function zq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xa(t){return t.name==="IndexedDbTransactionError"}var Rw=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.ae&&this.ae(n),n}}t.ue=-1;return t})(),Mw=-1;function zp(t){return t==null}function Gu(t){return t===0&&1/t==-1/0}function qq(t){return typeof t=="number"&&Number.isInteger(t)&&!Gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var EP="";function Gq(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=NN(e)),e=Wq(t.get(n),e);return NN(e)}function Wq(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let o=t.charAt(i);switch(o){case"\0":n+="";break;case EP:n+="";break;default:n+=o}}return n}function NN(t){return t+EP+""}var Kq="remoteDocuments",IP="owner";var wP="mutationQueues";var TP="mutations";var bP="documentMutations",Qq="remoteDocumentsV14";var CP="remoteDocumentGlobal";var DP="targets";var SP="targetDocuments";var AP="targetGlobal",RP="collectionParents";var MP="clientMetadata";var NP="bundles";var PP="namedQueries";var Yq="indexConfiguration";var Zq="indexState";var Jq="indexEntries";var OP="documentOverlays";var Xq="globals";var e3=[wP,TP,bP,Kq,DP,IP,AP,SP,MP,CP,RP,NP,PP],vce=[...e3,OP],t3=[wP,TP,bP,Qq,DP,IP,AP,SP,MP,CP,RP,NP,PP,OP],n3=t3,r3=[...n3,Yq,Zq,Jq];var _ce=[...r3,Xq];function PN(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Di(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xP(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var je=class t{constructor(e,n){this.comparator=e,this.root=n||ir.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ir.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ma(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ma(this.root,e,this.comparator,!1)}getReverseIterator(){return new ma(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ma(this.root,e,this.comparator,!0)}},ma=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ir=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw G(43730,{key:this.key,value:this.value});if(this.right.isRed())throw G(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw G(27949);return e+(this.isRed()?0:1)}};ir.EMPTY=null,ir.RED=!0,ir.BLACK=!1;ir.EMPTY=new class{constructor(){this.size=0}get key(){throw G(57766)}get value(){throw G(16141)}get color(){throw G(16727)}get left(){throw G(29726)}get right(){throw G(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var lt=class t{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hp(this.data.getIterator())}getIteratorFrom(e){return new hp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class t{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new t([])}unionWith(e){let n=new lt(sn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _a(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fp("Invalid base64 string: "+o):o}})(e);return new t(n)}static fromUint8Array(e){let n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var i3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(t){if(Te(!!t,39018),typeof t=="string"){let e=0,n=i3.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Lr(t){return typeof t=="string"?Mt.fromBase64String(t):Mt.fromUint8Array(t)}var kP="server_timestamp",FP="__type__",LP="__previous_value__",VP="__local_write_time__";function Nw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FP])===null||n===void 0?void 0:n.stringValue)===kP}function qp(t){let e=t.mapValue.fields[LP];return Nw(e)?qp(e):e}function Wu(t){let e=Fr(t.mapValue.fields[VP].timestampValue);return new et(e.seconds,e.nanos)}var XE=class{constructor(e,n,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},pp="(default)",gp=class t{constructor(e,n){this.projectId=e,this.database=n||pp}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===pp}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Pw="__type__",jP="__max__",rp={mapValue:{fields:{__type__:{stringValue:jP}}}},Ow="__vector__",Ea="value";function Ti(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Nw(t)?4:BP(t)?9007199254740991:UP(t)?10:11:G(28295,{value:t})}function ar(t,e){if(t===e)return!0;let n=Ti(t);if(n!==Ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wu(t).isEqual(Wu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Fr(i.timestampValue),a=Fr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Lr(i.bytesValue).isEqual(Lr(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),a=xe(o.doubleValue);return s===a?Gu(s)===Gu(a):isNaN(s)&&isNaN(a)}return!1})(t,e);case 9:return _a(t.arrayValue.values||[],e.arrayValue.values||[],ar);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(PN(s)!==PN(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!ar(s[u],a[u])))return!1;return!0})(t,e);default:return G(52216,{left:t})}}function Ku(t,e){return(t.values||[]).find(n=>ar(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;let n=Ti(t),r=Ti(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(t,e);case 3:return ON(t.timestampValue,e.timestampValue);case 4:return ON(Wu(t),Wu(e));case 5:return YE(t.stringValue,e.stringValue);case 6:return(function(o,s){let a=Lr(o),u=Lr(s);return a.compareTo(u)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=se(a[l],u[l]);if(h!==0)return h}return se(a.length,u.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=se(xe(o.latitude),xe(s.latitude));return a!==0?a:se(xe(o.longitude),xe(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return xN(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[Ea])===null||a===void 0?void 0:a.arrayValue,b=(u=m[Ea])===null||u===void 0?void 0:u.arrayValue,M=se(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:xN(y,b)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===rp.mapValue&&s===rp.mapValue)return 0;if(o===rp.mapValue)return 1;if(s===rp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=YE(u[p],h[p]);if(m!==0)return m;let y=Ia(a[u[p]],l[h[p]]);if(y!==0)return y}return se(u.length,h.length)})(t.mapValue,e.mapValue);default:throw G(23264,{le:n})}}function ON(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);let n=Fr(t),r=Fr(e),i=se(n.seconds,r.seconds);return i!==0?i:se(n.nanos,r.nanos)}function xN(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ia(n[i],r[i]);if(o)return o}return se(n.length,r.length)}function wa(t){return eI(t)}function eI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){let r=Fr(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Lr(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return z.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=eI(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${eI(n.fields[s])}`;return i+"}"})(t.mapValue):G(61005,{value:t})}function sp(t){switch(Ti(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=qp(t);return e?16+sp(e):16;case 5:return 2*t.stringValue.length;case 6:return Lr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+sp(o),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return Di(r.fields,(o,s)=>{i+=o.length+sp(s)}),i})(t.mapValue);default:throw G(13486,{value:t})}}function kN(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tI(t){return!!t&&"integerValue"in t}function xw(t){return!!t&&"arrayValue"in t}function FN(t){return!!t&&"nullValue"in t}function LN(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function UP(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[Pw])===null||n===void 0?void 0:n.stringValue)===Ow}function Uu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Di(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Uu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Uu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function BP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===jP}var Ice={mapValue:{fields:{[Pw]:{stringValue:Ow},[Ea]:{arrayValue:{}}}}};var on=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Uu(n)}setAll(e){let n=sn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Uu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ar(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Di(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Uu(this.value))}};function $P(t){let e=[];return Di(t.fields,(n,r)=>{let i=new sn([n]);if(ap(r)){let o=$P(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}var On=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),on.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),on.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),on.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ta=class{constructor(e,n){this.position=e,this.inclusive=n}};function VN(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=z.comparator(z.fromName(s.referenceValue),n.key):r=Ia(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ar(t.position[n],e.position[n]))return!1;return!0}var ba=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function o3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var mp=class{},Je=class t extends mp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new rI(e,n,r):n==="array-contains"?new sI(e,r):n==="in"?new aI(e,r):n==="not-in"?new cI(e,r):n==="array-contains-any"?new uI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new iI(e,r):new oI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&Ti(this.value)===Ti(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return G(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},xn=class t extends mp{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new t(e,n)}matches(e){return HP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function HP(t){return t.op==="and"}function zP(t){return s3(t)&&HP(t)}function s3(t){for(let e of t.filters)if(e instanceof xn)return!1;return!0}function nI(t){if(t instanceof Je)return t.field.canonicalString()+t.op.toString()+wa(t.value);if(zP(t))return t.filters.map(e=>nI(e)).join(",");{let e=t.filters.map(n=>nI(n)).join(",");return`${t.op}(${e})`}}function qP(t,e){return t instanceof Je?(function(r,i){return i instanceof Je&&r.op===i.op&&r.field.isEqual(i.field)&&ar(r.value,i.value)})(t,e):t instanceof xn?(function(r,i){return i instanceof xn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&qP(s,i.filters[a]),!0):!1})(t,e):void G(19439)}function GP(t){return t instanceof Je?(function(n){return`${n.field.canonicalString()} ${n.op} ${wa(n.value)}`})(t):t instanceof xn?(function(n){return n.op.toString()+" {"+n.getFilters().map(GP).join(" ,")+"}"})(t):"Filter"}var rI=class extends Je{constructor(e,n,r){super(e,n,r),this.key=z.fromName(r.referenceValue)}matches(e){let n=z.comparator(e.key,this.key);return this.matchesComparison(n)}},iI=class extends Je{constructor(e,n){super(e,"in",n),this.keys=WP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},oI=class extends Je{constructor(e,n){super(e,"not-in",n),this.keys=WP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function WP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>z.fromName(r.referenceValue))}var sI=class extends Je{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return xw(n)&&Ku(n.arrayValue,this.value)}},aI=class extends Je{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Ku(this.value.arrayValue,n)}},cI=class extends Je{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ku(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ku(this.value.arrayValue,n)}},uI=class extends Je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!xw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ku(this.value.arrayValue,r))}};var lI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function UN(t,e=null,n=[],r=[],i=null,o=null,s=null){return new lI(t,e,n,r,i,o,s)}function kw(t){let e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>nI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>wa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>wa(r)).join(",")),e.Pe=n}return e.Pe}function Fw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!o3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!qP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jN(t.startAt,e.startAt)&&jN(t.endAt,e.endAt)}function dI(t){return z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var jo=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function a3(t,e,n,r,i,o,s,a){return new jo(t,e,n,r,i,o,s,a)}function Lw(t){return new jo(t)}function BN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function KP(t){return t.collectionGroup!==null}function Bu(t){let e=te(t);if(e.Te===null){e.Te=[];let n=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new lt(sn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ba(o,r))}),n.has(sn.keyField().canonicalString())||e.Te.push(new ba(sn.keyField(),r))}return e.Te}function or(t){let e=te(t);return e.Ie||(e.Ie=c3(e,Bu(t))),e.Ie}function c3(t,e){if(t.limitType==="F")return UN(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ba(i.field,o)});let n=t.endAt?new Ta(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ta(t.startAt.position,t.startAt.inclusive):null;return UN(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function hI(t,e){let n=t.filters.concat([e]);return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function fI(t,e,n){return new jo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gp(t,e){return Fw(or(t),or(e))&&t.limitType===e.limitType}function QP(t){return`${kw(or(t))}|lt:${t.limitType}`}function fa(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>GP(i)).join(", ")}]`),zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>wa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>wa(i)).join(",")),`Target(${r})`})(or(t))}; limitType=${t.limitType})`}function Wp(t,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):z.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(let o of Bu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=VN(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,Bu(r),i)||r.endAt&&!(function(s,a,u){let l=VN(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,Bu(r),i))})(t,e)}function u3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function YP(t){return(e,n)=>{let r=!1;for(let i of Bu(t)){let o=l3(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function l3(t,e,n){let r=t.field.isKeyField()?z.comparator(e.key,n.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ia(u,l):G(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return G(19790,{direction:t.dir})}}var Vr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Di(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return xP(this.inner)}size(){return this.innerSize}};var d3=new je(z.comparator);function jr(){return d3}var ZP=new je(z.comparator);function ju(...t){let e=ZP;for(let n of t)e=e.insert(n.key,n);return e}function JP(t){let e=ZP;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Po(){return $u()}function XP(){return $u()}function $u(){return new Vr(t=>t.toString(),(t,e)=>t.isEqual(e))}var h3=new je(z.comparator),f3=new lt(z.comparator);function ue(...t){let e=f3;for(let n of t)e=e.add(n);return e}var p3=new lt(se);function g3(){return p3}function Vw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function eO(t){return{integerValue:""+t}}function m3(t,e){return qq(e)?eO(e):Vw(t,e)}var Ca=class{constructor(){this._=void 0}};function y3(t,e,n){return t instanceof Da?(function(i,o){let s={fields:{[FP]:{stringValue:kP},[VP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Nw(o)&&(o=qp(o)),o&&(s.fields[LP]=o),{mapValue:s}})(n,e):t instanceof Uo?nO(t,e):t instanceof Bo?rO(t,e):(function(i,o){let s=tO(i,o),a=$N(s)+$N(i.Ee);return tI(s)&&tI(i.Ee)?eO(a):Vw(i.serializer,a)})(t,e)}function v3(t,e,n){return t instanceof Uo?nO(t,e):t instanceof Bo?rO(t,e):n}function tO(t,e){return t instanceof Sa?(function(r){return tI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Da=class extends Ca{},Uo=class extends Ca{constructor(e){super(),this.elements=e}};function nO(t,e){let n=iO(e);for(let r of t.elements)n.some(i=>ar(i,r))||n.push(r);return{arrayValue:{values:n}}}var Bo=class extends Ca{constructor(e){super(),this.elements=e}};function rO(t,e){let n=iO(e);for(let r of t.elements)n=n.filter(i=>!ar(i,r));return{arrayValue:{values:n}}}var Sa=class extends Ca{constructor(e,n){super(),this.serializer=e,this.Ee=n}};function $N(t){return xe(t.integerValue||t.doubleValue)}function iO(t){return xw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _3(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Uo&&i instanceof Uo||r instanceof Bo&&i instanceof Bo?_a(r.elements,i.elements,ar):r instanceof Sa&&i instanceof Sa?ar(r.Ee,i.Ee):r instanceof Da&&i instanceof Da})(t.transform,e.transform)}var pI=class{constructor(e,n){this.version=e,this.transformResults=n}},xr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Aa=class{};function oO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Qu(t.key,xr.none()):new $o(t.key,t.data,xr.none());{let n=t.data,r=on.empty(),i=new lt(sn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new cr(t.key,r,new vn(i.toArray()),xr.none())}}function E3(t,e,n){t instanceof $o?(function(i,o,s){let a=i.value.clone(),u=zN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(t,e,n):t instanceof cr?(function(i,o,s){if(!cp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=zN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(sO(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function Hu(t,e,n,r){return t instanceof $o?(function(o,s,a,u){if(!cp(o.precondition,s))return a;let l=o.value.clone(),h=qN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(t,e,n,r):t instanceof cr?(function(o,s,a,u){if(!cp(o.precondition,s))return a;let l=qN(o.fieldTransforms,u,s),h=s.data;return h.setAll(sO(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(t,e,n,r):(function(o,s,a){return cp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(t,e,n)}function I3(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=tO(r.transform,i||null);o!=null&&(n===null&&(n=on.empty()),n.set(r.field,o))}return n||null}function HN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_a(r,i,(o,s)=>_3(o,s))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var $o=class extends Aa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},cr=class extends Aa{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function sO(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function zN(t,e,n){let r=new Map;Te(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,v3(s,a,n[i]))}return r}function qN(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,y3(o,s,e))}return r}var Qu=class extends Aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},gI=class extends Aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var mI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&E3(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Hu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=XP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=oO(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&_a(this.mutations,e.mutations,(n,r)=>HN(n,r))&&_a(this.baseMutations,e.baseMutations,(n,r)=>HN(n,r))}},yI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return h3})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var vI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var _I=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ye,he;function w3(t){switch(t){case N.OK:return G(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return G(15467,{code:t})}}function aO(t){if(t===void 0)return kr("GRPC error has no .code"),N.UNKNOWN;switch(t){case Ye.OK:return N.OK;case Ye.CANCELLED:return N.CANCELLED;case Ye.UNKNOWN:return N.UNKNOWN;case Ye.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Ye.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Ye.INTERNAL:return N.INTERNAL;case Ye.UNAVAILABLE:return N.UNAVAILABLE;case Ye.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Ye.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Ye.NOT_FOUND:return N.NOT_FOUND;case Ye.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Ye.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Ye.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Ye.ABORTED:return N.ABORTED;case Ye.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Ye.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Ye.DATA_LOSS:return N.DATA_LOSS;default:return G(39323,{code:t})}}(he=Ye||(Ye={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var GN=null;var T3=new Pr([4294967295,4294967295],0);function WN(t){let e=yP().encode(t),n=new xE;return n.update(e),new Uint8Array(n.digest())}function KN(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Pr([n,r],0),new Pr([i,o],0)]}var EI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Oo(`Invalid padding: ${n}`);if(r<0)throw new Oo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Oo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Oo(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=Pr.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(Pr.fromNumber(r)));return i.compare(T3)===1&&(i=new Pr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let n=WN(e),[r,i]=KN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let n=WN(e),[r,i]=KN(n);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Oo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Yu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new je(se),jr(),ue())}},Yu=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ue(),ue(),ue())}};var ya=class{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}},vp=class{constructor(e,n){this.targetId=e,this.De=n}},_p=class{constructor(e,n,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Ep=class{constructor(){this.ve=0,this.Ce=QN(),this.Fe=Mt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ue(),n=ue(),r=ue();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:G(38017,{changeType:o})}}),new Yu(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=QN()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Te(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},II=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=jr(),this.je=ip(),this.Je=ip(),this.He=new je(se)}Ye(e){for(let n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(let n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{let r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:G(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){let n=e.targetId,r=e.De.count,i=this.st(n);if(i){let o=i.target;if(dI(o))if(r===0){let s=new z(o.path);this.Xe(n,s,On.newNoDocument(s,ie.min()))}else Te(r===1,20013,{expectedCount:r});else{let s=this.ot(n);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,l)}GN?.ct((function(h,p,m,y,b){var M,R,k,W,Q,me;let dt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},be=p.unchangedNames;return be&&(dt.bloomFilter={applied:b===0,hashCount:(M=be?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(k=(R=be?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&W!==void 0?W:0,padding:(me=(Q=be?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&me!==void 0?me:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),dt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let n=e.De.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=Lr(r).toUint8Array()}catch(u){if(u instanceof fp)return wi("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new EI(s,i,o)}catch(u){return wi(u instanceof Oo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){let r=this.We.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,o,null),i++)}),i}Pt(e){let n=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&dI(a.target)){let u=new z(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,On.newNoDocument(u,e))}o.Ne&&(n.set(s,o.Le()),o.ke())}});let r=ue();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new yp(e,n,this.He,this.ze,r);return this.ze=jr(),this.je=ip(),this.Je=ip(),this.He=new je(se),i}Ze(e,n){if(!this.nt(e))return;let r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new Ep,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new lt(se),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new lt(se),this.je=this.je.insert(e,n)),n}nt(e){let n=this.st(e)!==null;return n||j("WatchChangeAggregator","Detected inactive target",e),n}st(e){let n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Ep),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}};function ip(){return new je(z.comparator)}function QN(){return new je(z.comparator)}var b3={asc:"ASCENDING",desc:"DESCENDING"},C3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},D3={and:"AND",or:"OR"},wI=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function TI(t,e){return t.useProto3Json||zp(e)?e:{value:e}}function Ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function S3(t,e){return Ip(t,e.toTimestamp())}function sr(t){return Te(!!t,49232),ie.fromTimestamp((function(n){let r=Fr(n);return new et(r.seconds,r.nanos)})(t))}function jw(t,e){return bI(t,e).canonicalString()}function bI(t,e){let n=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function uO(t){let e=ke.fromString(t);return Te(pO(e),10190,{key:e.toString()}),e}function CI(t,e){return jw(t.databaseId,e.path)}function UE(t,e){let n=uO(e);if(n.get(1)!==t.databaseId.projectId)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new V(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new z(dO(n))}function lO(t,e){return jw(t.databaseId,e)}function A3(t){let e=uO(t);return e.length===4?ke.emptyPath():dO(e)}function DI(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dO(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function YN(t,e,n){return{name:CI(t,e),fields:n.value.mapValue.fields}}function R3(t,e){let n;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:G(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string",58123),Mt.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Mt.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?N.UNKNOWN:aO(l.code);return new V(h,l.message||"")})(s);n=new _p(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=UE(t,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):ie.min(),a=new on({mapValue:{fields:r.document.fields}}),u=On.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new ya(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=UE(t,r.document),o=r.readTime?sr(r.readTime):ie.min(),s=On.newNoDocument(i,o),a=r.removedTargetIds||[];n=new ya([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=UE(t,r.document),o=r.removedTargetIds||[];n=new ya([],o,i,null)}else{if(!("filter"in e))return G(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new _I(i,o),a=r.targetId;n=new vp(a,s)}}return n}function M3(t,e){let n;if(e instanceof $o)n={update:YN(t,e.key,e.value)};else if(e instanceof Qu)n={delete:CI(t,e.key)};else if(e instanceof cr)n={update:YN(t,e.key,e.data),updateMask:j3(e.fieldMask)};else{if(!(e instanceof gI))return G(16599,{Rt:e.type});n={verify:CI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Da)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Uo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Bo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sa)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw G(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:S3(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:G(27497)})(t,e.precondition)),n}function N3(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>(function(i,o){let s=i.updateTime?sr(i.updateTime):sr(o);return s.isEqual(ie.min())&&(s=sr(o)),new pI(s,i.transformResults||[])})(n,e))):[]}function P3(t,e){return{documents:[lO(t,e.path)]}}function O3(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lO(t,i);let o=(function(l){if(l.length!==0)return fO(xn.create(l,"and"))})(e.filters);o&&(n.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:pa(m.field),direction:F3(m.dir)}})(h))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=TI(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:n,parent:i}}function x3(t){let e=A3(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1,65062);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){let m=hO(p);return m instanceof xn&&zP(m)?m.getFilters():[m]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map(m=>(function(b){return new ba(ga(b.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(m))})(n.orderBy));let a=null;n.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,zp(m)?null:m})(n.limit));let u=null;n.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new Ta(y,m)})(n.startAt));let l=null;return n.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new Ta(y,m)})(n.endAt)),a3(e,i,s,o,a,"F",u,l)}function k3(t,e){let n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hO(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=ga(n.unaryFilter.field);return Je.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=ga(n.unaryFilter.field);return Je.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=ga(n.unaryFilter.field);return Je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=ga(n.unaryFilter.field);return Je.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return G(61313);default:return G(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Je.create(ga(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return G(58110);default:return G(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return xn.create(n.compositeFilter.filters.map(r=>hO(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return G(1026)}})(n.compositeFilter.op))})(t):G(30097,{filter:t})}function F3(t){return b3[t]}function L3(t){return C3[t]}function V3(t){return D3[t]}function pa(t){return{fieldPath:t.canonicalString()}}function ga(t){return sn.fromServerFormat(t.fieldPath)}function fO(t){return t instanceof Je?(function(n){if(n.op==="=="){if(LN(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NAN"}};if(FN(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(LN(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NAN"}};if(FN(n.value))return{unaryFilter:{field:pa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:pa(n.field),op:L3(n.op),value:n.value}}})(t):t instanceof xn?(function(n){let r=n.getFilters().map(i=>fO(i));return r.length===1?r[0]:{compositeFilter:{op:V3(n.op),filters:r}}})(t):G(54877,{filter:t})}function j3(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Zu=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var SI=class{constructor(e){this.gt=e}};function U3(t){let e=x3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fI(e,e.limit,"L"):e}var wp=class{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),Gu(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Fr(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(Lr(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?BP(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):UP(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):G(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){let r=e.fields||{};this.Ct(n,55);for(let i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;let o=e.fields||{};this.Ct(n,53);let s=Ea,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(xe(a)),this.xt(s,n),this.Dt(o[s],n)}qt(e,n){let r=e.values||[];this.Ct(n,50);for(let i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),z.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}};wp.Ut=new wp;var AI=class{constructor(){this.Dn=new RI}addToCollectionParentIndex(e,n){return this.Dn.add(n),P.resolve()}getCollectionParents(e,n){return P.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return P.resolve()}deleteFieldIndex(e,n){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,n){return P.resolve()}getDocumentsMatchingTarget(e,n){return P.resolve(null)}getIndexType(e,n){return P.resolve(0)}getFieldIndexes(e,n){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,n){return P.resolve(Vo.min())}getMinOffsetFromCollectionGroup(e,n){return P.resolve(Vo.min())}updateCollectionGroup(e,n,r){return P.resolve()}updateIndexEntries(e,n){return P.resolve()}},RI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new lt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new lt(ke.comparator)).toArray()}};var wce=new Uint8Array(0);var ZN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gO=41943040,yn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(gO,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Ju=class t{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new t(0)}static ur(){return new t(-1)}};var JN="LruGarbageCollector",B3=1048576;function XN([t,e],[n,r]){let i=se(t,n);return i===0?se(e,r):i}var MI=class{constructor(e){this.Tr=e,this.buffer=new lt(XN),this.Ir=0}dr(){return++this.Ir}Er(e){let n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();XN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},NI=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){j(JN,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xa(n)?j(JN,"Ignoring IndexedDB error during garbage collection: ",n):await Oa(n)}await this.Rr(3e5)})}},PI=class{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return P.resolve(Rw.ue);let r=new MI(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(j("LruGarbageCollector","Garbage collection skipped; disabled"),P.resolve(ZN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(j("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZN):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(j("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),ha()<=ae.DEBUG&&j("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),P.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function $3(t,e){return new PI(t,e)}var OI=class{constructor(){this.changes=new Vr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,On.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?P.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var xI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var kI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Hu(r.mutation,i,vn.empty(),et.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ue()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ue()){let i=Po();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ju();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Po();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ue()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=jr(),s=$u(),a=(function(){return $u()})();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof cr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Hu(h.mutation,l,h.mutation.getFieldMask(),et.now())):s.set(l.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new xI(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=$u(),i=new je((s,a)=>s-a),o=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||vn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ue()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=XP();h.forEach(m=>{if(!o.has(m)){let y=oO(n.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return z.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):P.resolve(Po()),a=qu,u=o;return s.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ue())).next(h=>({batchId:a,changes:JP(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new z(n)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=ju();return this.indexManager.getCollectionParents(e,o).next(a=>P.forEach(a,u=>{let l=(function(p,m){return new jo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,On.newInvalidDocument(h)))});let a=ju();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Hu(h.mutation,l,vn.empty(),et.now()),Wp(n,l)&&(a=a.insert(u,l))}),a})}};var FI=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return P.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:sr(i.createTime)}})(n)),P.resolve()}getNamedQuery(e,n){return P.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,(function(i){return{name:i.name,query:U3(i.bundledQuery),readTime:sr(i.readTime)}})(n)),P.resolve()}};var LI=class{constructor(){this.overlays=new je(z.comparator),this.kr=new Map}getOverlay(e,n){return P.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Po();return P.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.wt(e,n,o)}),P.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),P.resolve()}getOverlaysForCollection(e,n,r){let i=Po(),o=n.length+1,s=new z(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=Po(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Po(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}wt(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new vI(n,r));let o=this.kr.get(n);o===void 0&&(o=ue(),this.kr.set(n,o)),this.kr.set(n,o.add(r.key))}};var VI=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,P.resolve()}};var Xu=class{constructor(){this.qr=new lt(Ze.Qr),this.$r=new lt(Ze.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){let r=new Ze(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ze(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){let n=new z(new ke([])),r=new Ze(n,e),i=new Ze(n,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let n=new z(new ke([])),r=new Ze(n,e),i=new Ze(n,e+1),o=ue();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Ze(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Ze=class{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return z.comparator(e.key,n.key)||se(e.Hr,n.Hr)}static Ur(e,n){return se(e.Hr,n.Hr)||z.comparator(e.key,n.key)}};var jI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new lt(Ze.Qr)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new mI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Ze(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(s)}lookupMutationBatch(e,n){return P.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Xr(r),o=i<0?0:i;return P.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?Mw:this.er-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Ze(n,0),i=new Ze(n,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),P.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new lt(se);return n.forEach(i=>{let o=new Ze(i,0),s=new Ze(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),P.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;z.isDocumentKey(o)||(o=o.child(""));let s=new Ze(new z(o),0),a=new lt(se);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),P.resolve(this.ei(a))}ei(e){let n=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return P.forEach(n.mutations,i=>{let o=new Ze(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){let r=new Ze(n,0),i=this.Yr.firstAfterOrEqual(r);return P.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var UI=class{constructor(e){this.ni=e,this.docs=(function(){return new je(z.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return P.resolve(r?r.document.mutableCopy():On.newInvalidDocument(n))}getEntries(e,n){let r=jr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():On.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=jr(),s=n.path,a=new z(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||$q(Bq(h),r)<=0||(i.has(h.key)||Wp(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return P.resolve(o)}getAllFromCollectionGroup(e,n,r,i){G(9500)}ri(e,n){return P.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BI(this)}getSize(e){return P.resolve(this.size)}},BI=class extends OI{constructor(e){super(),this.Or=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),P.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}};var $I=class{constructor(e){this.persistence=e,this.ii=new Vr(n=>kw(n),Fw),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.si=0,this.oi=new Xu,this.targetCount=0,this._i=Ju.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),P.resolve()}hr(e){this.ii.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this._i=new Ju(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,P.resolve()}updateTargetData(e,n){return this.hr(n),P.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(o).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,n){let r=this.ii.get(n)||null;return P.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),P.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),P.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),P.resolve()}getMatchingKeysForTargetId(e,n){let r=this.oi.Jr(n);return P.resolve(r)}containsKey(e,n){return P.resolve(this.oi.containsKey(n))}};var Tp=class{constructor(e,n){this.ai={},this.overlays={},this.ui=new Rw(0),this.ci=!1,this.ci=!0,this.li=new VI,this.referenceDelegate=e(this),this.hi=new $I(this),this.indexManager=new AI,this.remoteDocumentCache=(function(i){return new UI(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new SI(n),this.Ti=new FI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new jI(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){j("MemoryPersistence","Starting transaction:",e);let i=new HI(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,n){return P.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}},HI=class extends JE{constructor(e){super(),this.currentSequenceNumber=e}},zI=class t{constructor(e){this.persistence=e,this.Ai=new Xu,this.Ri=null}static Vi(e){return new t(e)}get mi(){if(this.Ri)return this.Ri;throw G(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),P.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),P.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.mi,r=>{let i=z.fromPath(r);return this.fi(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return P.or([()=>P.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}},bp=class t{constructor(e,n){this.persistence=e,this.gi=new Vr(r=>Gq(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=$3(this,n)}static Vi(e,n){return new t(e,n)}Ii(){}di(e){return P.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){let n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return P.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?P.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,n).next(a=>{a||(r++,o.removeEntry(s,ie.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),P.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),P.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sp(e.data.value)),n}Sr(e,n,r){return P.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.gi.get(n);return P.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var qI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ue(),i=ue();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var GI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var WI=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return DM()?8:zq(rn())>0?6:4})()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.ps(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new GI;return this.ws(e,n,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,n,s,a.size)})}).next(()=>o.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(ha()<=ae.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",fa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),P.resolve()):(ha()<=ae.DEBUG&&j("QueryEngine","Query:",fa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(ha()<=ae.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",fa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,or(n))):P.resolve())}ps(e,n){if(BN(n))return P.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fI(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ue(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(n,a);return this.Ds(n,l,s,u.readTime)?this.ps(e,fI(n,null,"F")):this.vs(e,l,n,u)}))})))}ys(e,n,r,i){return BN(n)||i.isEqual(ie.min())?P.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(n,o);return this.Ds(n,s,r,i)?P.resolve(null):(ha()<=ae.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fa(n)),this.vs(e,s,n,Uq(i,qu)).next(a=>a))})}bs(e,n){let r=new lt(YP(e));return n.forEach((i,o)=>{Wp(e,o)&&(r=r.add(o))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,n,r){return ha()<=ae.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",fa(n)),this.gs.getDocumentsMatchingQuery(e,n,Vo.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var Uw="LocalStore",H3=3e8,KI=class{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new je(se),this.Ms=new Vr(o=>kw(o),Fw),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kI(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}};function z3(t,e,n,r){return new KI(t,e,n,r)}async function mO(t,e){let n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ue();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})}function q3(t,e){let n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(M=>{let R=l.docVersions.get(b);Te(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=ue();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yO(t){let e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function G3(t,e){let n=te(t),r=e.snapshotVersion,i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Mt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,k){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=H3?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(m,y,h)&&a.push(n.hi.updateTargetData(o,y))});let u=jr(),l=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(W3(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(ie.min())){let h=n.hi.getLastRemoteSnapshotVersion(o).next(p=>n.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.Fs=i,o))}function W3(t,e,n){let r=ue(),i=ue();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=jr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):j(Uw,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function K3(t,e){let n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Q3(t,e){let n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(o=>o?(i=o,P.resolve(i)):n.hi.allocateTargetId(r).next(s=>(i=new Zu(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function QI(t,e,n){let r=te(t),i=r.Fs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!xa(s))throw s;j(Uw,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function eP(t,e,n){let r=te(t),i=ie.min(),o=ue();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=te(u),m=p.Ms.get(h);return m!==void 0?P.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,or(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:ue())).next(a=>(Y3(r,u3(e),a),{documents:a,qs:o})))}function Y3(t,e,n){let r=t.xs.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.xs.set(e,r)}var Cp=class{constructor(){this.activeTargetIds=g3()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var YI=class{constructor(){this.Fo=new Cp,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Cp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var ZI=class{xo(e){}shutdown(){}};var tP="ConnectivityMonitor",Dp=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){j(tP,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){j(tP,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var op=null;function JI(){return op===null?op=(function(){return 268435456+Math.round(2147483648*Math.random())})():op++,"0x"+op.toString(16)}var BE="RestConnection",Z3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},XI=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===pp?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){let s=JI(),a=this.Go(e,n.toUriEncodedString());j(BE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=wo(l);return this.jo(e,a,u,r,h).then(p=>(j(BE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw wi(BE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}zo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Pa})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,n){let r=Z3[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}};var ew=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var Rt="WebChannelConnection",tw=class extends XI{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,o){let s=JI();return new Promise((a,u)=>{let l=new kE;l.setWithCredentials(!0),l.listenOnce(FE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Vu.NO_ERROR:let p=l.getResponseJson();j(Rt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Vu.TIMEOUT:j(Rt,`RPC '${e}' ${s} timed out`),u(new V(N.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:let m=l.getStatus();if(j(Rt,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let b=y?.error;if(b&&b.status&&b.message){let M=(function(k){let W=k.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(W)>=0?W:N.UNKNOWN})(b.status);u(new V(M,b.message))}else u(new V(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new V(N.UNAVAILABLE,"Connection failed."));break;default:G(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{j(Rt,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);j(Rt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",h,r,15)})}P_(e,n,r){let i=JI(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=jE(),a=VE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");j(Rt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,b=new ew({Ho:R=>{y?j(Rt,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(Rt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(Rt,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,k,W)=>{R.listen(k,Q=>{try{W(Q)}catch(me){setTimeout(()=>{throw me},0)}})};return M(p,da.EventType.OPEN,()=>{y||(j(Rt,`RPC '${e}' stream ${i} transport opened.`),b.s_())}),M(p,da.EventType.CLOSE,()=>{y||(y=!0,j(Rt,`RPC '${e}' stream ${i} transport closed`),b.__(),this.I_(p))}),M(p,da.EventType.ERROR,R=>{y||(y=!0,wi(Rt,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),b.__(new V(N.UNAVAILABLE,"The operation could not be completed")))}),M(p,da.EventType.MESSAGE,R=>{var k;if(!y){let W=R.data[0];Te(!!W,16349);let Q=W,me=Q?.error||((k=Q[0])===null||k===void 0?void 0:k.error);if(me){j(Rt,`RPC '${e}' stream ${i} received error:`,me);let dt=me.status,be=(function(E){let I=Ye[E];if(I!==void 0)return aO(I)})(dt),w=me.message;be===void 0&&(be=N.INTERNAL,w="Unknown error status: "+dt+" with message "+me.message),y=!0,b.__(new V(be,w)),p.close()}else j(Rt,`RPC '${e}' stream ${i} received:`,W),b.a_(W)}}),M(a,LE.STAT_EVENT,R=>{R.stat===np.PROXY?j(Rt,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===np.NOPROXY&&j(Rt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.o_()},0),b}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}};function $E(){return typeof document<"u"?document:null}function Kp(t){return new wI(t,!0)}var Sp=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var nP="PersistentStream",Ap=class{constructor(e,n,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Sp(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;let e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{let i=new V(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){let r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return j(nP,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(j(nP,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},nw=class extends Ap{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let n=R3(this.serializer,e),r=(function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?sr(s.readTime):ie.min()})(e);return this.listener.J_(n,r)}H_(e){let n={};n.database=DI(this.serializer),n.addTarget=(function(o,s){let a,u=s.target;if(a=dI(u)?{documents:P3(o,u)}:{query:O3(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=cO(o,s.resumeToken);let l=TI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Ip(o,s.snapshotVersion.toTimestamp());let l=TI(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=k3(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){let n={};n.database=DI(this.serializer),n.removeTarget=e,this.k_(n)}},rw=class extends Ap{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let n=N3(e.writeResults,e.commitTime),r=sr(e.commitTime);return this.listener.ta(r,n)}na(){let e={};e.database=DI(this.serializer),this.k_(e)}X_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>M3(this.serializer,r))};this.k_(n)}};var iw=class{},ow=class extends iw{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,bI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new V(N.UNKNOWN,o.toString())})}Jo(e,n,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,bI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new V(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},sw=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(kr(n),this._a=!1):j("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var Ho="RemoteStore",aw=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(async()=>{qo(this)&&(j(Ho,"Restarting streams for network reachability change."),await(async function(u){let l=te(u);l.Ia.add(4),await il(l),l.Aa.set("Unknown"),l.Ia.delete(4),await Qp(l)})(this))})}),this.Aa=new sw(r,i)}};async function Qp(t){if(qo(t))for(let e of t.da)await e(!0)}async function il(t){for(let e of t.da)await e(!1)}function vO(t,e){let n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),zw(n)?Hw(n):ka(n).x_()&&$w(n,e))}function Bw(t,e){let n=te(t),r=ka(n);n.Ta.delete(e),r.x_()&&_O(n,e),n.Ta.size===0&&(r.x_()?r.B_():qo(n)&&n.Aa.set("Unknown"))}function $w(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).H_(e)}function _O(t,e){t.Ra.$e(e),ka(t).Y_(e)}function Hw(t){t.Ra=new II({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.Aa.aa()}function zw(t){return qo(t)&&!ka(t).M_()&&t.Ta.size>0}function qo(t){return te(t).Ia.size===0}function EO(t){t.Ra=void 0}async function J3(t){t.Aa.set("Online")}async function X3(t){t.Ta.forEach((e,n)=>{$w(t,e)})}async function eG(t,e){EO(t),zw(t)?(t.Aa.la(e),Hw(t)):t.Aa.set("Unknown")}async function tG(t,e,n){if(t.Aa.set("Online"),e instanceof _p&&e.state===2&&e.cause)try{await(async function(i,o){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})(t,e)}catch(r){j(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rp(t,r)}else if(e instanceof ya?t.Ra.Ye(e):e instanceof vp?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ie.min()))try{let r=await yO(t.localStore);n.compareTo(r)>=0&&await(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Mt.EMPTY_BYTE_STRING,h.snapshotVersion)),_O(o,u);let p=new Zu(h.target,u,l,h.sequenceNumber);$w(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(t,n)}catch(r){j(Ho,"Failed to raise snapshot:",r),await Rp(t,r)}}async function Rp(t,e,n){if(!xa(e))throw e;t.Ia.add(1),await il(t),t.Aa.set("Offline"),n||(n=()=>yO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{j(Ho,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Qp(t)})}function IO(t,e){return e().catch(n=>Rp(t,n,e))}async function Yp(t){let e=te(t),n=bi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Mw;for(;nG(e);)try{let i=await K3(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,rG(e,i)}catch(i){await Rp(e,i)}wO(e)&&TO(e)}function nG(t){return qo(t)&&t.Pa.length<10}function rG(t,e){t.Pa.push(e);let n=bi(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function wO(t){return qo(t)&&!bi(t).M_()&&t.Pa.length>0}function TO(t){bi(t).start()}async function iG(t){bi(t).na()}async function oG(t){let e=bi(t);for(let n of t.Pa)e.X_(n.mutations)}async function sG(t,e,n){let r=t.Pa.shift(),i=yI.from(r,e,n);await IO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Yp(t)}async function aG(t,e){e&&bi(t).Z_&&await(async function(r,i){if((function(s){return w3(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();bi(r).N_(),await IO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Yp(r)}})(t,e),wO(t)&&TO(t)}async function rP(t,e){let n=te(t);n.asyncQueue.verifyOperationInProgress(),j(Ho,"RemoteStore received new credentials");let r=qo(n);n.Ia.add(3),await il(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Qp(n)}async function cG(t,e){let n=te(t);e?(n.Ia.delete(2),await Qp(n)):e||(n.Ia.add(2),await il(n),n.Aa.set("Unknown"))}function ka(t){return t.Va||(t.Va=(function(n,r,i){let o=te(n);return o.ia(),new nw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:J3.bind(null,t),e_:X3.bind(null,t),n_:eG.bind(null,t),J_:tG.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),zw(t)?Hw(t):t.Aa.set("Unknown")):(await t.Va.stop(),EO(t))})),t.Va}function bi(t){return t.ma||(t.ma=(function(n,r,i){let o=te(n);return o.ia(),new rw(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:iG.bind(null,t),n_:aG.bind(null,t),ea:oG.bind(null,t),ta:sG.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await Yp(t)):(await t.ma.stop(),t.Pa.length>0&&(j(Ho,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}var cw=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new V(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qw(t,e){if(kr("AsyncQueue",`${e}: ${t}`),xa(t))return new V(N.UNAVAILABLE,`${e}: ${t}`);throw t}var Mp=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||z.comparator(n.key,r.key):(n,r)=>z.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Np=class{constructor(){this.fa=new je(z.comparator)}track(e){let n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):G(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){let e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}},Ra=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Mp.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var uw=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},lw=class{constructor(){this.queries=iP(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){let i=te(n),o=i.queries;i.queries=iP(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new V(N.ABORTED,"Firestore shutting down"))}};function iP(){return new Vr(t=>QP(t),Gp)}async function bO(t,e){let n=te(t),r=3,i=e.query,o=n.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new uw,r=e.ba()?0:1);try{switch(r){case 0:o.ya=await n.onListen(i,!0);break;case 1:o.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){let a=qw(s,`Initialization of query '${fa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.wa.push(e),e.va(n.onlineState),o.ya&&e.Ca(o.ya)&&Gw(n)}async function CO(t,e){let n=te(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uG(t,e){let n=te(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&Gw(n)}function lG(t,e,n){let r=te(t),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(n);r.queries.delete(e)}function Gw(t){t.Da.forEach(e=>{e.next()})}var dw,oP;(oP=dw||(dw={})).Fa="default",oP.Cache="cache";var Pp=class{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ra(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;let r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==dw.Cache}};var Op=class{constructor(e){this.key=e}},xp=class{constructor(e){this.key=e}},hw=class{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ue(),this.mutatedKeys=ue(),this.Xa=YP(e),this.eu=new Mp(this.Xa)}get tu(){return this.Ha}nu(e,n){let r=n?n.ru:new Np,i=n?n.eu:this.eu,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Wp(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?b!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,b){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G(20277,{At:R})}};return M(y)-M(b)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=n&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Ra(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Np,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=ue(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new xp(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new Op(r))}),n}uu(e){this.Ha=e.qs,this.Za=ue();let n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ra.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},Ww="SyncEngine",fw=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},pw=class{constructor(e){this.key=e,this.lu=!1}},gw=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Vr(a=>QP(a),Gp),this.Tu=new Map,this.Iu=new Set,this.du=new je(z.comparator),this.Eu=new Map,this.Au=new Xu,this.Ru={},this.Vu=new Map,this.mu=Ju.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};async function dG(t,e,n=!0){let r=NO(t),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=await DO(r,e,n,!0),i}async function hG(t,e){let n=NO(t);await DO(n,e,!0,!1)}async function DO(t,e,n,r){let i=await Q3(t.localStore,or(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=await fG(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&vO(t.remoteStore,i),a}async function fG(t,e,n,r,i){t.gu=(p,m,y)=>(async function(M,R,k,W){let Q=R.view.nu(k);Q.Ds&&(Q=await eP(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Q)));let me=W&&W.targetChanges.get(R.targetId),dt=W&&W.targetMismatches.get(R.targetId)!=null,be=R.view.applyChanges(Q,M.isPrimaryClient,me,dt);return aP(M,R.targetId,be._u),be.snapshot})(t,p,m,y);let o=await eP(t.localStore,e,!0),s=new hw(e,o.qs),a=s.nu(o.documents),u=Yu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);aP(t,n,l._u);let h=new fw(e,n,s);return t.Pu.set(e,h),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),l.snapshot}async function pG(t,e,n){let r=te(t),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!Gp(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await QI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Bw(r.remoteStore,i.targetId),mw(r,i.targetId)}).catch(Oa)):(mw(r,i.targetId),await QI(r.localStore,i.targetId,!0))}async function gG(t,e){let n=te(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bw(n.remoteStore,r.targetId))}async function mG(t,e,n){let r=TG(t);try{let i=await(function(s,a){let u=te(s),l=et.now(),h=a.reduce((y,b)=>y.add(b.key),ue()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=jr(),M=ue();return u.Os.getEntries(y,h).next(R=>{b=R,b.forEach((k,W)=>{W.isValidDocument()||(M=M.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(R=>{p=R;let k=[];for(let W of a){let Q=I3(W,p.get(W.key).overlayedDocument);Q!=null&&k.push(new cr(W.key,Q,$P(Q.value.mapValue),xr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{m=R;let k=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:m.batchId,changes:JP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new je(se)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,n),await ol(r,i.changes),await Yp(r.remoteStore)}catch(i){let o=qw(i,"Failed to persist write");n.reject(o)}}async function SO(t,e){let n=te(t);try{let r=await G3(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Eu.get(o);s&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Te(s.lu,14607):i.removedDocuments.size>0&&(Te(s.lu,42227),s.lu=!1))}),await ol(n,r,e)}catch(r){await Oa(r)}}function sP(t,e,n){let r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=te(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&Gw(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yG(t,e,n){let r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new je(z.comparator);s=s.insert(o,On.newNoDocument(o,ie.min()));let a=ue().add(o),u=new yp(ie.min(),new Map,new je(se),s,a);await SO(r,u),r.du=r.du.remove(o),r.Eu.delete(e),Kw(r)}else await QI(r.localStore,e,!1).then(()=>mw(r,e,n)).catch(Oa)}async function vG(t,e){let n=te(t),r=e.batch.batchId;try{let i=await q3(n.localStore,e);RO(n,r,null),AO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ol(n,i)}catch(i){await Oa(i)}}async function _G(t,e,n){let r=te(t);try{let i=await(function(s,a){let u=te(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);RO(r,e,n),AO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ol(r,i)}catch(i){await Oa(i)}}function AO(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function RO(t,e,n){let r=te(t),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function mw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||MO(t,r)})}function MO(t,e){t.Iu.delete(e.path.canonicalString());let n=t.du.get(e);n!==null&&(Bw(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),Kw(t))}function aP(t,e,n){for(let r of n)r instanceof Op?(t.Au.addReference(r.key,e),EG(t,r)):r instanceof xp?(j(Ww,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||MO(t,r.key)):G(19791,{yu:r})}function EG(t,e){let n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(j(Ww,"New document in limbo: "+n),t.Iu.add(r),Kw(t))}function Kw(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){let e=t.Iu.values().next().value;t.Iu.delete(e);let n=new z(ke.fromString(e)),r=t.mu.next();t.Eu.set(r,new pw(n)),t.du=t.du.insert(n,r),vO(t.remoteStore,new Zu(or(Lw(n.path)),r,"TargetPurposeLimboResolution",Rw.ue))}}async function ol(t,e,n){let r=te(t),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=qI.Es(u.targetId,l);o.push(p)}}))}),await Promise.all(s),r.hu.J_(i),await(async function(u,l){let h=te(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!xa(p))throw p;j(Uw,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),b=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(b);h.Fs=h.Fs.insert(m,M)}}})(r.localStore,o))}async function IG(t,e){let n=te(t);if(!n.currentUser.isEqual(e)){j(Ww,"User change. New user:",e.toKey());let r=await mO(n.localStore,e);n.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new V(N.CANCELLED,s))})}),o.Vu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ol(n,r.Bs)}}function wG(t,e){let n=te(t),r=n.Eu.get(e);if(r&&r.lu)return ue().add(r.key);{let i=ue(),o=n.Tu.get(e);if(!o)return i;for(let s of o){let a=n.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function NO(t){let e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wG.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yG.bind(null,e),e.hu.J_=uG.bind(null,e.eventManager),e.hu.pu=lG.bind(null,e.eventManager),e}function TG(t){let e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_G.bind(null,e),e}var PO=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=Kp(n.databaseInfo.databaseId),this.sharedClientState=this.bu(n),this.persistence=this.Du(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Cu(n,this.localStore),this.indexBackfillerScheduler=this.Fu(n,this.localStore)}Cu(n,r){return null}Fu(n,r){return null}vu(n){return z3(this.persistence,new WI,n.initialUser,this.serializer)}Du(n){return new Tp(zI.Vi,this.serializer)}bu(n){return new YI}async terminate(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}return t.provider={build:()=>new t},t})(),yw=class extends PO{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Te(this.persistence.referenceDelegate instanceof bp,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new NI(r,e.asyncQueue,n)}Du(e){let n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new Tp(r=>bp.Vi(r,n),this.serializer)}};var bG=(()=>{class t{async initialize(n,r){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>sP(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=IG.bind(null,this.syncEngine),await cG(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return(function(){return new lw})()}createDatastore(n){let r=Kp(n.databaseInfo.databaseId),i=(function(s){return new tw(s)})(n.databaseInfo);return(function(s,a,u,l){return new ow(s,a,u,l)})(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return(function(i,o,s,a,u){return new aw(i,o,s,a,u)})(this.localStore,this.datastore,n.asyncQueue,r=>sP(this.syncEngine,r,0),(function(){return Dp.C()?new Dp:new ZI})())}createSyncEngine(n,r){return(function(o,s,a,u,l,h,p){let m=new gw(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}async terminate(){var n,r;await(async function(o){let s=te(o);j(Ho,"RemoteStore shutting down."),s.Ia.add(5),await il(s),s.Ea.shutdown(),s.Aa.set("Unknown")})(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}return t.provider={build:()=>new t},t})();var kp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):kr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ci="FirestoreClient",vw=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=zu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{j(Ci,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(j(Ci,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=qw(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function HE(t,e){t.asyncQueue.verifyOperationInProgress(),j(Ci,"Initializing OfflineComponentProvider");let n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{wi("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{j("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{wi("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function cP(t,e){t.asyncQueue.verifyOperationInProgress();let n=await CG(t);j(Ci,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rP(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>rP(e.remoteStore,i)),t._onlineComponents=e}async function CG(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){j(Ci,"Using user provided OfflineComponentProvider");try{await HE(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;wi("Error using user provided cache. Falling back to memory cache: "+n),await HE(t,new PO)}}else j(Ci,"Using default OfflineComponentProvider"),await HE(t,new yw(void 0));return t._offlineComponents}async function OO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(j(Ci,"Using user provided OnlineComponentProvider"),await cP(t,t._uninitializedComponentsProvider._online)):(j(Ci,"Using default OnlineComponentProvider"),await cP(t,new bG))),t._onlineComponents}function DG(t){return OO(t).then(e=>e.syncEngine)}async function _w(t){let e=await OO(t),n=e.eventManager;return n.onListen=dG.bind(null,e.syncEngine),n.onUnlisten=pG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=gG.bind(null,e.syncEngine),n}function SG(t,e,n={}){let r=new nr;return t.asyncQueue.enqueueAndForget(async()=>(function(o,s,a,u,l){let h=new kp({next:m=>{h.Ou(),s.enqueueAndForget(()=>CO(o,p)),m.fromCache&&u.source==="server"?l.reject(new V(N.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(m)},error:m=>l.reject(m)}),p=new Pp(a,h,{includeMetadataChanges:!0,ka:!0});return bO(o,p)})(await _w(t),t.asyncQueue,e,n,r)),r.promise}function xO(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var uP=new Map;var kO="firestore.googleapis.com",lP=!0,Fp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new V(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kO,this.ssl=lP}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gO;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B3)throw new V(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new V(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ma=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fp({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new V(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new V(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fp(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new zE;switch(r.type){case"firstParty":return new KE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new V(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){let r=uP.get(n);r&&(j("ComponentProvider","Removing Datastore"),uP.delete(n),r.terminate())})(this),Promise.resolve()}};function FO(t,e,n,r={}){var i;t=rr(t,Ma);let o=wo(e),s=t._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:t._getEmulatorOptions()}),u=`${e}:${n}`;o&&(Q_(`https://${u}`),Y_("Firestore",!0)),s.host!==kO&&s.host!==u&&wi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!To(l,a)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=ut.MOCK_USER;else{h=IM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new V(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ut(m)}t._authCredentials=new qE(new up(h,p))}}var zo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Et=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}toJSON(){return{type:t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(rl(n,t._jsonSchema))return new t(e,r||null,new z(ke.fromString(n.referencePath)))}};Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Xe("string",Et._jsonSchemaVersion),referencePath:Xe("string")};var vi=class t extends zo{constructor(e,n,r){super(e,n,Lw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function LO(t,e,...n){if(t=_t(t),vP("collection","path",e),t instanceof Ma){let r=ke.fromString(e,...n);return AN(r),new vi(t,null,r)}{if(!(t instanceof Et||t instanceof vi))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return AN(r),new vi(t.firestore,null,r)}}function Qw(t,e,...n){if(t=_t(t),arguments.length===1&&(e=zu.newId()),vP("doc","path",e),t instanceof Ma){let r=ke.fromString(e,...n);return SN(r),new Et(t,null,new z(r))}{if(!(t instanceof Et||t instanceof vi))throw new V(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return SN(r),new Et(t.firestore,t instanceof vi?t.converter:null,new z(r))}}var dP="AsyncQueue",Lp=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Sp(this,"async_queue_retry"),this.oc=()=>{let r=$E();r&&j(dP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let n=$E();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let n=$E();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let n=new nr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!xa(e))throw e;j(dP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){let n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,kr("INTERNAL UNHANDLED ERROR: ",hP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);let i=cw.createAndSchedule(this,e,n,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&G(47125,{hc:hP(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(let n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let n=this.ec.indexOf(e);this.ec.splice(n,1)}};function hP(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}function fP(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(t,["next","error","complete"])}var Ur=class extends Ma{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Lp,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Lp(e),this._firestoreClient=void 0,await e}}};function VO(t,e){let n=typeof t=="object"?t:ca(),r=typeof t=="string"?t:e||pp,i=Lf(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=_M("firestore");o&&FO(i,...o)}return i}function Yw(t){if(t._terminated)throw new V(N.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||AG(t),t._firestoreClient}function AG(t){var e,n,r;let i=t._freezeSettings(),o=(function(a,u,l,h){return new XE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,xO(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new vw(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(t._componentsProvider))}var _i=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Mt.fromBase64String(e))}catch(n){throw new V(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:t._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(rl(e,t._jsonSchema))return t.fromBase64String(e.bytes)}};_i._jsonSchemaVersion="firestore/bytes/1.0",_i._jsonSchema={type:Xe("string",_i._jsonSchemaVersion),bytes:Xe("string")};var Na=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new V(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var el=class{constructor(e){this._methodName=e}};var Ei=class t{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new V(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new V(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:t._jsonSchemaVersion}}static fromJSON(e){if(rl(e,t._jsonSchema))return new t(e.latitude,e.longitude)}};Ei._jsonSchemaVersion="firestore/geoPoint/1.0",Ei._jsonSchema={type:Xe("string",Ei._jsonSchemaVersion),latitude:Xe("number"),longitude:Xe("number")};var Ii=class t{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:t._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(rl(e,t._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new t(e.vectorValues);throw new V(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Xe("string",Ii._jsonSchemaVersion),vectorValues:Xe("object")};var RG=/^__.*__$/,Ew=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new $o(e,this.data,n,this.fieldTransforms)}},Vp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new cr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function jO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G(40011,{Ec:t})}}var Iw=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return Up(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(jO(this.Ec)&&RG.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},ww=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kp(e)}Dc(e,n,r,i=!1){return new Iw({Ec:e,methodName:n,bc:r,path:sn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Zw(t){let e=t._freezeSettings(),n=Kp(t._databaseId);return new ww(t._databaseId,!!e.ignoreUndefinedProperties,n)}function MG(t,e,n,r,i,o={}){let s=t.Dc(o.merge||o.mergeFields?2:0,e,n,i);Jw("Data must be an object, but it was:",s,r);let a=UO(r,s),u,l;if(o.merge)u=new vn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=Tw(e,p,n);if(!s.contains(m))throw new V(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);$O(h,m)||h.push(m)}u=new vn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new Ew(new on(a),u,l)}var jp=class t extends el{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function NG(t,e,n,r){let i=t.Dc(1,e,n);Jw("Data must be an object, but it was:",i,r);let o=[],s=on.empty();Di(r,(u,l)=>{let h=Xw(e,u,n);l=_t(l);let p=i.gc(h);if(l instanceof jp)o.push(h);else{let m=sl(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new vn(o);return new Vp(s,a,i.fieldTransforms)}function PG(t,e,n,r,i,o){let s=t.Dc(1,e,n),a=[Tw(e,r,n)],u=[i];if(o.length%2!=0)throw new V(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Tw(e,o[m])),u.push(o[m+1]);let l=[],h=on.empty();for(let m=a.length-1;m>=0;--m)if(!$O(l,a[m])){let y=a[m],b=u[m];b=_t(b);let M=s.gc(y);if(b instanceof jp)l.push(y);else{let R=sl(b,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new vn(l);return new Vp(h,p,s.fieldTransforms)}function OG(t,e,n,r=!1){return sl(n,t.Dc(r?4:3,e))}function sl(t,e){if(BO(t=_t(t)))return Jw("Unsupported field value:",e,t),UO(t,e);if(t instanceof el)return(function(r,i){if(!jO(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=sl(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m3(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=et.fromDate(r);return{timestampValue:Ip(i.serializer,o)}}if(r instanceof et){let o=new et(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(i.serializer,o)}}if(r instanceof Ei)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof _i)return{bytesValue:cO(i.serializer,r._byteString)};if(r instanceof Et){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ii)return(function(s,a){return{mapValue:{fields:{[Pw]:{stringValue:Ow},[Ea]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return Vw(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${Hp(r)}`)})(t,e)}function UO(t,e){let n={};return xP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Di(t,(r,i)=>{let o=sl(i,e.Vc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof et||t instanceof Ei||t instanceof _i||t instanceof Et||t instanceof el||t instanceof Ii)}function Jw(t,e,n){if(!BO(n)||!_P(n)){let r=Hp(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Tw(t,e,n){if((e=_t(e))instanceof Na)return e._internalPath;if(typeof e=="string")return Xw(t,e);throw Up("Field path arguments must be of type string or ",t,!1,void 0,n)}var xG=new RegExp("[~\\*/\\[\\]]");function Xw(t,e,n){if(e.search(xG)>=0)throw Up(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Na(...e.split("."))._internalPath}catch{throw Up(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Up(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new V(N.INVALID_ARGUMENT,a+t+u)}function $O(t,e){return t.some(n=>n.isEqual(e))}var Bp=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new bw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(eT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},bw=class extends Bp{data(){return super.data()}};function eT(t,e){return typeof e=="string"?Xw(t,e):e instanceof Na?e._internalPath:e._delegate._internalPath}function HO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new V(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var tl=class{},Cw=class extends tl{};function zO(t,e,...n){let r=[];e instanceof tl&&r.push(e),r=r.concat(n),(function(o){let s=o.filter(u=>u instanceof Dw).length,a=o.filter(u=>u instanceof $p).length;if(s>1||s>0&&a>0)throw new V(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)t=i._apply(t);return t}var $p=class t extends Cw{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return GO(e._query,n),new zo(e.firestore,e.converter,hI(e._query,n))}_parse(e){let n=Zw(e.firestore);return(function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new V(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gP(p,h);let b=[];for(let M of p)b.push(pP(u,o,M));m={arrayValue:{values:b}}}else m=pP(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gP(p,h),m=OG(a,s,p,h==="in"||h==="not-in");return Je.create(l,h,m)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function qO(t,e,n){let r=e,i=eT("where",t);return $p._create(i,r,n)}var Dw=class t extends tl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:xn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)GO(s,u),s=hI(s,u)})(e._query,n),new zo(e.firestore,e.converter,hI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function pP(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new V(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KP(e)&&n.indexOf("/")!==-1)throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!z.isDocumentKey(r))throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return kN(t,new z(r))}if(n instanceof Et)return kN(t,n._key);throw new V(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hp(n)}.`)}function gP(t,e){if(!Array.isArray(t)||t.length===0)throw new V(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GO(t,e){let n=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new V(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var Sw=class{convertValue(e,n="none"){switch(Ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Lr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw G(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Di(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ea].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>xe(s.doubleValue));return new Ii(o)}convertGeoPoint(e){return new Ei(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=qp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wu(e));default:return null}}convertTimestamp(e){let n=Fr(e);return new et(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Te(pO(r),9688,{name:e});let i=new gp(r.get(1),r.get(3)),o=new z(r.popFirst(5));return i.isEqual(n)||kr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function kG(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var xo=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ko=class t extends Bp{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new va(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(eT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,n={};return n.type=t._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",ko._jsonSchema={type:Xe("string",ko._jsonSchemaVersion),bundleSource:Xe("string","DocumentSnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var va=class extends ko{data(e={}){return super.data(e)}},Fo=class t{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new va(this._firestore,this._userDataWriter,r.key,r,new xo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new V(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new va(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new va(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:FG(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new V(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=t._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function FG(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G(61501,{type:t})}}Fo._jsonSchemaVersion="firestore/querySnapshot/1.0",Fo._jsonSchema={type:Xe("string",Fo._jsonSchemaVersion),bundleSource:Xe("string","QuerySnapshot"),bundleName:Xe("string"),bundle:Xe("string")};var nl=class extends Sw{constructor(e){super(),this.firestore=e}convertBytes(e){return new _i(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}};function WO(t){t=rr(t,zo);let e=rr(t.firestore,Ur),n=Yw(e),r=new nl(e);return HO(t._query),SG(n,t._query).then(i=>new Fo(e,r,t,i))}function KO(t,e,n,...r){t=rr(t,Et);let i=rr(t.firestore,Ur),o=Zw(i),s;return s=typeof(e=_t(e))=="string"||e instanceof Na?PG(o,"updateDoc",t._key,e,n,r):NG(o,"updateDoc",t._key,e),nT(i,[s.toMutation(t._key,xr.exists(!0))])}function QO(t){return nT(rr(t.firestore,Ur),[new Qu(t._key,xr.none())])}function YO(t,e){let n=rr(t.firestore,Ur),r=Qw(t),i=kG(t.converter,e);return nT(n,[MG(Zw(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function tT(t,...e){var n,r,i;t=_t(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||fP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(fP(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Et)l=rr(t.firestore,Ur),h=Lw(t._key.path),u={next:p=>{e[s]&&e[s](LG(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=rr(t,zo);l=rr(p.firestore,Ur),h=p._query;let m=new nl(l);u={next:y=>{e[s]&&e[s](new Fo(l,m,p,y))},error:e[s+1],complete:e[s+2]},HO(t._query)}return(function(m,y,b,M){let R=new kp(M),k=new Pp(y,R,b);return m.asyncQueue.enqueueAndForget(async()=>bO(await _w(m),k)),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(async()=>CO(await _w(m),k))}})(Yw(l),h,a,u)}function nT(t,e){return(function(r,i){let o=new nr;return r.asyncQueue.enqueueAndForget(async()=>mG(await DG(r),i,o)),o.promise})(Yw(t),e)}function LG(t,e,n){let r=n.docs.get(e._key),i=new nl(t);return new ko(t,i,e._key,r,new xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Pa=i})(aa),Nn(new Lt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Ur(new GE(r.getProvider("auth-internal")),new QE(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new V(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gp(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ze(TN,bN,e),ze(TN,bN,"esm2017")})();var Zp=function(){return Zp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zp.apply(this,arguments)};var UG={includeMetadataChanges:!1};function rT(t,e){return e===void 0&&(e=UG),new K(function(n){var r=tT(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function ZO(t){return rT(t,{includeMetadataChanges:!0})}function JO(t,e){return e===void 0&&(e={}),ZO(t).pipe(B(function(n){return iT(n,e)}))}function iT(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Zp(Zp({},r),(n={},n[e.idField]=t.id,n))}function XO(t){return rT(t,{includeMetadataChanges:!0}).pipe(B(function(e){return e.docs}))}function ex(t,e){return e===void 0&&(e={}),XO(t).pipe(B(function(n){return n.map(function(r){return iT(r,e)})}))}var Go=class{constructor(e){return e}},tx="firestore",oT=class{constructor(){return la(tx)}};var sT=new L("angularfire2.firestore-instances");function BG(t,e){let n=Uf(tx,t,e);return n&&new Go(n)}function $G(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Go(r)}}var HG={provide:oT,deps:[[new zn,sT]]},zG={provide:Go,useFactory:BG,deps:[[new zn,sT],Ao]};function nx(t,...e){return ze("angularfire",Do.full,"fst"),ot([zG,HG,{provide:sT,useFactory:$G(t),multi:!0,deps:[ge,Ve,So,Nu,[new zn,ep],[new zn,$f],...e]}])}var rx=At(ex,!0);var ix=At(JO,!0);var ox=At(YO,!0,2);var sx=At(LO,!0,2);var ax=At(QO,!0,2);var Jp=At(Qw,!0,2);var cx=At(WO,!0);var ux=At(VO,!0);var lx=At(zO,!0,2);var dx=At(KO,!0,2);var hx=At(qO,!0,2);var Xp=class t{firestore=S(Go);usersCollection=sx(this.firestore,"utenti");getAll(){return rx(this.usersCollection,{idField:"id"})}getById(e){let n=Jp(this.firestore,`utenti/${e}`);return ix(n,{idField:"id"})}getByCodiceFiscale(e){let n=lx(this.usersCollection,hx("codiceFiscale","==",e.toUpperCase()));return Ce(cx(n)).pipe(B(r=>{if(r.empty)return null;let i=r.docs[0];return O({id:i.id},i.data())}))}create(e){let n=Z(O({},e),{codiceFiscale:e.codiceFiscale.toUpperCase()});return Ce(ox(this.usersCollection,n)).pipe(B(r=>r.id))}update(e,n){let r=Jp(this.firestore,`utenti/${e}`),i=n.codiceFiscale?Z(O({},n),{codiceFiscale:n.codiceFiscale.toUpperCase()}):n;return Ce(dx(r,i))}delete(e){let n=Jp(this.firestore,`utenti/${e}`);return Ce(ax(n))}checkCodiceFiscaleExists(e){return this.getByCodiceFiscale(e).pipe(B(n=>n!==null))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};var Si=class t{userService=S(Xp);router=S(Ht);platformId=S(wr);currentUserSignal=Oe(null);currentUser=this.currentUserSignal.asReadonly();STORAGE_KEY="currentUser";isBrowser;constructor(){this.isBrowser=F0(this.platformId),this.isBrowser&&this.loadUserFromStorage()}login(e,n,r){return this.userService.getByCodiceFiscale(r).pipe(B(i=>i?i.nome.toLowerCase()!==e.toLowerCase()||i.cognome.toLowerCase()!==n.toLowerCase()?{success:!1,message:"Nome o cognome non corrispondono al codice fiscale."}:(this.setCurrentUser(i),{success:!0,user:i}):{success:!1,message:"Utente non trovato. Registrati per continuare."}),Ut(i=>(console.error("Errore durante il login:",i),H({success:!1,message:"Errore durante il login. Riprova."}))))}loginByCodiceFiscale(e){return this.userService.getByCodiceFiscale(e).pipe(B(n=>n?(this.setCurrentUser(n),{success:!0,user:n}):{success:!1,message:"Utente non trovato. Registrati per continuare."}),Ut(n=>(console.error("Errore durante il login:",n),H({success:!1,message:"Errore durante il login. Riprova."}))))}register(e){return this.userService.checkCodiceFiscaleExists(e.codiceFiscale).pipe(B(n=>{if(n)throw new Error("Codice fiscale gi\xE0 registrato. Usa il login per accedere.");return n}),Ue(()=>{}),B(()=>(this.userService.create(e).subscribe({next:n=>{let r=Z(O({},e),{id:n});this.setCurrentUser(r)},error:n=>{console.error("Errore durante la registrazione:",n)}}),{success:!0})),Ut(n=>(console.error("Errore durante la registrazione:",n),H({success:!1,message:n.message||"Errore durante la registrazione. Riprova."}))))}logout(){this.currentUserSignal.set(null),this.isBrowser&&localStorage.removeItem(this.STORAGE_KEY),this.router.navigate(["/login"])}isAuthenticated(){return this.currentUserSignal()!==null}setCurrentUser(e){this.currentUserSignal.set(e),this.isBrowser&&localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadUserFromStorage(){if(!this.isBrowser)return;let e=localStorage.getItem(this.STORAGE_KEY);if(e)try{let n=JSON.parse(e);this.currentUserSignal.set(n)}catch(n){console.error("Errore nel parsing dell'utente salvato:",n),localStorage.removeItem(this.STORAGE_KEY)}}static \u0275fac=function(n){return new(n||t)};static \u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"})};function qG(t,e){if(t&1){let n=Uc();X(0,"div",8),Se(1,"i",20),we(2),X(3,"button",21),kt("click",function(){Yi(n);let i=An();return Zi(i.errorMessage.set(null))}),ve()()}if(t&2){let n=An();Re(2),Qn(" ",n.errorMessage()," ")}}function GG(t,e){if(t&1){let n=Uc();X(0,"div",9),Se(1,"i",22),we(2),X(3,"button",21),kt("click",function(){Yi(n);let i=An();return Zi(i.successMessage.set(null))}),ve()()}if(t&2){let n=An();Re(2),Qn(" ",n.successMessage()," ")}}function WG(t,e){if(t&1){let n=Uc();X(0,"div",11)(1,"div",12)(2,"input",23),Hs("ngModelChange",function(i){Yi(n);let o=An();return Hc(o.nome,i)||(o.nome=i),Zi(i)}),ve(),X(3,"label",24),Se(4,"i",25),we(5,"Nome "),ve()(),X(6,"div",12)(7,"input",26),Hs("ngModelChange",function(i){Yi(n);let o=An();return Hc(o.cognome,i)||(o.cognome=i),Zi(i)}),ve(),X(8,"label",27),Se(9,"i",25),we(10,"Cognome "),ve()()()}if(t&2){let n=An();Re(2),$s("ngModel",n.nome),Re(5),$s("ngModel",n.cognome)}}function KG(t,e){if(t&1&&(Se(0,"span",28),we(1)),t&2){let n=An();Re(),Qn(" ",n.isRegisterMode()?"Registrazione...":"Accesso..."," ")}}function QG(t,e){if(t&1&&(Se(0,"i",29),we(1)),t&2){let n=An();Dr("bi-box-arrow-in-right",!n.isRegisterMode())("bi-person-plus-fill",n.isRegisterMode()),Re(),Qn(" ",n.isRegisterMode()?"Registrati":"Accedi"," ")}}var eg=class t{authService=S(Si);router=S(Ht);isRegisterMode=Oe(!1);isLoading=Oe(!1);errorMessage=Oe(null);successMessage=Oe(null);currentYear=new Date().getFullYear();nome="";cognome="";codiceFiscale="";toggleMode(){this.isRegisterMode.update(e=>!e),this.clearMessages(),this.nome="",this.cognome="",this.codiceFiscale=""}onSubmit(){if(this.clearMessages(),!this.codiceFiscale.trim()){this.errorMessage.set("Inserisci il codice fiscale.");return}if(this.codiceFiscale.length!==16){this.errorMessage.set("Il codice fiscale deve essere di 16 caratteri.");return}if(this.isRegisterMode()&&(!this.nome.trim()||!this.cognome.trim())){this.errorMessage.set("Inserisci nome e cognome.");return}this.isLoading.set(!0),this.isRegisterMode()?this.handleRegister():this.handleLogin()}handleLogin(){this.authService.loginByCodiceFiscale(this.codiceFiscale.toUpperCase()).subscribe({next:e=>{this.isLoading.set(!1),e.success?(this.successMessage.set("Login effettuato con successo!"),setTimeout(()=>{this.router.navigate(["/"])},500)):this.errorMessage.set(e.message||"Errore durante il login.")},error:e=>{this.isLoading.set(!1),this.errorMessage.set("Errore durante il login. Riprova."),console.error("Errore login:",e)}})}handleRegister(){let e={nome:this.nome.trim().toUpperCase(),cognome:this.cognome.trim().toUpperCase(),codiceFiscale:this.codiceFiscale.trim().toUpperCase(),email:"",dataDiNascita:new Date,annoConseguimentoPatente:this.currentYear};this.authService.register(e).subscribe({next:n=>{this.isLoading.set(!1),n.success?(this.successMessage.set("Registrazione completata! Accesso in corso..."),setTimeout(()=>{this.router.navigate(["/"])},1e3)):this.errorMessage.set(n.message||"Errore durante la registrazione.")},error:n=>{this.isLoading.set(!1),this.errorMessage.set("Errore durante la registrazione. Riprova."),console.error("Errore registrazione:",n)}})}clearMessages(){this.errorMessage.set(null),this.successMessage.set(null)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-login"]],decls:27,vars:11,consts:[[1,"login-container"],[1,"login-card"],[1,"card-header"],[1,"logo"],[1,"bi","bi-car-front-fill"],[1,"title"],[1,"subtitle"],[1,"card-body"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[3,"ngSubmit"],[1,"register-fields"],[1,"form-floating","mb-3"],["type","text","id","codiceFiscale","placeholder","Codice Fiscale","name","codiceFiscale","maxlength","16","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","codiceFiscale"],[1,"bi","bi-credit-card-fill","me-2"],["type","submit",1,"btn","btn-primary","btn-lg","w-100","mb-3",3,"disabled"],[1,"text-center"],[1,"toggle-text"],["type","button",1,"btn","btn-link",3,"click","disabled"],[1,"bi","bi-exclamation-circle-fill","me-2"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-check-circle-fill","me-2"],["type","text","id","nome","placeholder","Nome","name","nome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","nome"],[1,"bi","bi-person-fill","me-2"],["type","text","id","cognome","placeholder","Cognome","name","cognome","required","",1,"form-control","text-uppercase",3,"ngModelChange","ngModel"],["for","cognome"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"me-2"]],template:function(n,r){n&1&&(X(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Se(4,"i",4),ve(),X(5,"h2",5),we(6),ve(),X(7,"p",6),we(8),ve()(),X(9,"div",7),Tr(10,qG,4,1,"div",8),Tr(11,GG,4,1,"div",9),X(12,"form",10),kt("ngSubmit",function(){return r.onSubmit()}),Tr(13,WG,11,2,"div",11),X(14,"div",12)(15,"input",13),Hs("ngModelChange",function(o){return Hc(r.codiceFiscale,o)||(r.codiceFiscale=o),o}),ve(),X(16,"label",14),Se(17,"i",15),we(18,"Codice Fiscale "),ve()(),X(19,"button",16),Tr(20,KG,2,1)(21,QG,2,5),ve()(),X(22,"div",17)(23,"p",18),we(24),X(25,"button",19),kt("click",function(){return r.toggleMode()}),we(26),ve()()()()()()),n&2&&(Re(6),$c(r.isRegisterMode()?"Registrati":"Benvenuto"),Re(2),$c(r.isRegisterMode()?"Crea il tuo account":"Accedi al tuo account"),Re(2),br(r.errorMessage()?10:-1),Re(),br(r.successMessage()?11:-1),Re(2),br(r.isRegisterMode()?13:-1),Re(2),$s("ngModel",r.codiceFiscale),Re(4),Cr("disabled",r.isLoading()),Re(),br(r.isLoading()?20:21),Re(4),Qn(" ",r.isRegisterMode()?"Hai gi\xE0 un account?":"Non hai un account?"," "),Re(),Cr("disabled",r.isLoading()),Re(),Qn(" ",r.isRegisterMode()?"Accedi":"Registrati"," "))},dependencies:[fM,dM,Rf,iM,oM,$_,H_,B_,U_,Yn],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#667eea,#764ba2);padding:2rem 1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]{width:100%;max-width:500px;background:#fff;border-radius:20px;box-shadow:0 20px 60px #0000004d;overflow:hidden;animation:_ngcontent-%COMP%_slideUp .5s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:3rem 2rem 2rem;text-align:center}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{filter:drop-shadow(0 4px 6px rgba(0,0,0,.2))}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem;letter-spacing:-.5px}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:1rem;opacity:.9;margin:0}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:2rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]{margin-bottom:1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:2px solid #e2e8f0;border-radius:10px;padding:1.5rem .75rem .5rem;height:auto;min-height:58px;font-size:1rem;line-height:1.5;transition:all .3s ease;text-transform:uppercase}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%]{transform:scale(.85) translateY(-.75rem) translate(.15rem)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding:1rem .75rem;color:#64748b;transform-origin:0 0;transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.6}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .register-fields[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border:none;border-radius:10px;padding:1rem;font-weight:600;font-size:1.1rem;transition:all .3s ease;box-shadow:0 4px 15px #667eea66}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px #667eea80}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{opacity:.7;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]{color:#64748b;margin:0}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{color:#667eea;text-decoration:none;font-weight:600;padding:0 .25rem;transition:all .3s ease}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover:not(:disabled){color:#764ba2;text-decoration:underline}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .toggle-text[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:10px;border:none;animation:_ngcontent-%COMP%_slideDown .3s ease-out}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ff6b6b,#ee5a6f);color:#fff}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#51cf66,#40c057);color:#fff}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert.alert-success[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;max-height:0}to{opacity:1;max-height:500px}}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}@media (max-width: 576px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:2rem 1.5rem 1.5rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:3rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:1.5rem}.login-container[_ngcontent-%COMP%]   .login-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}}"]})};var tg=(t,e)=>{let n=S(Si),r=S(Ht);return n.isAuthenticated()?!0:r.createUrlTree(["/login"])};var fx=[{path:"login",component:eg},{path:"",component:vf,canActivate:[tg]},{path:"elenco-auto",component:_f,canActivate:[tg]},{path:"nuova-auto",component:Ef,canActivate:[tg]},{path:"**",redirectTo:"login"}];var aT="Service workers are disabled or not supported by this browser",Fa=class{serviceWorker;worker;registration;events;constructor(e,n){if(this.serviceWorker=e,!e)this.worker=this.events=this.registration=new K(r=>r.error(new F(5601,!1)));else{let r=null,i=new Ne;this.worker=new K(l=>(r!==null&&l.next(r),i.subscribe(h=>l.next(h))));let o=()=>{let{controller:l}=e;l!==null&&(r=l,i.next(r))};e.addEventListener("controllerchange",o),o(),this.registration=this.worker.pipe(tt(()=>e.getRegistration().then(l=>{if(!l)throw new F(5601,!1);return l})));let s=new Ne;this.events=s.asObservable();let a=l=>{let{data:h}=l;h?.type&&s.next(h)};e.addEventListener("message",a),n?.get(at,null,{optional:!0})?.onDestroy(()=>{e.removeEventListener("controllerchange",o),e.removeEventListener("message",a)})}}postMessage(e,n){return new Promise(r=>{this.worker.pipe(Ot(1)).subscribe(i=>{i.postMessage(O({action:e},n)),r()})})}postMessageWithOperation(e,n,r){let i=this.waitForOperationCompleted(r),o=this.postMessage(e,n);return Promise.all([o,i]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(e){let n;return typeof e=="string"?n=r=>r.type===e:n=r=>e.includes(r.type),this.events.pipe(We(n))}nextEventOfType(e){return this.eventsOfType(e).pipe(Ot(1))}waitForOperationCompleted(e){return new Promise((n,r)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(We(i=>i.nonce===e),Ot(1),B(i=>{if(i.result!==void 0)return i.result;throw new Error(i.error)})).subscribe({next:n,error:r})})}get isEnabled(){return!!this.serviceWorker}},YG=(()=>{class t{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new Ne;constructor(n){if(this.sw=n,!n.isEnabled){this.messages=fr,this.notificationClicks=fr,this.notificationCloses=fr,this.pushSubscriptionChanges=fr,this.subscription=fr;return}this.messages=this.sw.eventsOfType("PUSH").pipe(B(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(B(i=>i.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(B(i=>i.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(B(i=>i.data)),this.pushManager=this.sw.registration.pipe(B(i=>i.pushManager));let r=this.pushManager.pipe(tt(i=>i.getSubscription()));this.subscription=new K(i=>{let o=r.subscribe(i),s=this.subscriptionChanges.subscribe(i);return()=>{o.unsubscribe(),s.unsubscribe()}})}requestSubscription(n){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(aT));let r={userVisibleOnly:!0},i=this.decodeBase64(n.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),o=new Uint8Array(new ArrayBuffer(i.length));for(let s=0;s<i.length;s++)o[s]=i.charCodeAt(s);return r.applicationServerKey=o,new Promise((s,a)=>{this.pushManager.pipe(tt(u=>u.subscribe(r)),Ot(1)).subscribe({next:u=>{this.subscriptionChanges.next(u),s(u)},error:a})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(aT));let n=r=>{if(r===null)throw new F(5602,!1);return r.unsubscribe().then(i=>{if(!i)throw new F(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((r,i)=>{this.subscription.pipe(Ot(1),tt(n)).subscribe({next:r,error:i})})}decodeBase64(n){return atob(n)}static \u0275fac=function(r){return new(r||t)(J(Fa))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})(),ZG=(()=>{class t{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(n){if(this.sw=n,!n.isEnabled){this.versionUpdates=fr,this.unrecoverable=fr;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(aT));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let n=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:n},n).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new F(5601,!1));let n=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:n},n)}static \u0275fac=function(r){return new(r||t)(J(Fa))};static \u0275prov=U({token:t,factory:t.\u0275fac})}return t})();var gx=new L("");function JG(){let t=S(al);if(!("serviceWorker"in navigator&&t.enabled!==!1))return;let e=S(gx),n=S(ge),r=S(at);n.runOutsideAngular(()=>{let i=navigator.serviceWorker,o=()=>i.controller?.postMessage({action:"INITIALIZE"});i.addEventListener("controllerchange",o),r.onDestroy(()=>{i.removeEventListener("controllerchange",o)})}),n.runOutsideAngular(()=>{let i,{registrationStrategy:o}=t;if(typeof o=="function")i=new Promise(s=>o().subscribe(()=>s()));else{let[s,...a]=(o||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":i=Promise.resolve();break;case"registerWithDelay":i=px(+a[0]||0);break;case"registerWhenStable":i=Promise.race([r.whenStable(),px(+a[0])]);break;default:throw new F(5600,!1)}}i.then(()=>{r.destroyed||navigator.serviceWorker.register(e,{scope:t.scope,updateViaCache:t.updateViaCache,type:t.type}).catch(s=>console.error(Ln(5604,!1)))})})}function px(t){return new Promise(e=>setTimeout(e,t))}function XG(t,e){return new Fa(t.enabled!==!1?navigator.serviceWorker:void 0,e)}var al=class{enabled;updateViaCache;type;scope;registrationStrategy};function mx(t,e={}){return ot([YG,ZG,{provide:gx,useValue:t},{provide:al,useValue:e},{provide:Fa,useFactory:XG,deps:[al,Ve]},Rh(JG)])}var yx={production:!0,firebase:{apiKey:"",authDomain:"",projectId:"",storageBucket:"",messagingSenderId:"",appId:""}};var vx={providers:[Zm(),Fv(),O_(fx),Q0(K0()),mx("ngsw-worker.js",{enabled:!Gc(),registrationStrategy:"registerWhenStable:30000"}),GM(()=>WM(yx.firebase)),nx(()=>ux())]};var e6=()=>({exact:!0}),ng=class t{authService=S(Si);isMobileMenuOpen=Oe(!1);toggleMobileMenu(){this.isMobileMenuOpen.update(e=>!e)}closeMobileMenu(){this.isMobileMenuOpen.set(!1)}logout(){this.closeMobileMenu(),this.authService.logout()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-header"]],decls:32,vars:2,consts:[[1,"mobile-navbar","d-lg-none"],[1,"container-fluid"],[1,"d-flex","justify-content-between","align-items-center","py-3"],[1,"app-title","mb-0"],[1,"bi","bi-car-front-fill","me-2"],["type","button",1,"btn","btn-link","logout-btn-mobile",3,"click"],[1,"bi","bi-box-arrow-right"],[1,"sidebar","d-none","d-lg-flex"],[1,"sidebar-header"],[1,"app-title"],[1,"bi","bi-car-front-fill"],[1,"ms-2"],[1,"sidebar-nav"],["routerLink","/","routerLinkActive","active",1,"nav-link",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"ms-3"],["routerLink","/elenco-auto","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-card-list"],["routerLink","/nuova-auto","routerLinkActive","active",1,"nav-link"],[1,"bi","bi-plus-circle-fill"],[1,"sidebar-footer"],["type","button",1,"logout-btn",3,"click"]],template:function(n,r){n&1&&(X(0,"nav",0)(1,"div",1)(2,"div",2)(3,"h1",3),Se(4,"i",4),we(5," Car Handler "),ve(),X(6,"button",5),kt("click",function(){return r.logout()}),Se(7,"i",6),ve()()()(),X(8,"aside",7)(9,"div",8)(10,"h1",9),Se(11,"i",10),X(12,"span",11),we(13,"Car Handler"),ve()()(),X(14,"nav",12)(15,"a",13),Se(16,"i",14),X(17,"span",15),we(18,"Homepage"),ve()(),X(19,"a",16),Se(20,"i",17),X(21,"span",15),we(22,"Elenco Auto"),ve()(),X(23,"a",18),Se(24,"i",19),X(25,"span",15),we(26,"Nuova Auto"),ve()()(),X(27,"div",20)(28,"button",21),kt("click",function(){return r.logout()}),Se(29,"i",6),X(30,"span",11),we(31,"Logout"),ve()()()()),n&2&&(Re(15),Cr("routerLinkActiveOptions",zc(1,e6)))},dependencies:[fi,_u,Yn],styles:['.mobile-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;background:linear-gradient(135deg,#667eea,#764ba2);box-shadow:0 2px 10px #0000001a;z-index:1030}.mobile-navbar[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;letter-spacing:-.5px}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%], .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]{color:#fff;font-size:1.8rem;padding:0;border:none;transition:transform .3s ease}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]:hover, .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.mobile-navbar[_ngcontent-%COMP%]   .menu-toggle[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .mobile-navbar[_ngcontent-%COMP%]   .logout-btn-mobile[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:280px;height:100vh;background:linear-gradient(180deg,#667eea,#764ba2);box-shadow:2px 0 15px #0000001a;flex-direction:column;z-index:1000;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]{padding:2rem 1.5rem;border-bottom:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;display:flex;align-items:center;letter-spacing:-.5px;margin:0}.sidebar[_ngcontent-%COMP%]   .sidebar-header[_ngcontent-%COMP%]   .app-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]{flex:1;padding:1.5rem 0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:1rem 1.5rem;color:#fffc;font-weight:500;text-decoration:none;transition:all .3s cubic-bezier(.4,0,.2,1);border-left:3px solid transparent;position:relative;overflow:hidden}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:0;height:100%;background:#ffffff1a;transition:width .3s ease;z-index:0}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;z-index:1}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.3rem;transition:transform .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#fff;background:#ffffff0d;transform:translate(5px)}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{width:100%}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.2) rotate(5deg)}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background:#ffffff26;border-left-color:#fff;font-weight:600;box-shadow:inset 0 0 15px #0000001a}.sidebar[_ngcontent-%COMP%]   .sidebar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;right:1rem;top:50%;transform:translateY(-50%);width:8px;height:8px;background:#fff;border-radius:50%;box-shadow:0 0 10px #ffffff80}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]{padding:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;padding:.875rem 1rem;background:#ffffff1a;color:#fff;border:1px solid rgba(255,255,255,.2);border-radius:10px;font-weight:600;font-size:1rem;cursor:pointer;transition:all .3s ease}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background:#fff3;border-color:#ffffff4d;transform:translateY(-2px);box-shadow:0 4px 12px #0003}.sidebar[_ngcontent-%COMP%]   .sidebar-footer[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_pulse{0%,to{transform:scale(1)}50%{transform:scale(1.05)}}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#0000001a}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:3px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}']})};var t6=()=>({exact:!0}),rg=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-footer"]],decls:13,vars:2,consts:[[1,"bottom-nav","d-lg-none"],["routerLink","/","routerLinkActive","active",1,"nav-item",3,"routerLinkActiveOptions"],[1,"bi","bi-house-fill"],[1,"nav-label"],["routerLink","/elenco-auto","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-card-list"],["routerLink","/nuova-auto","routerLinkActive","active",1,"nav-item"],[1,"bi","bi-plus-circle-fill"]],template:function(n,r){n&1&&(X(0,"nav",0)(1,"a",1),Se(2,"i",2),X(3,"span",3),we(4,"Home"),ve()(),X(5,"a",4),Se(6,"i",5),X(7,"span",3),we(8,"Elenco"),ve()(),X(9,"a",6),Se(10,"i",7),X(11,"span",3),we(12,"Nuova"),ve()()()),n&2&&(Re(),Cr("routerLinkActiveOptions",zc(1,t6)))},dependencies:[fi,_u,Yn],styles:['.bottom-nav[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;right:0;height:65px;background:#fff;box-shadow:0 -2px 10px #0000001a;display:flex;justify-content:space-around;align-items:center;z-index:1000;padding:.5rem 0}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;text-decoration:none;color:#94a3b8;transition:all .3s ease;padding:.5rem;position:relative}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:.25rem;transition:all .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-size:.75rem;font-weight:500;transition:all .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:50%;transform:translate(-50%) scaleX(0);width:40px;height:3px;background:linear-gradient(135deg,#667eea,#764ba2);border-radius:0 0 3px 3px;transition:transform .3s ease}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#667eea}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]:before{transform:translate(-50%) scaleX(1)}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transform:translateY(-2px) scale(1.1)}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{font-weight:600}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:active{transform:scale(.95)}@media (max-width: 991.98px){[_nghost-%COMP%]{display:block}}']})};function n6(t,e){t&1&&Se(0,"app-header")}function r6(t,e){t&1&&Se(0,"app-footer")}var ig=class t{router=S(Ht);title=Oe("car-handler-pwa");isLoginPage=Oe(!1);constructor(){this.checkRoute(this.router.url),this.router.events.pipe(We(e=>e instanceof nn)).subscribe(e=>{this.checkRoute(e.url)})}checkRoute(e){this.isLoginPage.set(e.includes("/login"))}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=yt({type:t,selectors:[["app-root"]],decls:4,vars:4,template:function(n,r){n&1&&(Tr(0,n6,1,0,"app-header"),X(1,"main"),Se(2,"router-outlet"),ve(),Tr(3,r6,1,0,"app-footer")),n&2&&(br(r.isLoginPage()?-1:0),Re(),Dr("login-main",r.isLoginPage()),Re(2),br(r.isLoginPage()?-1:3))},dependencies:[mu,ng,rg,Yn],styles:["main[_ngcontent-%COMP%]{padding:2rem 0}@media (min-width: 992px){main[_ngcontent-%COMP%]{margin-left:280px;min-height:100vh}}@media (max-width: 991.98px){main[_ngcontent-%COMP%]{margin-top:70px;margin-bottom:65px;min-height:calc(100vh - 135px)}}main.login-main[_ngcontent-%COMP%]{margin:0;padding:0;min-height:100vh}"]})};s_(ig,vx).catch(t=>console.error(t));
